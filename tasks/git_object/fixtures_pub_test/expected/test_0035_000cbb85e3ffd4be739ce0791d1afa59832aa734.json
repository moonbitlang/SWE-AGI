{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMDUgTGludXMgVG9ydmFsZHMKIwojIFJlc29sdmUgdHdvIHRyZWVzLgojCi4gZ2l0LXNoLXNldHVwLXNjcmlwdCB8fCBkaWUgIk5vdCBhIGdpdCBhcmNoaXZlIgoKdXNhZ2UgKCkgewoJZGllICJnaXQtcmVzb2x2ZS1zY3JpcHQgPGhlYWQ+IDxyZW1vdGU+IDxtZXJnZS1tZXNzYWdlPiIKfQoKZHJvcGhlYWRzKCkgewoJcm0gLWYgLS0gIiRHSVRfRElSL01FUkdFX0hFQUQiIFwKCQkiJEdJVF9ESVIvTEFTVF9NRVJHRSIgfHwgZXhpdCAxCn0KCmhlYWQ9JChnaXQtcmV2LXBhcnNlIC0tdmVyaWZ5ICIkMSJeMCkgJiYKbWVyZ2U9JChnaXQtcmV2LXBhcnNlIC0tdmVyaWZ5ICIkMiJeMCkgJiYKbWVyZ2VfbXNnPSIkMyIgfHwgdXNhZ2UKCiMKIyBUaGUgcmVtb3RlIG5hbWUgaXMganVzdCB1c2VkIGZvciB0aGUgbWVzc2FnZSwKIyBidXQgd2UgZG8gd2FudCBpdC4KIwppZiBbIC16ICIkaGVhZCIgLW8gLXogIiRtZXJnZSIgLW8gLXogIiRtZXJnZV9tc2ciIF07IHRoZW4KCXVzYWdlCmZpCgpkcm9waGVhZHMKZWNobyAkaGVhZCA+ICIkR0lUX0RJUiIvT1JJR19IRUFECmVjaG8gJG1lcmdlID4gIiRHSVRfRElSIi9MQVNUX01FUkdFCgpjb21tb249JChnaXQtbWVyZ2UtYmFzZSAkaGVhZCAkbWVyZ2UpCmlmIFsgLXogIiRjb21tb24iIF07IHRoZW4KCWRpZSAiVW5hYmxlIHRvIGZpbmQgY29tbW9uIGNvbW1pdCBiZXR3ZWVuIiAkbWVyZ2UgJGhlYWQKZmkKCmNhc2UgIiRjb21tb24iIGluCiIkbWVyZ2UiKQoJZWNobyAiQWxyZWFkeSB1cC10by1kYXRlLiBZZWVhaCEiCglkcm9waGVhZHMKCWV4aXQgMAoJOzsKIiRoZWFkIikKCWVjaG8gIlVwZGF0aW5nIGZyb20gJGhlYWQgdG8gJG1lcmdlLiIKCWdpdC1yZWFkLXRyZWUgLXUgLW0gJGhlYWQgJG1lcmdlIHx8IGV4aXQgMQoJZWNobyAkbWVyZ2UgPiAiJEdJVF9ESVIiL0hFQUQKCWdpdC1kaWZmLXRyZWUgLXAgJGhlYWQgJG1lcmdlIHwgZ2l0LWFwcGx5IC0tc3RhdAoJZHJvcGhlYWRzCglleGl0IDAKCTs7CmVzYWMKCiMgRmluZCBhbiBvcHRpbXVtIG1lcmdlIGJhc2UgaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgY2FuZGlkYXRlcy4KTEY9JwonCmNvbW1vbj0kKGdpdC1tZXJnZS1iYXNlIC1hICRoZWFkICRtZXJnZSkKY2FzZSAiJGNvbW1vbiIgaW4KPyoiJExGIj8qKQoJZWNobyAiVHJ5aW5nIHRvIGZpbmQgdGhlIG9wdGltdW0gbWVyZ2UgYmFzZS4iCglHPS50bXAtaW5kZXgkJAoJYmVzdD0KCWJlc3RfY250PS0xCglmb3IgYyBpbiAkY29tbW9uCglkbwoJCXJtIC1mICRHCgkJR0lUX0lOREVYX0ZJTEU9JEcgZ2l0LXJlYWQtdHJlZSAtbSAkYyAkaGVhZCAkbWVyZ2UgXAoJCQkyPi9kZXYvbnVsbCB8fCBjb250aW51ZQoJCSMgQ291bnQgdGhlIHBhdGhzIHRoYXQgYXJlIHVubWVyZ2VkLgoJCWNudD1gR0lUX0lOREVYX0ZJTEU9JEcgZ2l0LWxzLWZpbGVzIC0tdW5tZXJnZWQgfCB3YyAtbGAKCQlpZiB0ZXN0ICRiZXN0X2NudCAtbGUgMCAtbyAkY250IC1sZSAkYmVzdF9jbnQKCQl0aGVuCgkJCWJlc3Q9JGMKCQkJYmVzdF9jbnQ9JGNudAoJCQlpZiB0ZXN0ICIkYmVzdF9jbnQiIC1lcSAwCgkJCXRoZW4KCQkJCSMgQ2Fubm90IGRvIGFueSBiZXR0ZXIgdGhhbiBhbGwgdHJpdmlhbCBtZXJnZS4KCQkJCWJyZWFrCgkJCWZpCgkJZmkKCWRvbmUKCXJtIC1mICRHCgljb21tb249IiRiZXN0Igplc2FjCgplY2hvICJUcnlpbmcgdG8gbWVyZ2UgJG1lcmdlIGludG8gJGhlYWQgdXNpbmcgJGNvbW1vbi4iCmdpdC11cGRhdGUtY2FjaGUgLS1yZWZyZXNoIDI+L2Rldi9udWxsCmdpdC1yZWFkLXRyZWUgLXUgLW0gJGNvbW1vbiAkaGVhZCAkbWVyZ2UgfHwgZXhpdCAxCnJlc3VsdF90cmVlPSQoZ2l0LXdyaXRlLXRyZWUgIDI+IC9kZXYvbnVsbCkKaWYgWyAkPyAtbmUgMCBdOyB0aGVuCgllY2hvICJTaW1wbGUgbWVyZ2UgZmFpbGVkLCB0cnlpbmcgQXV0b21hdGljIG1lcmdlIgoJZ2l0LW1lcmdlLWNhY2hlIC1vIGdpdC1tZXJnZS1vbmUtZmlsZS1zY3JpcHQgLWEKCWlmIFsgJD8gLW5lIDAgXTsgdGhlbgoJCWVjaG8gJG1lcmdlID4gIiRHSVRfRElSIi9NRVJHRV9IRUFECgkJZGllICJBdXRvbWF0aWMgbWVyZ2UgZmFpbGVkLCBmaXggdXAgYnkgaGFuZCIKCWZpCglyZXN1bHRfdHJlZT0kKGdpdC13cml0ZS10cmVlKSB8fCBleGl0IDEKZmkKcmVzdWx0X2NvbW1pdD0kKGVjaG8gIiRtZXJnZV9tc2ciIHwgZ2l0LWNvbW1pdC10cmVlICRyZXN1bHRfdHJlZSAtcCAkaGVhZCAtcCAkbWVyZ2UpCmVjaG8gIkNvbW1pdHRlZCBtZXJnZSAkcmVzdWx0X2NvbW1pdCIKZWNobyAkcmVzdWx0X2NvbW1pdCA+ICIkR0lUX0RJUiIvSEVBRApnaXQtZGlmZi10cmVlIC1wICRoZWFkICRyZXN1bHRfY29tbWl0IHwgZ2l0LWFwcGx5IC0tc3RhdApkcm9waGVhZHMK",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2005 Linus Torvalds\n#\n# Resolve two trees.\n#\n. git-sh-setup-script || die \"Not a git archive\"\n\nusage () {\n\tdie \"git-resolve-script <head> <remote> <merge-message>\"\n}\n\ndropheads() {\n\trm -f -- \"$GIT_DIR/MERGE_HEAD\" \\\n\t\t\"$GIT_DIR/LAST_MERGE\" || exit 1\n}\n\nhead=$(git-rev-parse --verify \"$1\"^0) &&\nmerge=$(git-rev-parse --verify \"$2\"^0) &&\nmerge_msg=\"$3\" || usage\n\n#\n# The remote name is just used for the message,\n# but we do want it.\n#\nif [ -z \"$head\" -o -z \"$merge\" -o -z \"$merge_msg\" ]; then\n\tusage\nfi\n\ndropheads\necho $head > \"$GIT_DIR\"/ORIG_HEAD\necho $merge > \"$GIT_DIR\"/LAST_MERGE\n\ncommon=$(git-merge-base $head $merge)\nif [ -z \"$common\" ]; then\n\tdie \"Unable to find common commit between\" $merge $head\nfi\n\ncase \"$common\" in\n\"$merge\")\n\techo \"Already up-to-date. Yeeah!\"\n\tdropheads\n\texit 0\n\t;;\n\"$head\")\n\techo \"Updating from $head to $merge.\"\n\tgit-read-tree -u -m $head $merge || exit 1\n\techo $merge > \"$GIT_DIR\"/HEAD\n\tgit-diff-tree -p $head $merge | git-apply --stat\n\tdropheads\n\texit 0\n\t;;\nesac\n\n# Find an optimum merge base if there are more than one candidates.\nLF='\n'\ncommon=$(git-merge-base -a $head $merge)\ncase \"$common\" in\n?*\"$LF\"?*)\n\techo \"Trying to find the optimum merge base.\"\n\tG=.tmp-index$$\n\tbest=\n\tbest_cnt=-1\n\tfor c in $common\n\tdo\n\t\trm -f $G\n\t\tGIT_INDEX_FILE=$G git-read-tree -m $c $head $merge \\\n\t\t\t2>/dev/null || continue\n\t\t# Count the paths that are unmerged.\n\t\tcnt=`GIT_INDEX_FILE=$G git-ls-files --unmerged | wc -l`\n\t\tif test $best_cnt -le 0 -o $cnt -le $best_cnt\n\t\tthen\n\t\t\tbest=$c\n\t\t\tbest_cnt=$cnt\n\t\t\tif test \"$best_cnt\" -eq 0\n\t\t\tthen\n\t\t\t\t# Cannot do any better than all trivial merge.\n\t\t\t\tbreak\n\t\t\tfi\n\t\tfi\n\tdone\n\trm -f $G\n\tcommon=\"$best\"\nesac\n\necho \"Trying to merge $merge into $head using $common.\"\ngit-update-cache --refresh 2>/dev/null\ngit-read-tree -u -m $common $head $merge || exit 1\nresult_tree=$(git-write-tree  2> /dev/null)\nif [ $? -ne 0 ]; then\n\techo \"Simple merge failed, trying Automatic merge\"\n\tgit-merge-cache -o git-merge-one-file-script -a\n\tif [ $? -ne 0 ]; then\n\t\techo $merge > \"$GIT_DIR\"/MERGE_HEAD\n\t\tdie \"Automatic merge failed, fix up by hand\"\n\tfi\n\tresult_tree=$(git-write-tree) || exit 1\nfi\nresult_commit=$(echo \"$merge_msg\" | git-commit-tree $result_tree -p $head -p $merge)\necho \"Committed merge $result_commit\"\necho $result_commit > \"$GIT_DIR\"/HEAD\ngit-diff-tree -p $head $result_commit | git-apply --stat\ndropheads\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "000cbb85e3ffd4be739ce0791d1afa59832aa734",
  "sha1_ok": true,
  "size": 2391
}
