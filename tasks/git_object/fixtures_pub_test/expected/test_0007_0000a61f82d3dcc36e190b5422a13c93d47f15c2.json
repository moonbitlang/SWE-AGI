{
  "content": {
    "base64": "I2lmbmRlZiBMSVNUX09CSkVDVFNfRklMVEVSX09QVElPTlNfSAojZGVmaW5lIExJU1RfT0JKRUNUU19GSUxURVJfT1BUSU9OU19ICgojaW5jbHVkZSAicGFyc2Utb3B0aW9ucy5oIgoKLyoKICogVGhlIGxpc3Qgb2YgZGVmaW5lZCBmaWx0ZXJzIGZvciBsaXN0LW9iamVjdHMuCiAqLwplbnVtIGxpc3Rfb2JqZWN0c19maWx0ZXJfY2hvaWNlIHsKCUxPRkNfRElTQUJMRUQgPSAwLAoJTE9GQ19CTE9CX05PTkUsCglMT0ZDX0JMT0JfTElNSVQsCglMT0ZDX1NQQVJTRV9PSUQsCglMT0ZDX1NQQVJTRV9QQVRILAoJTE9GQ19fQ09VTlQgLyogbXVzdCBiZSBsYXN0ICovCn07CgpzdHJ1Y3QgbGlzdF9vYmplY3RzX2ZpbHRlcl9vcHRpb25zIHsKCS8qCgkgKiAnZmlsdGVyX3NwZWMnIGlzIHRoZSByYXcgYXJndW1lbnQgdmFsdWUgZ2l2ZW4gb24gdGhlIGNvbW1hbmQgbGluZQoJICogb3IgcHJvdG9jb2wgcmVxdWVzdC4gIChUaGUgcGFydCBhZnRlciB0aGUgIi0ta2V5d29yZD0iLikgIEZvcgoJICogY29tbWFuZHMgdGhhdCBsYXVuY2ggZmlsdGVyaW5nIHN1Yi1wcm9jZXNzZXMsIHRoaXMgdmFsdWUgc2hvdWxkIGJlCgkgKiBwYXNzZWQgdG8gdGhlbSBhcyByZWNlaXZlZCBieSB0aGUgY3VycmVudCBwcm9jZXNzLgoJICovCgljaGFyICpmaWx0ZXJfc3BlYzsKCgkvKgoJICogJ2Nob2ljZScgaXMgZGV0ZXJtaW5lZCBieSBwYXJzaW5nIHRoZSBmaWx0ZXItc3BlYy4gIFRoaXMgaW5kaWNhdGVzCgkgKiB0aGUgZmlsdGVyaW5nIGFsZ29yaXRobSB0byB1c2UuCgkgKi8KCWVudW0gbGlzdF9vYmplY3RzX2ZpbHRlcl9jaG9pY2UgY2hvaWNlOwoKCS8qCgkgKiBDaG9pY2UgaXMgTE9GQ19ESVNBQkxFRCBiZWNhdXNlICItLW5vLWZpbHRlciIgd2FzIHJlcXVlc3RlZC4KCSAqLwoJdW5zaWduZWQgaW50IG5vX2ZpbHRlciA6IDE7CgoJLyoKCSAqIFBhcnNlZCB2YWx1ZXMgKGZpZWxkcykgZnJvbSB3aXRoaW4gdGhlIGZpbHRlci1zcGVjLiAgVGhlc2UgYXJlCgkgKiBjaG9pY2Utc3BlY2lmaWM7IG5vdCBhbGwgdmFsdWVzIHdpbGwgYmUgZGVmaW5lZCBmb3IgYW55IGdpdmVuCgkgKiBjaG9pY2UuCgkgKi8KCXN0cnVjdCBvYmplY3RfaWQgKnNwYXJzZV9vaWRfdmFsdWU7CgljaGFyICpzcGFyc2VfcGF0aF92YWx1ZTsKCXVuc2lnbmVkIGxvbmcgYmxvYl9saW1pdF92YWx1ZTsKfTsKCi8qIE5vcm1hbGl6ZWQgY29tbWFuZCBsaW5lIGFyZ3VtZW50cyAqLwojZGVmaW5lIENMX0FSR19fRklMVEVSICJmaWx0ZXIiCgppbnQgcGFyc2VfbGlzdF9vYmplY3RzX2ZpbHRlcigKCXN0cnVjdCBsaXN0X29iamVjdHNfZmlsdGVyX29wdGlvbnMgKmZpbHRlcl9vcHRpb25zLAoJY29uc3QgY2hhciAqYXJnKTsKCmludCBvcHRfcGFyc2VfbGlzdF9vYmplY3RzX2ZpbHRlcihjb25zdCBzdHJ1Y3Qgb3B0aW9uICpvcHQsCgkJCQkgIGNvbnN0IGNoYXIgKmFyZywgaW50IHVuc2V0KTsKCiNkZWZpbmUgT1BUX1BBUlNFX0xJU1RfT0JKRUNUU19GSUxURVIoZm8pIFwKCXsgT1BUSU9OX0NBTExCQUNLLCAwLCBDTF9BUkdfX0ZJTFRFUiwgZm8sIE5fKCJhcmdzIiksIFwKCSAgTl8oIm9iamVjdCBmaWx0ZXJpbmciKSwgMCwgXAoJICBvcHRfcGFyc2VfbGlzdF9vYmplY3RzX2ZpbHRlciB9Cgp2b2lkIGxpc3Rfb2JqZWN0c19maWx0ZXJfcmVsZWFzZSgKCXN0cnVjdCBsaXN0X29iamVjdHNfZmlsdGVyX29wdGlvbnMgKmZpbHRlcl9vcHRpb25zKTsKCnN0YXRpYyBpbmxpbmUgdm9pZCBsaXN0X29iamVjdHNfZmlsdGVyX3NldF9ub19maWx0ZXIoCglzdHJ1Y3QgbGlzdF9vYmplY3RzX2ZpbHRlcl9vcHRpb25zICpmaWx0ZXJfb3B0aW9ucykKewoJbGlzdF9vYmplY3RzX2ZpbHRlcl9yZWxlYXNlKGZpbHRlcl9vcHRpb25zKTsKCWZpbHRlcl9vcHRpb25zLT5ub19maWx0ZXIgPSAxOwp9Cgp2b2lkIHBhcnRpYWxfY2xvbmVfcmVnaXN0ZXIoCgljb25zdCBjaGFyICpyZW1vdGUsCgljb25zdCBzdHJ1Y3QgbGlzdF9vYmplY3RzX2ZpbHRlcl9vcHRpb25zICpmaWx0ZXJfb3B0aW9ucyk7CnZvaWQgcGFydGlhbF9jbG9uZV9nZXRfZGVmYXVsdF9maWx0ZXJfc3BlYygKCXN0cnVjdCBsaXN0X29iamVjdHNfZmlsdGVyX29wdGlvbnMgKmZpbHRlcl9vcHRpb25zKTsKCiNlbmRpZiAvKiBMSVNUX09CSkVDVFNfRklMVEVSX09QVElPTlNfSCAqLwo=",
    "text": "#ifndef LIST_OBJECTS_FILTER_OPTIONS_H\n#define LIST_OBJECTS_FILTER_OPTIONS_H\n\n#include \"parse-options.h\"\n\n/*\n * The list of defined filters for list-objects.\n */\nenum list_objects_filter_choice {\n\tLOFC_DISABLED = 0,\n\tLOFC_BLOB_NONE,\n\tLOFC_BLOB_LIMIT,\n\tLOFC_SPARSE_OID,\n\tLOFC_SPARSE_PATH,\n\tLOFC__COUNT /* must be last */\n};\n\nstruct list_objects_filter_options {\n\t/*\n\t * 'filter_spec' is the raw argument value given on the command line\n\t * or protocol request.  (The part after the \"--keyword=\".)  For\n\t * commands that launch filtering sub-processes, this value should be\n\t * passed to them as received by the current process.\n\t */\n\tchar *filter_spec;\n\n\t/*\n\t * 'choice' is determined by parsing the filter-spec.  This indicates\n\t * the filtering algorithm to use.\n\t */\n\tenum list_objects_filter_choice choice;\n\n\t/*\n\t * Choice is LOFC_DISABLED because \"--no-filter\" was requested.\n\t */\n\tunsigned int no_filter : 1;\n\n\t/*\n\t * Parsed values (fields) from within the filter-spec.  These are\n\t * choice-specific; not all values will be defined for any given\n\t * choice.\n\t */\n\tstruct object_id *sparse_oid_value;\n\tchar *sparse_path_value;\n\tunsigned long blob_limit_value;\n};\n\n/* Normalized command line arguments */\n#define CL_ARG__FILTER \"filter\"\n\nint parse_list_objects_filter(\n\tstruct list_objects_filter_options *filter_options,\n\tconst char *arg);\n\nint opt_parse_list_objects_filter(const struct option *opt,\n\t\t\t\t  const char *arg, int unset);\n\n#define OPT_PARSE_LIST_OBJECTS_FILTER(fo) \\\n\t{ OPTION_CALLBACK, 0, CL_ARG__FILTER, fo, N_(\"args\"), \\\n\t  N_(\"object filtering\"), 0, \\\n\t  opt_parse_list_objects_filter }\n\nvoid list_objects_filter_release(\n\tstruct list_objects_filter_options *filter_options);\n\nstatic inline void list_objects_filter_set_no_filter(\n\tstruct list_objects_filter_options *filter_options)\n{\n\tlist_objects_filter_release(filter_options);\n\tfilter_options->no_filter = 1;\n}\n\nvoid partial_clone_register(\n\tconst char *remote,\n\tconst struct list_objects_filter_options *filter_options);\nvoid partial_clone_get_default_filter_spec(\n\tstruct list_objects_filter_options *filter_options);\n\n#endif /* LIST_OBJECTS_FILTER_OPTIONS_H */\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "0000a61f82d3dcc36e190b5422a13c93d47f15c2",
  "sha1_ok": false,
  "size": 2141
}
