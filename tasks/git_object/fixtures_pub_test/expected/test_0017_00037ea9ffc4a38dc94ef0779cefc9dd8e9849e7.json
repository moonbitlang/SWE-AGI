{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMTAsIFdpbGwgUGFsbWVyCiMgQ29weXJpZ2h0IChjKSAyMDExLCBBbGV4ZXkgU2h1bWtpbiAoKyBub24tVVRGLTggY29tbWl0IGVuY29kaW5nIHRlc3RzKQojCgp0ZXN0X2Rlc2NyaXB0aW9uPSdUZXN0IHByZXR0eSBmb3JtYXRzJwouIC4vdGVzdC1saWIuc2gKCiMgVGVzdGVkIG5vbi1VVEYtOCBlbmNvZGluZwp0ZXN0X2VuY29kaW5nPSJJU084ODU5LTEiCgpzYW1wbGVfdXRmOF9wYXJ0PSQocHJpbnRmICJmXDMwM1wyNDRuZyIpCgpjb21taXRfbXNnICgpIHsKCSMgU3RyaW5nICJpbml0aWFsLiBpbml0aWFsIiBwYXJ0bHkgaW4gR2VybWFuCgkjICh0cmFuc2xhdGVkIHdpdGggR29vZ2xlIFRyYW5zbGF0ZSksCgkjIGVuY29kZWQgaW4gVVRGLTgsIHVzZWQgYXMgYSBjb21taXQgbG9nIG1lc3NhZ2UgYmVsb3cuCgltc2c9ImluaXRpYWwuIGFuJHtzYW1wbGVfdXRmOF9wYXJ0fWxpY2hcbiIKCWlmIHRlc3QgLW4gIiQxIgoJdGhlbgoJCXByaW50ZiAiJG1zZyIgfCBpY29udiAtZiB1dGYtOCAtdCAiJDEiCgllbHNlCgkJcHJpbnRmICIkbXNnIgoJZmkKfQoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0IHVwIGJhc2ljIHJlcG9zJyAnCgk+Zm9vICYmCgk+YmFyICYmCglnaXQgYWRkIGZvbyAmJgoJdGVzdF90aWNrICYmCglnaXQgY29uZmlnIGkxOG4uY29tbWl0RW5jb2RpbmcgJHRlc3RfZW5jb2RpbmcgJiYKCWNvbW1pdF9tc2cgJHRlc3RfZW5jb2RpbmcgfCBnaXQgY29tbWl0IC1GIC0gJiYKCWdpdCBhZGQgYmFyICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLW0gImFkZCBiYXIiICYmCglnaXQgY29uZmlnIC0tdW5zZXQgaTE4bi5jb21taXRFbmNvZGluZwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhbGlhcyBidWlsdGluIGZvcm1hdCcgJwoJZ2l0IGxvZyAtLXByZXR0eT1vbmVsaW5lID5leHBlY3RlZCAmJgoJZ2l0IGNvbmZpZyBwcmV0dHkudGVzdC1hbGlhcyBvbmVsaW5lICYmCglnaXQgbG9nIC0tcHJldHR5PXRlc3QtYWxpYXMgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2FsaWFzIG1hc2tpbmcgYnVpbHRpbiBmb3JtYXQnICcKCWdpdCBsb2cgLS1wcmV0dHk9b25lbGluZSA+ZXhwZWN0ZWQgJiYKCWdpdCBjb25maWcgcHJldHR5Lm9uZWxpbmUgIiVIIiAmJgoJZ2l0IGxvZyAtLXByZXR0eT1vbmVsaW5lID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhbGlhcyB1c2VyLWRlZmluZWQgZm9ybWF0JyAnCglnaXQgbG9nIC0tcHJldHR5PSJmb3JtYXQ6JWgiID5leHBlY3RlZCAmJgoJZ2l0IGNvbmZpZyBwcmV0dHkudGVzdC1hbGlhcyAiZm9ybWF0OiVoIiAmJgoJZ2l0IGxvZyAtLXByZXR0eT10ZXN0LWFsaWFzID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhbGlhcyB1c2VyLWRlZmluZWQgdGZvcm1hdCB3aXRoICVzIChJU084ODU5LTEgZW5jb2RpbmcpJyAnCglnaXQgY29uZmlnIGkxOG4ubG9nT3V0cHV0RW5jb2RpbmcgJHRlc3RfZW5jb2RpbmcgJiYKCWdpdCBsb2cgLS1vbmVsaW5lID5leHBlY3RlZC1zICYmCglnaXQgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICVzIiA+YWN0dWFsLXMgJiYKCWdpdCBjb25maWcgLS11bnNldCBpMThuLmxvZ091dHB1dEVuY29kaW5nICYmCgl0ZXN0X2NtcCBleHBlY3RlZC1zIGFjdHVhbC1zCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2FsaWFzIHVzZXItZGVmaW5lZCB0Zm9ybWF0IHdpdGggJXMgKHV0Zi04IGVuY29kaW5nKScgJwoJZ2l0IGxvZyAtLW9uZWxpbmUgPmV4cGVjdGVkLXMgJiYKCWdpdCBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JWggJXMiID5hY3R1YWwtcyAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQtcyBhY3R1YWwtcwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhbGlhcyB1c2VyLWRlZmluZWQgdGZvcm1hdCcgJwoJZ2l0IGxvZyAtLXByZXR0eT0idGZvcm1hdDolaCIgPmV4cGVjdGVkICYmCglnaXQgY29uZmlnIHByZXR0eS50ZXN0LWFsaWFzICJ0Zm9ybWF0OiVoIiAmJgoJZ2l0IGxvZyAtLXByZXR0eT10ZXN0LWFsaWFzID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhbGlhcyBub24tZXhpc3RlbnQgZm9ybWF0JyAnCglnaXQgY29uZmlnIHByZXR0eS50ZXN0LWFsaWFzIGZvcm1hdC10aGF0LXdpbGwtbmV2ZXItZXhpc3QgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCBsb2cgLS1wcmV0dHk9dGVzdC1hbGlhcwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhbGlhcyBvZiBhbiBhbGlhcycgJwoJZ2l0IGxvZyAtLXByZXR0eT0idGZvcm1hdDolaCIgPmV4cGVjdGVkICYmCglnaXQgY29uZmlnIHByZXR0eS50ZXN0LWZvbyAidGZvcm1hdDolaCIgJiYKCWdpdCBjb25maWcgcHJldHR5LnRlc3QtYmFyIHRlc3QtZm9vICYmCglnaXQgbG9nIC0tcHJldHR5PXRlc3QtYmFyID5hY3R1YWwgJiYgdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2FsaWFzIG1hc2tpbmcgYW4gYWxpYXMnICcKCWdpdCBsb2cgLS1wcmV0dHk9Zm9ybWF0OiJUd28gJUgiID5leHBlY3RlZCAmJgoJZ2l0IGNvbmZpZyBwcmV0dHkuZHVwbGljYXRlICJmb3JtYXQ6T25lICVIIiAmJgoJZ2l0IGNvbmZpZyAtLWFkZCBwcmV0dHkuZHVwbGljYXRlICJmb3JtYXQ6VHdvICVIIiAmJgoJZ2l0IGxvZyAtLXByZXR0eT1kdXBsaWNhdGUgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2FsaWFzIGxvb3AnICcKCWdpdCBjb25maWcgcHJldHR5LnRlc3QtZm9vIHRlc3QtYmFyICYmCglnaXQgY29uZmlnIHByZXR0eS50ZXN0LWJhciB0ZXN0LWZvbyAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IGxvZyAtLXByZXR0eT10ZXN0LWZvbwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdOVUwgc2VwYXJhdGlvbicgJwoJcHJpbnRmICJhZGQgYmFyXDAkKGNvbW1pdF9tc2cpIiA+ZXhwZWN0ZWQgJiYKCWdpdCBsb2cgLXogLS1wcmV0dHk9ImZvcm1hdDolcyIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ05VTCB0ZXJtaW5hdGlvbicgJwoJcHJpbnRmICJhZGQgYmFyXDAkKGNvbW1pdF9tc2cpXDAiID5leHBlY3RlZCAmJgoJZ2l0IGxvZyAteiAtLXByZXR0eT0idGZvcm1hdDolcyIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ05VTCBzZXBhcmF0aW9uIHdpdGggLS1zdGF0JyAnCglzdGF0MF9wYXJ0PSQoZ2l0IGRpZmYgLS1zdGF0IEhFQUReIEhFQUQpICYmCglzdGF0MV9wYXJ0PSQoZ2l0IGRpZmYtdHJlZSAtLW5vLWNvbW1pdC1pZCAtLXN0YXQgLS1yb290IEhFQUReKSAmJgoJcHJpbnRmICJhZGQgYmFyXG4kc3RhdDBfcGFydFxuXDAkKGNvbW1pdF9tc2cpXG4kc3RhdDFfcGFydFxuIiA+ZXhwZWN0ZWQgJiYKCWdpdCBsb2cgLXogLS1zdGF0IC0tcHJldHR5PSJmb3JtYXQ6JXMiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9mYWlsdXJlICdOVUwgdGVybWluYXRpb24gd2l0aCAtLXN0YXQnICcKCXN0YXQwX3BhcnQ9JChnaXQgZGlmZiAtLXN0YXQgSEVBRF4gSEVBRCkgJiYKCXN0YXQxX3BhcnQ9JChnaXQgZGlmZi10cmVlIC0tbm8tY29tbWl0LWlkIC0tc3RhdCAtLXJvb3QgSEVBRF4pICYmCglwcmludGYgImFkZCBiYXJcbiRzdGF0MF9wYXJ0XG5cMCQoY29tbWl0X21zZylcbiRzdGF0MV9wYXJ0XG4wIiA+ZXhwZWN0ZWQgJiYKCWdpdCBsb2cgLXogLS1zdGF0IC0tcHJldHR5PSJ0Zm9ybWF0OiVzIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKZm9yIHAgaW4gc2hvcnQgbWVkaXVtIGZ1bGwgZnVsbGVyIGVtYWlsIHJhdwpkbwoJdGVzdF9leHBlY3Rfc3VjY2VzcyAiTlVMIHRlcm1pbmF0aW9uIHdpdGggLS1yZWZsb2cgLS1wcmV0dHk9JHAiICcKCQlyZXZzPSIkKGdpdCByZXYtbGlzdCAtLXJlZmxvZykiICYmCgkJZm9yIHIgaW4gJHJldnMKCQlkbwoJCQlnaXQgc2hvdyAtcyAiJHIiIC0tcHJldHR5PSIkcCIgJiYKCQkJcHJpbnRmICJcMCIgfHwgcmV0dXJuIDEKCQlkb25lID5leHBlY3QgJiYKCQl7CgkJCWdpdCBsb2cgLXogLS1yZWZsb2cgLS1wcmV0dHk9IiRwIiAmJgoJCQlwcmludGYgIlwwIgoJCX0gPmFjdHVhbCAmJgoJCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCScKZG9uZQoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnTlVMIHRlcm1pbmF0aW9uIHdpdGggLS1yZWZsb2cgLS1wcmV0dHk9b25lbGluZScgJwoJcmV2cz0iJChnaXQgcmV2LWxpc3QgLS1yZWZsb2cpIiAmJgoJZm9yIHIgaW4gJHJldnMKCWRvCgkJZ2l0IHNob3cgLXMgLS1wcmV0dHk9b25lbGluZSAiJHIiID5yYXcgJiYKCQljYXQgcmF3IHwgbGZfdG9fbnVsIHx8IHJldHVybiAxCglkb25lID5leHBlY3QgJiYKCSMgdGhlIHRyYWlsaW5nIE5VTCBpcyBhbHJlYWR5IHByb2R1Y2VkIHNvIHdlIGRvIG5vdCBuZWVkIHRvCgkjIG91dHB1dCBhbm90aGVyIG9uZQoJZ2l0IGxvZyAteiAtLXByZXR0eT1vbmVsaW5lIC0tcmVmbG9nID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0dXAgbW9yZSBjb21taXRzJyAnCgl0ZXN0X2NvbW1pdCAibWVzc2FnZSBvbmUiIG9uZSBvbmUgbWVzc2FnZS1vbmUgJiYKCXRlc3RfY29tbWl0ICJtZXNzYWdlIHR3byIgdHdvIHR3byBtZXNzYWdlLXR3byAmJgoJaGVhZDE9JChnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC0tc2hvcnQgSEVBRH4wKSAmJgoJaGVhZDI9JChnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC0tc2hvcnQgSEVBRH4xKSAmJgoJaGVhZDM9JChnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC0tc2hvcnQgSEVBRH4yKSAmJgoJaGVhZDQ9JChnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC0tc2hvcnQgSEVBRH4zKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdsZWZ0IGFsaWdubWVudCBmb3JtYXR0aW5nJyAnCglnaXQgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU8KDQwKSVzIiA+YWN0dWFsICYmCglxel90b190YWJfc3BhY2UgPDwtRU9GID5leHBlY3RlZCAmJgoJbWVzc2FnZSB0d28gICAgICAgICAgICAgICAgICAgICAgICAgICAgWgoJbWVzc2FnZSBvbmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgWgoJYWRkIGJhciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWgoJJChjb21taXRfbXNnKSAgICAgICAgICAgICAgICAgICAgWgoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbGVmdCBhbGlnbm1lbnQgZm9ybWF0dGluZy4gaTE4bi5sb2dPdXRwdXRFbmNvZGluZycgJwoJZ2l0IC1jIGkxOG4ubG9nT3V0cHV0RW5jb2Rpbmc9JHRlc3RfZW5jb2RpbmcgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU8KDQwKSVzIiA+YWN0dWFsICYmCglxel90b190YWJfc3BhY2UgPDwtRU9GIHwgaWNvbnYgLWYgdXRmLTggLXQgJHRlc3RfZW5jb2RpbmcgPmV4cGVjdGVkICYmCgltZXNzYWdlIHR3byAgICAgICAgICAgICAgICAgICAgICAgICAgICBaCgltZXNzYWdlIG9uZSAgICAgICAgICAgICAgICAgICAgICAgICAgICBaCglhZGQgYmFyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBaCgkkKGNvbW1pdF9tc2cpICAgICAgICAgICAgICAgICAgICBaCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdsZWZ0IGFsaWdubWVudCBmb3JtYXR0aW5nIGF0IHRoZSBudGggY29sdW1uJyAnCglnaXQgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICU8fCg0MCklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LUVPRiA+ZXhwZWN0ZWQgJiYKCSRoZWFkMSBtZXNzYWdlIHR3byAgICAgICAgICAgICAgICAgICAgWgoJJGhlYWQyIG1lc3NhZ2Ugb25lICAgICAgICAgICAgICAgICAgICBaCgkkaGVhZDMgYWRkIGJhciAgICAgICAgICAgICAgICAgICAgICAgIFoKCSRoZWFkNCAkKGNvbW1pdF9tc2cpICAgICAgICAgICAgWgoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbGVmdCBhbGlnbm1lbnQgZm9ybWF0dGluZyBhdCB0aGUgbnRoIGNvbHVtbicgJwoJQ09MVU1OUz01MCBnaXQgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICU8fCgtMTApJXMiID5hY3R1YWwgJiYKCXF6X3RvX3RhYl9zcGFjZSA8PC1FT0YgPmV4cGVjdGVkICYmCgkkaGVhZDEgbWVzc2FnZSB0d28gICAgICAgICAgICAgICAgICAgIFoKCSRoZWFkMiBtZXNzYWdlIG9uZSAgICAgICAgICAgICAgICAgICAgWgoJJGhlYWQzIGFkZCBiYXIgICAgICAgICAgICAgICAgICAgICAgICBaCgkkaGVhZDQgJChjb21taXRfbXNnKSAgICAgICAgICAgIFoKCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xlZnQgYWxpZ25tZW50IGZvcm1hdHRpbmcgYXQgdGhlIG50aCBjb2x1bW4uIGkxOG4ubG9nT3V0cHV0RW5jb2RpbmcnICcKCWdpdCAtYyBpMThuLmxvZ091dHB1dEVuY29kaW5nPSR0ZXN0X2VuY29kaW5nIGxvZyAtLXByZXR0eT0idGZvcm1hdDolaCAlPHwoNDApJXMiID5hY3R1YWwgJiYKCXF6X3RvX3RhYl9zcGFjZSA8PC1FT0YgfCBpY29udiAtZiB1dGYtOCAtdCAkdGVzdF9lbmNvZGluZyA+ZXhwZWN0ZWQgJiYKCSRoZWFkMSBtZXNzYWdlIHR3byAgICAgICAgICAgICAgICAgICAgWgoJJGhlYWQyIG1lc3NhZ2Ugb25lICAgICAgICAgICAgICAgICAgICBaCgkkaGVhZDMgYWRkIGJhciAgICAgICAgICAgICAgICAgICAgICAgIFoKCSRoZWFkNCAkKGNvbW1pdF9tc2cpICAgICAgICAgICAgWgoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbGVmdCBhbGlnbm1lbnQgZm9ybWF0dGluZyB3aXRoIG5vIHBhZGRpbmcnICcKCWdpdCBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JTwoMSklcyIgPmFjdHVhbCAmJgoJY2F0IDw8LUVPRiA+ZXhwZWN0ZWQgJiYKCW1lc3NhZ2UgdHdvCgltZXNzYWdlIG9uZQoJYWRkIGJhcgoJJChjb21taXRfbXNnKQoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbGVmdCBhbGlnbm1lbnQgZm9ybWF0dGluZyB3aXRoIG5vIHBhZGRpbmcuIGkxOG4ubG9nT3V0cHV0RW5jb2RpbmcnICcKCWdpdCAtYyBpMThuLmxvZ091dHB1dEVuY29kaW5nPSR0ZXN0X2VuY29kaW5nIGxvZyAtLXByZXR0eT0idGZvcm1hdDolPCgxKSVzIiA+YWN0dWFsICYmCgljYXQgPDwtRU9GIHwgaWNvbnYgLWYgdXRmLTggLXQgJHRlc3RfZW5jb2RpbmcgPmV4cGVjdGVkICYmCgltZXNzYWdlIHR3bwoJbWVzc2FnZSBvbmUKCWFkZCBiYXIKCSQoY29tbWl0X21zZykKCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xlZnQgYWxpZ25tZW50IGZvcm1hdHRpbmcgd2l0aCB0cnVuYycgJwoJZ2l0IGxvZyAtLXByZXR0eT0idGZvcm1hdDolPCgxMCx0cnVuYyklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LVxFT0YgPmV4cGVjdGVkICYmCgltZXNzYWdlIC4uCgltZXNzYWdlIC4uCglhZGQgYmFyICBaCglpbml0aWFsLi4uCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdsZWZ0IGFsaWdubWVudCBmb3JtYXR0aW5nIHdpdGggdHJ1bmMuIGkxOG4ubG9nT3V0cHV0RW5jb2RpbmcnICcKCWdpdCAtYyBpMThuLmxvZ091dHB1dEVuY29kaW5nPSR0ZXN0X2VuY29kaW5nIGxvZyAtLXByZXR0eT0idGZvcm1hdDolPCgxMCx0cnVuYyklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LVxFT0YgfCBpY29udiAtZiB1dGYtOCAtdCAkdGVzdF9lbmNvZGluZyA+ZXhwZWN0ZWQgJiYKCW1lc3NhZ2UgLi4KCW1lc3NhZ2UgLi4KCWFkZCBiYXIgIFoKCWluaXRpYWwuLi4KCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xlZnQgYWxpZ25tZW50IGZvcm1hdHRpbmcgd2l0aCBsdHJ1bmMnICcKCWdpdCBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JTwoMTAsbHRydW5jKSVzIiA+YWN0dWFsICYmCglxel90b190YWJfc3BhY2UgPDwtRU9GID5leHBlY3RlZCAmJgoJLi5zYWdlIHR3bwoJLi5zYWdlIG9uZQoJYWRkIGJhciAgWgoJLi4ke3NhbXBsZV91dGY4X3BhcnR9bGljaAoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbGVmdCBhbGlnbm1lbnQgZm9ybWF0dGluZyB3aXRoIGx0cnVuYy4gaTE4bi5sb2dPdXRwdXRFbmNvZGluZycgJwoJZ2l0IC1jIGkxOG4ubG9nT3V0cHV0RW5jb2Rpbmc9JHRlc3RfZW5jb2RpbmcgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU8KDEwLGx0cnVuYyklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LUVPRiB8IGljb252IC1mIHV0Zi04IC10ICR0ZXN0X2VuY29kaW5nID5leHBlY3RlZCAmJgoJLi5zYWdlIHR3bwoJLi5zYWdlIG9uZQoJYWRkIGJhciAgWgoJLi4ke3NhbXBsZV91dGY4X3BhcnR9bGljaAoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbGVmdCBhbGlnbm1lbnQgZm9ybWF0dGluZyB3aXRoIG10cnVuYycgJwoJZ2l0IGxvZyAtLXByZXR0eT0idGZvcm1hdDolPCgxMCxtdHJ1bmMpJXMiID5hY3R1YWwgJiYKCXF6X3RvX3RhYl9zcGFjZSA8PC1cRU9GID5leHBlY3RlZCAmJgoJbWVzcy4uIHR3bwoJbWVzcy4uIG9uZQoJYWRkIGJhciAgWgoJaW5pdC4ubGljaAoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbGVmdCBhbGlnbm1lbnQgZm9ybWF0dGluZyB3aXRoIG10cnVuYy4gaTE4bi5sb2dPdXRwdXRFbmNvZGluZycgJwoJZ2l0IC1jIGkxOG4ubG9nT3V0cHV0RW5jb2Rpbmc9JHRlc3RfZW5jb2RpbmcgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU8KDEwLG10cnVuYyklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LVxFT0YgfCBpY29udiAtZiB1dGYtOCAtdCAkdGVzdF9lbmNvZGluZyA+ZXhwZWN0ZWQgJiYKCW1lc3MuLiB0d28KCW1lc3MuLiBvbmUKCWFkZCBiYXIgIFoKCWluaXQuLmxpY2gKCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JpZ2h0IGFsaWdubWVudCBmb3JtYXR0aW5nJyAnCglnaXQgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU+KDQwKSVzIiA+YWN0dWFsICYmCglxel90b190YWJfc3BhY2UgPDwtRU9GID5leHBlY3RlZCAmJgoJWiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIHR3bwoJWiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIG9uZQoJWiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkIGJhcgoJWiAgICAgICAgICAgICAgICAgICAgJChjb21taXRfbXNnKQoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmlnaHQgYWxpZ25tZW50IGZvcm1hdHRpbmcuIGkxOG4ubG9nT3V0cHV0RW5jb2RpbmcnICcKCWdpdCAtYyBpMThuLmxvZ091dHB1dEVuY29kaW5nPSR0ZXN0X2VuY29kaW5nIGxvZyAtLXByZXR0eT0idGZvcm1hdDolPig0MCklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LUVPRiB8IGljb252IC1mIHV0Zi04IC10ICR0ZXN0X2VuY29kaW5nID5leHBlY3RlZCAmJgoJWiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIHR3bwoJWiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIG9uZQoJWiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkIGJhcgoJWiAgICAgICAgICAgICAgICAgICAgJChjb21taXRfbXNnKQoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmlnaHQgYWxpZ25tZW50IGZvcm1hdHRpbmcgYXQgdGhlIG50aCBjb2x1bW4nICcKCWdpdCBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JWggJT58KDQwKSVzIiA+YWN0dWFsICYmCglxel90b190YWJfc3BhY2UgPDwtRU9GID5leHBlY3RlZCAmJgoJJGhlYWQxICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgdHdvCgkkaGVhZDIgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSBvbmUKCSRoZWFkMyAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkIGJhcgoJJGhlYWQ0ICAgICAgICAgICAgICAkKGNvbW1pdF9tc2cpCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyaWdodCBhbGlnbm1lbnQgZm9ybWF0dGluZyBhdCB0aGUgbnRoIGNvbHVtbicgJwoJQ09MVU1OUz01MCBnaXQgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICU+fCgtMTApJXMiID5hY3R1YWwgJiYKCXF6X3RvX3RhYl9zcGFjZSA8PC1FT0YgPmV4cGVjdGVkICYmCgkkaGVhZDEgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSB0d28KCSRoZWFkMiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIG9uZQoJJGhlYWQzICAgICAgICAgICAgICAgICAgICAgICAgICBhZGQgYmFyCgkkaGVhZDQgICAgICAgICAgICAgICQoY29tbWl0X21zZykKCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JpZ2h0IGFsaWdubWVudCBmb3JtYXR0aW5nIGF0IHRoZSBudGggY29sdW1uLiBpMThuLmxvZ091dHB1dEVuY29kaW5nJyAnCglnaXQgLWMgaTE4bi5sb2dPdXRwdXRFbmNvZGluZz0kdGVzdF9lbmNvZGluZyBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JWggJT58KDQwKSVzIiA+YWN0dWFsICYmCglxel90b190YWJfc3BhY2UgPDwtRU9GIHwgaWNvbnYgLWYgdXRmLTggLXQgJHRlc3RfZW5jb2RpbmcgPmV4cGVjdGVkICYmCgkkaGVhZDEgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSB0d28KCSRoZWFkMiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIG9uZQoJJGhlYWQzICAgICAgICAgICAgICAgICAgICAgICAgICBhZGQgYmFyCgkkaGVhZDQgICAgICAgICAgICAgICQoY29tbWl0X21zZykKCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCiMgTm90ZTogU3BhY2UgYmV0d2VlbiAnbWVzc2FnZScgYW5kICd0d28nIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBjb2x1bW4KIyBhcyBpbiBwcmV2aW91cyB0ZXN0Lgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyaWdodCBhbGlnbm1lbnQgZm9ybWF0dGluZyBhdCB0aGUgbnRoIGNvbHVtbiB3aXRoIC0tZ3JhcGguIGkxOG4ubG9nT3V0cHV0RW5jb2RpbmcnICcKCWdpdCAtYyBpMThuLmxvZ091dHB1dEVuY29kaW5nPSR0ZXN0X2VuY29kaW5nIGxvZyAtLWdyYXBoIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICU+fCg0MCklcyIgPmFjdHVhbCAmJgoJaWNvbnYgLWYgdXRmLTggLXQgJHRlc3RfZW5jb2RpbmcgPmV4cGVjdGVkIDw8LUVPRiAmJgoJKiAkaGVhZDEgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgdHdvCgkqICRoZWFkMiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSBvbmUKCSogJGhlYWQzICAgICAgICAgICAgICAgICAgICAgICAgYWRkIGJhcgoJKiAkaGVhZDQgICAgICAgICAgICAkKGNvbW1pdF9tc2cpCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyaWdodCBhbGlnbm1lbnQgZm9ybWF0dGluZyB3aXRoIG5vIHBhZGRpbmcnICcKCWdpdCBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JT4oMSklcyIgPmFjdHVhbCAmJgoJY2F0IDw8LUVPRiA+ZXhwZWN0ZWQgJiYKCW1lc3NhZ2UgdHdvCgltZXNzYWdlIG9uZQoJYWRkIGJhcgoJJChjb21taXRfbXNnKQoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmlnaHQgYWxpZ25tZW50IGZvcm1hdHRpbmcgd2l0aCBubyBwYWRkaW5nIGFuZCB3aXRoIC0tZ3JhcGgnICcKCWdpdCBsb2cgLS1ncmFwaCAtLXByZXR0eT0idGZvcm1hdDolPigxKSVzIiA+YWN0dWFsICYmCgljYXQgPDwtRU9GID5leHBlY3RlZCAmJgoJKiBtZXNzYWdlIHR3bwoJKiBtZXNzYWdlIG9uZQoJKiBhZGQgYmFyCgkqICQoY29tbWl0X21zZykKCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JpZ2h0IGFsaWdubWVudCBmb3JtYXR0aW5nIHdpdGggbm8gcGFkZGluZy4gaTE4bi5sb2dPdXRwdXRFbmNvZGluZycgJwoJZ2l0IC1jIGkxOG4ubG9nT3V0cHV0RW5jb2Rpbmc9JHRlc3RfZW5jb2RpbmcgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU+KDEpJXMiID5hY3R1YWwgJiYKCWNhdCA8PC1FT0YgfCBpY29udiAtZiB1dGYtOCAtdCAkdGVzdF9lbmNvZGluZyA+ZXhwZWN0ZWQgJiYKCW1lc3NhZ2UgdHdvCgltZXNzYWdlIG9uZQoJYWRkIGJhcgoJJChjb21taXRfbXNnKQoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnY2VudGVyIGFsaWdubWVudCBmb3JtYXR0aW5nJyAnCglnaXQgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU+PCg0MCklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LUVPRiA+ZXhwZWN0ZWQgJiYKCVogICAgICAgICAgICAgbWVzc2FnZSB0d28gICAgICAgICAgICAgIFoKCVogICAgICAgICAgICAgbWVzc2FnZSBvbmUgICAgICAgICAgICAgIFoKCVogICAgICAgICAgICAgICBhZGQgYmFyICAgICAgICAgICAgICAgIFoKCVogICAgICAgICAkKGNvbW1pdF9tc2cpICAgICAgICAgIFoKCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2NlbnRlciBhbGlnbm1lbnQgZm9ybWF0dGluZy4gaTE4bi5sb2dPdXRwdXRFbmNvZGluZycgJwoJZ2l0IC1jIGkxOG4ubG9nT3V0cHV0RW5jb2Rpbmc9JHRlc3RfZW5jb2RpbmcgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU+PCg0MCklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LUVPRiB8IGljb252IC1mIHV0Zi04IC10ICR0ZXN0X2VuY29kaW5nID5leHBlY3RlZCAmJgoJWiAgICAgICAgICAgICBtZXNzYWdlIHR3byAgICAgICAgICAgICAgWgoJWiAgICAgICAgICAgICBtZXNzYWdlIG9uZSAgICAgICAgICAgICAgWgoJWiAgICAgICAgICAgICAgIGFkZCBiYXIgICAgICAgICAgICAgICAgWgoJWiAgICAgICAgICQoY29tbWl0X21zZykgICAgICAgICAgWgoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjZW50ZXIgYWxpZ25tZW50IGZvcm1hdHRpbmcgYXQgdGhlIG50aCBjb2x1bW4nICcKCWdpdCBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JWggJT48fCg0MCklcyIgPmFjdHVhbCAmJgoJcXpfdG9fdGFiX3NwYWNlIDw8LUVPRiA+ZXhwZWN0ZWQgJiYKCSRoZWFkMSAgICAgICAgICAgbWVzc2FnZSB0d28gICAgICAgICAgWgoJJGhlYWQyICAgICAgICAgICBtZXNzYWdlIG9uZSAgICAgICAgICBaCgkkaGVhZDMgICAgICAgICAgICAgYWRkIGJhciAgICAgICAgICAgIFoKCSRoZWFkNCAgICAgICAkKGNvbW1pdF9tc2cpICAgICAgWgoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnY2VudGVyIGFsaWdubWVudCBmb3JtYXR0aW5nIGF0IHRoZSBudGggY29sdW1uJyAnCglDT0xVTU5TPTcwIGdpdCBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JWggJT48fCgtMzApJXMiID5hY3R1YWwgJiYKCXF6X3RvX3RhYl9zcGFjZSA8PC1FT0YgPmV4cGVjdGVkICYmCgkkaGVhZDEgICAgICAgICAgIG1lc3NhZ2UgdHdvICAgICAgICAgIFoKCSRoZWFkMiAgICAgICAgICAgbWVzc2FnZSBvbmUgICAgICAgICAgWgoJJGhlYWQzICAgICAgICAgICAgIGFkZCBiYXIgICAgICAgICAgICBaCgkkaGVhZDQgICAgICAgJChjb21taXRfbXNnKSAgICAgIFoKCUVPRgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2NlbnRlciBhbGlnbm1lbnQgZm9ybWF0dGluZyBhdCB0aGUgbnRoIGNvbHVtbi4gaTE4bi5sb2dPdXRwdXRFbmNvZGluZycgJwoJZ2l0IC1jIGkxOG4ubG9nT3V0cHV0RW5jb2Rpbmc9JHRlc3RfZW5jb2RpbmcgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICU+PHwoNDApJXMiID5hY3R1YWwgJiYKCXF6X3RvX3RhYl9zcGFjZSA8PC1FT0YgfCBpY29udiAtZiB1dGYtOCAtdCAkdGVzdF9lbmNvZGluZyA+ZXhwZWN0ZWQgJiYKCSRoZWFkMSAgICAgICAgICAgbWVzc2FnZSB0d28gICAgICAgICAgWgoJJGhlYWQyICAgICAgICAgICBtZXNzYWdlIG9uZSAgICAgICAgICBaCgkkaGVhZDMgICAgICAgICAgICAgYWRkIGJhciAgICAgICAgICAgIFoKCSRoZWFkNCAgICAgICAkKGNvbW1pdF9tc2cpICAgICAgWgoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnY2VudGVyIGFsaWdubWVudCBmb3JtYXR0aW5nIHdpdGggbm8gcGFkZGluZycgJwoJZ2l0IGxvZyAtLXByZXR0eT0idGZvcm1hdDolPjwoMSklcyIgPmFjdHVhbCAmJgoJY2F0IDw8LUVPRiA+ZXhwZWN0ZWQgJiYKCW1lc3NhZ2UgdHdvCgltZXNzYWdlIG9uZQoJYWRkIGJhcgoJJChjb21taXRfbXNnKQoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKIyBzYXZlIEhFQUQncyBTSEEtMSBkaWdlc3QgKHdpdGggbm8gYWJicmV2aWF0aW9ucykgdG8gdXNlIGl0IGJlbG93CiMgYXMgZmFyIGFzIHRoZSBuZXh0IHRlc3QgYW1lbmRzIEhFQUQKb2xkX2hlYWQxPSQoZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSBIRUFEfjApCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2NlbnRlciBhbGlnbm1lbnQgZm9ybWF0dGluZyB3aXRoIG5vIHBhZGRpbmcuIGkxOG4ubG9nT3V0cHV0RW5jb2RpbmcnICcKCWdpdCAtYyBpMThuLmxvZ091dHB1dEVuY29kaW5nPSR0ZXN0X2VuY29kaW5nIGxvZyAtLXByZXR0eT0idGZvcm1hdDolPjwoMSklcyIgPmFjdHVhbCAmJgoJY2F0IDw8LUVPRiB8IGljb252IC1mIHV0Zi04IC10ICR0ZXN0X2VuY29kaW5nID5leHBlY3RlZCAmJgoJbWVzc2FnZSB0d28KCW1lc3NhZ2Ugb25lCglhZGQgYmFyCgkkKGNvbW1pdF9tc2cpCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdsZWZ0L3JpZ2h0IGFsaWdubWVudCBmb3JtYXR0aW5nIHdpdGggc3RlYWxpbmcnICcKCWdpdCBjb21taXQgLS1hbWVuZCAtbSBzaG9ydCAtLWF1dGhvciAibG9uZyBsb25nIGxvbmcgPGxvbmdAbWUuY29tPiIgJiYKCWdpdCBsb2cgLS1wcmV0dHk9InRmb3JtYXQ6JTwoMTAsdHJ1bmMpJXMlPj4oMTAsbHRydW5jKSUgYW4iID5hY3R1YWwgJiYKCWNhdCA8PC1cRU9GID5leHBlY3RlZCAmJgoJc2hvcnQgbG9uZyAgbG9uZyBsb25nCgltZXNzYWdlIC4uICAgQSBVIFRob3IKCWFkZCBiYXIgICAgICBBIFUgVGhvcgoJaW5pdGlhbC4uLiAgIEEgVSBUaG9yCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xlZnQvcmlnaHQgYWxpZ25tZW50IGZvcm1hdHRpbmcgd2l0aCBzdGVhbGluZy4gaTE4bi5sb2dPdXRwdXRFbmNvZGluZycgJwoJZ2l0IC1jIGkxOG4ubG9nT3V0cHV0RW5jb2Rpbmc9JHRlc3RfZW5jb2RpbmcgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiU8KDEwLHRydW5jKSVzJT4+KDEwLGx0cnVuYyklIGFuIiA+YWN0dWFsICYmCgljYXQgPDwtXEVPRiB8IGljb252IC1mIHV0Zi04IC10ICR0ZXN0X2VuY29kaW5nID5leHBlY3RlZCAmJgoJc2hvcnQgbG9uZyAgbG9uZyBsb25nCgltZXNzYWdlIC4uICAgQSBVIFRob3IKCWFkZCBiYXIgICAgICBBIFUgVGhvcgoJaW5pdGlhbC4uLiAgIEEgVSBUaG9yCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdHJidWZfdXRmOF9yZXBsYWNlKCkgbm90IHByb2R1Y2luZyBOVUwnICcKCWdpdCBsb2cgLS1jb2xvciAtLXByZXR0eT0idGZvcm1hdDolPCgxMCx0cnVuYyklcyU+PigxMCxsdHJ1bmMpJUMoYXV0byklZCIgfAoJCXRlc3RfZGVjb2RlX2NvbG9yIHwKCQludWxfdG9fcSA+YWN0dWFsICYmCgkhIGdyZXAgUSBhY3R1YWwKJwoKIyAtLWRhdGU9W1hYWF0gYW5kIGNvcnJlc3BvbmRpbmcgJWFbWF0gJWNbWF0gZm9ybWF0IGVxdWl2YWxlbmN5CnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJy0tZGF0ZT1pc28tc3RyaWN0ICVhZCVjZCBpcyB0aGUgc2FtZSBhcyAlYUklY0knICcKCWdpdCBsb2cgLS1mb3JtYXQ9JWFkJW4lY2QgLS1kYXRlPWlzby1zdHJpY3QgPmV4cGVjdGVkICYmCglnaXQgbG9nIC0tZm9ybWF0PSVhSSVuJWNJID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICctLWRhdGU9c2hvcnQgJWFkJWNkIGlzIHRoZSBzYW1lIGFzICVhcyVjcycgJwoJZ2l0IGxvZyAtLWZvcm1hdD0lYWQlbiVjZCAtLWRhdGU9c2hvcnQgPmV4cGVjdGVkICYmCglnaXQgbG9nIC0tZm9ybWF0PSVhcyVuJWNzID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICctLWRhdGU9aHVtYW4gJWFkJWNkIGlzIHRoZSBzYW1lIGFzICVhaCVjaCcgJwoJZ2l0IGxvZyAtLWZvcm1hdD0lYWQlbiVjZCAtLWRhdGU9aHVtYW4gPmV4cGVjdGVkICYmCglnaXQgbG9nIC0tZm9ybWF0PSVhaCVuJWNoID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgojIGdldCBuZXcgZGlnZXN0cyAod2l0aCBubyBhYmJyZXZpYXRpb25zKQp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzZXQgdXAgbG9nIGRlY29yYXRpb24gdGVzdHMnICcKCWhlYWQxPSQoZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSBIRUFEfjApICYmCgloZWFkMj0kKGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgSEVBRH4xKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdsb2cgZGVjb3JhdGlvbiBwcm9wZXJseSBmb2xsb3dzIHRhZyBjaGFpbicgJwoJZ2l0IHRhZyAtYSB0YWcxIC1tIHRhZzEgJiYKCWdpdCB0YWcgLWEgdGFnMiAtbSB0YWcyIHRhZzEgJiYKCWdpdCB0YWcgLWQgdGFnMSAmJgoJZ2l0IGNvbW1pdCAtLWFtZW5kIC1tIHNob3J0ZXIgJiYKCWdpdCBsb2cgLS1uby13YWxrIC0tdGFncyAtLXByZXR0eT0iJUggJWQiIC0tZGVjb3JhdGU9ZnVsbCA+YWN0dWFsICYmCgljYXQgPDwtRU9GID5leHBlY3RlZCAmJgoJJGhlYWQyICAodGFnOiByZWZzL3RhZ3MvbWVzc2FnZS1vbmUpCgkkb2xkX2hlYWQxICAodGFnOiByZWZzL3RhZ3MvbWVzc2FnZS10d28pCgkkaGVhZDEgICh0YWc6IHJlZnMvdGFncy90YWcyKQoJRU9GCglzb3J0IC1rMyBhY3R1YWwgPmFjdHVhbDEgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbDEKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnY2xlYW4gbG9nIGRlY29yYXRpb24nICcKCWdpdCBsb2cgLS1uby13YWxrIC0tdGFncyAtLXByZXR0eT0iJUggJUQiIC0tZGVjb3JhdGU9ZnVsbCA+YWN0dWFsICYmCgljYXQgPmV4cGVjdGVkIDw8LUVPRiAmJgoJJGhlYWQyIHRhZzogcmVmcy90YWdzL21lc3NhZ2Utb25lCgkkb2xkX2hlYWQxIHRhZzogcmVmcy90YWdzL21lc3NhZ2UtdHdvCgkkaGVhZDEgdGFnOiByZWZzL3RhZ3MvdGFnMgoJRU9GCglzb3J0IC1rMyBhY3R1YWwgPmFjdHVhbDEgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbDEKJwoKY2F0ID50cmFpbGVycyA8PEVPRgpTaWduZWQtb2ZmLWJ5OiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPgpBY2tlZC1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KWyB2MiB1cGRhdGVkIHBhdGNoIGRlc2NyaXB0aW9uIF0KU2lnbmVkLW9mZi1ieTogQSBVIFRob3IKICA8YXV0aG9yQGV4YW1wbGUuY29tPgpFT0YKCnVuZm9sZCAoKSB7CglwZXJsIC0wcGUgJ3MvXG5ccysvIC9nJwp9Cgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzZXQgdXAgdHJhaWxlciB0ZXN0cycgJwoJZWNobyAiU29tZSBjb250ZW50cyIgPnRyYWlsZXJmaWxlICYmCglnaXQgYWRkIHRyYWlsZXJmaWxlICYmCglnaXQgY29tbWl0IC1GIC0gPDwtRU9GCgl0cmFpbGVyczogdGhpcyBjb21taXQgbWVzc2FnZSBoYXMgdHJhaWxlcnMKCglUaGlzIGNvbW1pdCBpcyBhIHRlc3QgY29tbWl0IHdpdGggdHJhaWxlcnMgYXQgdGhlIGVuZC4gV2UgcGFyc2UgdGhpcwoJbWVzc2FnZSBhbmQgZGlzcGxheSB0aGUgdHJhaWxlcnMgdXNpbmcgJSh0cmFpbGVycykuCgoJJChjYXQgdHJhaWxlcnMpCglFT0YKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncHJldHR5IGZvcm1hdCAlKHRyYWlsZXJzKSBzaG93cyB0cmFpbGVycycgJwoJZ2l0IGxvZyAtLW5vLXdhbGsgLS1wcmV0dHk9IiUodHJhaWxlcnMpIiA+YWN0dWFsICYmCgl7CgkJY2F0IHRyYWlsZXJzICYmCgkJZWNobwoJfSA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3ByZXR0eSBmb3JtYXQgJSh0cmFpbGVyczopIGVuYWJsZXMgbm8gb3B0aW9ucycgJwoJZ2l0IGxvZyAtLW5vLXdhbGsgLS1wcmV0dHk9IiUodHJhaWxlcnM6KSIgPmFjdHVhbCAmJgoJIyAiZXhwZWN0IiB0aGUgc2FtZSBhcyB0aGUgdGVzdCBhYm92ZQoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclKHRyYWlsZXJzOm9ubHkpIHNob3dzIG9ubHkgImtleTogdmFsdWUiIHRyYWlsZXJzJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT0iJSh0cmFpbGVyczpvbmx5KSIgPmFjdHVhbCAmJgoJewoJCWdyZXAgLXYgcGF0Y2guZGVzY3JpcHRpb24gPHRyYWlsZXJzICYmCgkJZWNobwoJfSA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyUodHJhaWxlcnM6b25seT15ZXMpIHNob3dzIG9ubHkgImtleTogdmFsdWUiIHRyYWlsZXJzJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT1mb3JtYXQ6IiUodHJhaWxlcnM6b25seT15ZXMpIiA+YWN0dWFsICYmCglncmVwIC12IHBhdGNoLmRlc2NyaXB0aW9uIDx0cmFpbGVycyA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyUodHJhaWxlcnM6b25seT1ubykgc2hvd3MgYWxsIHRyYWlsZXJzJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT1mb3JtYXQ6IiUodHJhaWxlcnM6b25seT1ubykiID5hY3R1YWwgJiYKCWNhdCB0cmFpbGVycyA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyUodHJhaWxlcnM6b25seT1ubyxvbmx5PXRydWUpIHNob3dzIG9ubHkgImtleTogdmFsdWUiIHRyYWlsZXJzJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT1mb3JtYXQ6IiUodHJhaWxlcnM6b25seT15ZXMpIiA+YWN0dWFsICYmCglncmVwIC12IHBhdGNoLmRlc2NyaXB0aW9uIDx0cmFpbGVycyA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyUodHJhaWxlcnM6dW5mb2xkKSB1bmZvbGRzIHRyYWlsZXJzJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT0iJSh0cmFpbGVyczp1bmZvbGQpIiA+YWN0dWFsICYmCgl7CgkJdW5mb2xkIDx0cmFpbGVycyAmJgoJCWVjaG8KCX0gPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICc6b25seSBhbmQgOnVuZm9sZCB3b3JrIHRvZ2V0aGVyJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT0iJSh0cmFpbGVyczpvbmx5LHVuZm9sZCkiID5hY3R1YWwgJiYKCWdpdCBsb2cgLS1uby13YWxrIC0tcHJldHR5PSIlKHRyYWlsZXJzOnVuZm9sZCxvbmx5KSIgPnJldmVyc2UgJiYKCXRlc3RfY21wIGFjdHVhbCByZXZlcnNlICYmCgl7CgkJZ3JlcCAtdiBwYXRjaC5kZXNjcmlwdGlvbiA8dHJhaWxlcnMgfCB1bmZvbGQgJiYKCQllY2hvCgl9ID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncHJldHR5IGZvcm1hdCAlKHRyYWlsZXJzOmtleT1mb28pIHNob3dzIHRoYXQgdHJhaWxlcicgJwoJZ2l0IGxvZyAtLW5vLXdhbGsgLS1wcmV0dHk9ImZvcm1hdDolKHRyYWlsZXJzOmtleT1BY2tlZC1ieSkiID5hY3R1YWwgJiYKCWVjaG8gIkFja2VkLWJ5OiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPiIgPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdwcmV0dHkgZm9ybWF0ICUodHJhaWxlcnM6a2V5PWZvbykgaXMgY2FzZSBpbnNlbnNpdGl2ZScgJwoJZ2l0IGxvZyAtLW5vLXdhbGsgLS1wcmV0dHk9ImZvcm1hdDolKHRyYWlsZXJzOmtleT1BY0tlZC1iWSkiID5hY3R1YWwgJiYKCWVjaG8gIkFja2VkLWJ5OiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPiIgPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdwcmV0dHkgZm9ybWF0ICUodHJhaWxlcnM6a2V5PWZvbzopIHRyYWlsaW5nIGNvbG9uIGFsc28gd29ya3MnICcKCWdpdCBsb2cgLS1uby13YWxrIC0tcHJldHR5PSJmb3JtYXQ6JSh0cmFpbGVyczprZXk9QWNrZWQtYnk6KSIgPmFjdHVhbCAmJgoJZWNobyAiQWNrZWQtYnk6IEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+IiA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3ByZXR0eSBmb3JtYXQgJSh0cmFpbGVyczprZXk9Zm9vKSBtdWx0aXBsZSBrZXlzJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT0iZm9ybWF0OiUodHJhaWxlcnM6a2V5PUFja2VkLWJ5OixrZXk9U2lnbmVkLW9mZi1CeSkiID5hY3R1YWwgJiYKCWdyZXAgLXYgcGF0Y2guZGVzY3JpcHRpb24gPHRyYWlsZXJzID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJSh0cmFpbGVyczprZXk9bm9uZXhpc3RlbnQpIGJlY29tZXMgZW1wdHknICcKCWdpdCBsb2cgLS1uby13YWxrIC0tcHJldHR5PSJ4JSh0cmFpbGVyczprZXk9TmFja2VkLWJ5KXgiID5hY3R1YWwgJiYKCWVjaG8gInh4IiA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyUodHJhaWxlcnM6a2V5PWZvbykgaGFuZGxlcyBtdWx0aXBsZSBsaW5lcyBldmVuIGlmIGZvbGRlZCcgJwoJZ2l0IGxvZyAtLW5vLXdhbGsgLS1wcmV0dHk9ImZvcm1hdDolKHRyYWlsZXJzOmtleT1TaWduZWQtT2ZmLWJ5KSIgPmFjdHVhbCAmJgoJZ3JlcCAtdiBwYXRjaC5kZXNjcmlwdGlvbiA8dHJhaWxlcnMgfCBncmVwIC12IEFja2VkLWJ5ID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJSh0cmFpbGVyczprZXk9Zm9vLHVuZm9sZCkgcHJvcGVybHkgdW5mb2xkcycgJwoJZ2l0IGxvZyAtLW5vLXdhbGsgLS1wcmV0dHk9ImZvcm1hdDolKHRyYWlsZXJzOmtleT1TaWduZWQtT2ZmLWJ5LHVuZm9sZCkiID5hY3R1YWwgJiYKCXVuZm9sZCA8dHJhaWxlcnMgfCBncmVwIFNpZ25lZC1vZmYtYnkgPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdwcmV0dHkgZm9ybWF0ICUodHJhaWxlcnM6a2V5PWZvbyxvbmx5PW5vKSBhbHNvIGluY2x1ZGVzIG5vbnRyYWlsZXIgbGluZXMnICcKCWdpdCBsb2cgLS1uby13YWxrIC0tcHJldHR5PSJmb3JtYXQ6JSh0cmFpbGVyczprZXk9QWNrZWQtYnksb25seT1ubykiID5hY3R1YWwgJiYKCXsKCQllY2hvICJBY2tlZC1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4iICYmCgkJZ3JlcCBwYXRjaC5kZXNjcmlwdGlvbiA8dHJhaWxlcnMKCX0gPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclKHRyYWlsZXJzOmtleSkgd2l0aG91dCB2YWx1ZSBpcyBlcnJvcicgJwoJZ2l0IGxvZyAtLW5vLXdhbGsgLS1wcmV0dHk9InRmb3JtYXQ6JSh0cmFpbGVyczprZXkpIiA+YWN0dWFsICYmCgllY2hvICIlKHRyYWlsZXJzOmtleSkiID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJSh0cmFpbGVyczprZXlvbmx5KSBzaG93cyBvbmx5IGtleXMnICcKCWdpdCBsb2cgLS1uby13YWxrIC0tcHJldHR5PSJmb3JtYXQ6JSh0cmFpbGVyczprZXlvbmx5KSIgPmFjdHVhbCAmJgoJdGVzdF93cml0ZV9saW5lcyBcCgkJIlNpZ25lZC1vZmYtYnkiIFwKCQkiQWNrZWQtYnkiIFwKCQkiWyB2MiB1cGRhdGVkIHBhdGNoIGRlc2NyaXB0aW9uIF0iIFwKCQkiU2lnbmVkLW9mZi1ieSIgPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclKHRyYWlsZXJzOmtleT1mb28sa2V5b25seSkgc2hvd3Mgb25seSBrZXknICcKCWdpdCBsb2cgLS1uby13YWxrIC0tcHJldHR5PSJmb3JtYXQ6JSh0cmFpbGVyczprZXk9QWNrZWQtYnksa2V5b25seSkiID5hY3R1YWwgJiYKCWVjaG8gIkFja2VkLWJ5IiA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyUodHJhaWxlcnM6a2V5PWZvbyx2YWx1ZW9ubHkpIHNob3dzIG9ubHkgdmFsdWUnICcKCWdpdCBsb2cgLS1uby13YWxrIC0tcHJldHR5PSJmb3JtYXQ6JSh0cmFpbGVyczprZXk9QWNrZWQtYnksdmFsdWVvbmx5KSIgPmFjdHVhbCAmJgoJZWNobyAiQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4iID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJSh0cmFpbGVyczp2YWx1ZW9ubHkpIHNob3dzIG9ubHkgdmFsdWVzJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT0iZm9ybWF0OiUodHJhaWxlcnM6dmFsdWVvbmx5KSIgPmFjdHVhbCAmJgoJdGVzdF93cml0ZV9saW5lcyBcCgkJIkEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+IiBcCgkJIkEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+IiBcCgkJIlsgdjIgdXBkYXRlZCBwYXRjaCBkZXNjcmlwdGlvbiBdIiBcCgkJIkEgVSBUaG9yIiBcCgkJIiAgPGF1dGhvckBleGFtcGxlLmNvbT4iID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJSh0cmFpbGVyczprZXk9Zm9vLGtleW9ubHksdmFsdWVvbmx5KSBzaG93cyBub3RoaW5nJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT0iZm9ybWF0OiUodHJhaWxlcnM6a2V5PUFja2VkLWJ5LGtleW9ubHksdmFsdWVvbmx5KSIgPmFjdHVhbCAmJgoJZWNobyA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3ByZXR0eSBmb3JtYXQgJSh0cmFpbGVyczpzZXBhcmF0b3IpIGNoYW5nZXMgc2VwYXJhdG9yJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT1mb3JtYXQ6IlglKHRyYWlsZXJzOnNlcGFyYXRvcj0leDAwKVgiID5hY3R1YWwgJiYKCSgKCQlwcmludGYgIlhTaWduZWQtb2ZmLWJ5OiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPlwwIiAmJgoJCXByaW50ZiAiQWNrZWQtYnk6IEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+XDAiICYmCgkJcHJpbnRmICJbIHYyIHVwZGF0ZWQgcGF0Y2ggZGVzY3JpcHRpb24gXVwwIiAmJgoJCXByaW50ZiAiU2lnbmVkLW9mZi1ieTogQSBVIFRob3JcbiAgPGF1dGhvckBleGFtcGxlLmNvbT5YIgoJKSA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3ByZXR0eSBmb3JtYXQgJSh0cmFpbGVyczpzZXBhcmF0b3I9WCx1bmZvbGQpIGNoYW5nZXMgc2VwYXJhdG9yJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT1mb3JtYXQ6IlglKHRyYWlsZXJzOnNlcGFyYXRvcj0leDAwLHVuZm9sZClYIiA+YWN0dWFsICYmCgkoCgkJcHJpbnRmICJYU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT5cMCIgJiYKCQlwcmludGYgIkFja2VkLWJ5OiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPlwwIiAmJgoJCXByaW50ZiAiWyB2MiB1cGRhdGVkIHBhdGNoIGRlc2NyaXB0aW9uIF1cMCIgJiYKCQlwcmludGYgIlNpZ25lZC1vZmYtYnk6IEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+WCIKCSkgPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdwcmV0dHkgZm9ybWF0ICUodHJhaWxlcnM6a2V5X3ZhbHVlX3NlcGFyYXRvcikgY2hhbmdlcyBrZXktdmFsdWUgc2VwYXJhdG9yJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT1mb3JtYXQ6IlglKHRyYWlsZXJzOmtleV92YWx1ZV9zZXBhcmF0b3I9JXgwMClYIiA+YWN0dWFsICYmCgkoCgkJcHJpbnRmICJYU2lnbmVkLW9mZi1ieVwwQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT5cbiIgJiYKCQlwcmludGYgIkFja2VkLWJ5XDBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPlxuIiAmJgoJCXByaW50ZiAiWyB2MiB1cGRhdGVkIHBhdGNoIGRlc2NyaXB0aW9uIF1cbiIgJiYKCQlwcmludGYgIlNpZ25lZC1vZmYtYnlcMEEgVSBUaG9yXG4gIDxhdXRob3JAZXhhbXBsZS5jb20+XG5YIgoJKSA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3ByZXR0eSBmb3JtYXQgJSh0cmFpbGVyczprZXlfdmFsdWVfc2VwYXJhdG9yLHVuZm9sZCkgY2hhbmdlcyBrZXktdmFsdWUgc2VwYXJhdG9yJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT1mb3JtYXQ6IlglKHRyYWlsZXJzOmtleV92YWx1ZV9zZXBhcmF0b3I9JXgwMCx1bmZvbGQpWCIgPmFjdHVhbCAmJgoJKAoJCXByaW50ZiAiWFNpZ25lZC1vZmYtYnlcMEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+XG4iICYmCgkJcHJpbnRmICJBY2tlZC1ieVwwQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT5cbiIgJiYKCQlwcmludGYgIlsgdjIgdXBkYXRlZCBwYXRjaCBkZXNjcmlwdGlvbiBdXG4iICYmCgkJcHJpbnRmICJTaWduZWQtb2ZmLWJ5XDBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPlxuWCIKCSkgPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdwcmV0dHkgZm9ybWF0ICUodHJhaWxlcnM6c2VwYXJhdG9yLGtleV92YWx1ZV9zZXBhcmF0b3IpIGNoYW5nZXMgYm90aCBzZXBhcmF0b3JzJyAnCglnaXQgbG9nIC0tbm8td2FsayAtLXByZXR0eT1mb3JtYXQ6IiUodHJhaWxlcnM6c2VwYXJhdG9yPSV4MDAsa2V5X3ZhbHVlX3NlcGFyYXRvcj0leDAwJXgwMCx1bmZvbGQpIiA+YWN0dWFsICYmCgkoCgkJcHJpbnRmICJTaWduZWQtb2ZmLWJ5XDBcMEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+XDAiICYmCgkJcHJpbnRmICJBY2tlZC1ieVwwXDBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPlwwIiAmJgoJCXByaW50ZiAiWyB2MiB1cGRhdGVkIHBhdGNoIGRlc2NyaXB0aW9uIF1cMCIgJiYKCQlwcmludGYgIlNpZ25lZC1vZmYtYnlcMFwwQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4iCgkpID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncHJldHR5IGZvcm1hdCAlKHRyYWlsZXJzKSBjb21iaW5pbmcgc2VwYXJhdG9yL2tleS9rZXlvbmx5L3ZhbHVlb25seScgJwoJZ2l0IGNvbW1pdCAtLWFsbG93LWVtcHR5IC1GIC0gPDwtXEVPRiAmJgoJSW1wb3J0YW50IGZpeAoKCVRoZSBmaXggaXMgZXhwbGFpbmVkIGhlcmUKCglDbG9zZXM6ICMxMjM0CglFT0YKCglnaXQgY29tbWl0IC0tYWxsb3ctZW1wdHkgLUYgLSA8PC1cRU9GICYmCglBbm90aGVyIGZpeAoKCVRoZSBmaXggaXMgZXhwbGFpbmVkIGhlcmUKCglDbG9zZXM6ICM1NjcKCUNsb3NlczogIzg5MAoJRU9GCgoJZ2l0IGNvbW1pdCAtLWFsbG93LWVtcHR5IC1GIC0gPDwtXEVPRiAmJgoJRG9lcyBub3QgY2xvc2UgYW55IHRpY2tldHMKCUVPRgoKCWdpdCBsb2cgLS1wcmV0dHk9IiVzJSAodHJhaWxlcnM6c2VwYXJhdG9yPSV4MmMleDIwLGtleT1DbG9zZXMsdmFsdWVvbmx5KSIgSEVBRH4zLi4gPmFjdHVhbCAmJgoJdGVzdF93cml0ZV9saW5lcyBcCgkJIkRvZXMgbm90IGNsb3NlIGFueSB0aWNrZXRzIiBcCgkJIkFub3RoZXIgZml4ICM1NjcsICM4OTAiIFwKCQkiSW1wb3J0YW50IGZpeCAjMTIzNCIgPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoKCWdpdCBsb2cgLS1wcmV0dHk9IiVzJSAodHJhaWxlcnM6c2VwYXJhdG9yPSV4MmMleDIwLGtleT1DbG9zZXMsa2V5b25seSkiIEhFQUR+My4uID5hY3R1YWwgJiYKCXRlc3Rfd3JpdGVfbGluZXMgXAoJCSJEb2VzIG5vdCBjbG9zZSBhbnkgdGlja2V0cyIgXAoJCSJBbm90aGVyIGZpeCBDbG9zZXMsIENsb3NlcyIgXAoJCSJJbXBvcnRhbnQgZml4IENsb3NlcyIgPmV4cGVjdCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd0cmFpbGVyIHBhcnNpbmcgbm90IGZvb2xlZCBieSAtLS0gbGluZScgJwoJZ2l0IGNvbW1pdCAtLWFsbG93LWVtcHR5IC1GIC0gPDwtXEVPRiAmJgoJdGhpcyBpcyB0aGUgc3ViamVjdAoKCVRoaXMgaXMgdGhlIGJvZHkuIFRoZSBtZXNzYWdlIGhhcyBhICItLS0iIGxpbmUgd2hpY2ggd291bGQgY29uZnVzZSBhCgltZXNzYWdlK3BhdGNoIHBhcnNlci4gQnV0IGhlcmUgd2Uga25vdyB3ZSBoYXZlIG9ubHkgYSBjb21taXQgbWVzc2FnZSwKCXNvIHdlIGdldCBpdCByaWdodC4KCgl0cmFpbGVyOiB3cm9uZwoJLS0tCglUaGlzIGlzIG1vcmUgYm9keS4KCgl0cmFpbGVyOiByaWdodAoJRU9GCgoJewoJCWVjaG8gInRyYWlsZXI6IHJpZ2h0IiAmJgoJCWVjaG8KCX0gPmV4cGVjdCAmJgoJZ2l0IGxvZyAtLW5vLXdhbGsgLS1mb3JtYXQ9IiUodHJhaWxlcnMpIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3NldCB1cCAlUyB0ZXN0cycgJwoJZ2l0IGNoZWNrb3V0IC0tb3JwaGFuIHNvdXJjZS1hICYmCgl0ZXN0X2NvbW1pdCBvbmUgJiYKCXRlc3RfY29tbWl0IHR3byAmJgoJZ2l0IGNoZWNrb3V0IC1iIHNvdXJjZS1iIEhFQUReICYmCgl0ZXN0X2NvbW1pdCB0aHJlZQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdsb2cgLS1mb3JtYXQ9JVMgcGFpbnRzIGJyYW5jaCBuYW1lcycgJwoJY2F0ID5leHBlY3QgPDwtXEVPRiAmJgoJc291cmNlLWIKCXNvdXJjZS1hCglzb3VyY2UtYgoJRU9GCglnaXQgbG9nIC0tZm9ybWF0PSVTIHNvdXJjZS1hIHNvdXJjZS1iID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbG9nIC0tZm9ybWF0PSVTIHBhaW50cyB0YWcgbmFtZXMnICcKCWdpdCB0YWcgLW0gdGFnZ2VkIHNvdXJjZS10YWcgJiYKCWNhdCA+ZXhwZWN0IDw8LVxFT0YgJiYKCXNvdXJjZS10YWcKCXNvdXJjZS1hCglzb3VyY2UtdGFnCglFT0YKCWdpdCBsb2cgLS1mb3JtYXQ9JVMgc291cmNlLXRhZyBzb3VyY2UtYSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xvZyAtLWZvcm1hdD0lUyBwYWludHMgc3ltbWV0cmljIHJhbmdlcycgJwoJY2F0ID5leHBlY3QgPDwtXEVPRiAmJgoJc291cmNlLWIKCXNvdXJjZS1hCglFT0YKCWdpdCBsb2cgLS1mb3JtYXQ9JVMgc291cmNlLWEuLi5zb3VyY2UtYiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyVTIGluIGdpdCBsb2cgLS1mb3JtYXQgd29ya3Mgd2l0aCBvdGhlciBwbGFjZWhvbGRlcnMgKHBhcnQgMSknICcKCWdpdCBsb2cgLS1mb3JtYXQ9InNvdXJjZS1iICVoIiBzb3VyY2UtYiA+ZXhwZWN0ICYmCglnaXQgbG9nIC0tZm9ybWF0PSIlUyAlaCIgc291cmNlLWIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclUyBpbiBnaXQgbG9nIC0tZm9ybWF0IHdvcmtzIHdpdGggb3RoZXIgcGxhY2Vob2xkZXJzIChwYXJ0IDIpJyAnCglnaXQgbG9nIC0tZm9ybWF0PSIlaCBzb3VyY2UtYiIgc291cmNlLWIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtLWZvcm1hdD0iJWggJVMiIHNvdXJjZS1iID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbG9nIC0tcHJldHR5PXJlZmVyZW5jZScgJwoJZ2l0IGxvZyAtLXByZXR0eT0idGZvcm1hdDolaCAoJXMsICVhcykiID5leHBlY3QgJiYKCWdpdCBsb2cgLS1wcmV0dHk9cmVmZXJlbmNlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbG9nIC0tcHJldHR5PXJlZmVyZW5jZSB3aXRoIGxvZy5kYXRlIGlzIG92ZXJyaWRkZW4gYnkgc2hvcnQgZGF0ZScgJwoJZ2l0IGxvZyAtLXByZXR0eT0idGZvcm1hdDolaCAoJXMsICVhcykiID5leHBlY3QgJiYKCXRlc3RfY29uZmlnIGxvZy5kYXRlIHJmYyAmJgoJZ2l0IGxvZyAtLXByZXR0eT1yZWZlcmVuY2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdsb2cgLS1wcmV0dHk9cmVmZXJlbmNlIHdpdGggZXhwbGljaXQgZGF0ZSBvdmVycmlkZXMgc2hvcnQgZGF0ZScgJwoJZ2l0IGxvZyAtLWRhdGU9cmZjIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICglcywgJWFkKSIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtLWRhdGU9cmZjIC0tcHJldHR5PXJlZmVyZW5jZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xvZyAtLXByZXR0eT1yZWZlcmVuY2UgaXMgbmV2ZXIgdW5hYmJyZXZpYXRlZCcgJwoJZ2l0IGxvZyAtLXByZXR0eT0idGZvcm1hdDolaCAoJXMsICVhcykiID5leHBlY3QgJiYKCWdpdCBsb2cgLS1uby1hYmJyZXYtY29tbWl0IC0tcHJldHR5PXJlZmVyZW5jZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xvZyAtLXByZXR0eT1yZWZlcmVuY2UgaXMgbmV2ZXIgZGVjb3JhdGVkJyAnCglnaXQgbG9nIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICglcywgJWFzKSIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtLWRlY29yYXRlPXNob3J0IC0tcHJldHR5PXJlZmVyZW5jZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xvZyAtLXByZXR0eT1yZWZlcmVuY2UgZG9lcyBub3Qgb3V0cHV0IHJlZmxvZyBpbmZvJyAnCglnaXQgbG9nIC0td2Fsay1yZWZsb2dzIC0tcHJldHR5PSJ0Zm9ybWF0OiVoICglcywgJWFzKSIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtLXdhbGstcmVmbG9ncyAtLXByZXR0eT1yZWZlcmVuY2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdsb2cgLS1wcmV0dHk9cmVmZXJlbmNlIGlzIGNvbG9yZWQgYXBwcm9wcmlhdGVseScgJwoJZ2l0IGxvZyAtLWNvbG9yPWFsd2F5cyAtLXByZXR0eT0idGZvcm1hdDolQyhhdXRvKSVoICglcywgJWFzKSIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtLWNvbG9yPWFsd2F5cyAtLXByZXR0eT1yZWZlcmVuY2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclKGRlc2NyaWJlKSB2cyBnaXQgZGVzY3JpYmUnICcKCWdpdCBsb2cgLS1mb3JtYXQ9IiVIIiB8IHdoaWxlIHJlYWQgaGFzaAoJZG8KCQlpZiBkZXNjPSQoZ2l0IGRlc2NyaWJlICRoYXNoKQoJCXRoZW4KCQkJOiA+ZXhwZWN0LWNvbnRhaW5zLWdvb2QKCQllbHNlCgkJCTogPmV4cGVjdC1jb250YWlucy1iYWQKCQlmaSAmJgoJCWVjaG8gIiRoYXNoICRkZXNjIiB8fCByZXR1cm4gMQoJZG9uZSA+ZXhwZWN0ICYmCgl0ZXN0X3BhdGhfZXhpc3RzIGV4cGVjdC1jb250YWlucy1nb29kICYmCgl0ZXN0X3BhdGhfZXhpc3RzIGV4cGVjdC1jb250YWlucy1iYWQgJiYKCglnaXQgbG9nIC0tZm9ybWF0PSIlSCAlKGRlc2NyaWJlKSIgPmFjdHVhbCAyPmVyciAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJdGVzdF9tdXN0X2JlX2VtcHR5IGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclKGRlc2NyaWJlOm1hdGNoPS4uLikgdnMgZ2l0IGRlc2NyaWJlIC0tbWF0Y2ggLi4uJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgImdpdCB0YWcgLWQgdGFnLW1hdGNoIiAmJgoJZ2l0IHRhZyAtYSAtbSB0YWdnZWQgdGFnLW1hdGNoICYmCglnaXQgZGVzY3JpYmUgLS1tYXRjaCAiKi1tYXRjaCIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtMSAtLWZvcm1hdD0iJShkZXNjcmliZTptYXRjaD0qLW1hdGNoKSIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclKGRlc2NyaWJlOmV4Y2x1ZGU9Li4uKSB2cyBnaXQgZGVzY3JpYmUgLS1leGNsdWRlIC4uLicgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgdGFnIC1kIHRhZy1leGNsdWRlIiAmJgoJZ2l0IHRhZyAtYSAtbSB0YWdnZWQgdGFnLWV4Y2x1ZGUgJiYKCWdpdCBkZXNjcmliZSAtLWV4Y2x1ZGUgIiotZXhjbHVkZSIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtMSAtLWZvcm1hdD0iJShkZXNjcmliZTpleGNsdWRlPSotZXhjbHVkZSkiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJShkZXNjcmliZTp0YWdzKSB2cyBnaXQgZGVzY3JpYmUgLS10YWdzJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgImdpdCB0YWcgLWQgdGFnbmFtZSIgJiYKCWdpdCB0YWcgdGFnbmFtZSAmJgoJZ2l0IGRlc2NyaWJlIC0tdGFncyA+ZXhwZWN0ICYmCglnaXQgbG9nIC0xIC0tZm9ybWF0PSIlKGRlc2NyaWJlOnRhZ3MpIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyUoZGVzY3JpYmU6YWJicmV2PS4uLikgdnMgZ2l0IGRlc2NyaWJlIC0tYWJicmV2PS4uLicgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgdGFnIC1kIHRhZ25hbWUiICYmCgoJIyBDYXNlIDE6IFdlIGhhdmUgY29tbWl0cyBiZXR3ZWVuIEhFQUQgYW5kIHRoZSBtb3N0IHJlY2VudCB0YWcKCSMJICByZWFjaGFibGUgZnJvbSBpdAoJdGVzdF9jb21taXQgLS1uby10YWcgZmlsZSAmJgoJZ2l0IGRlc2NyaWJlIC0tYWJicmV2PTE1ID5leHBlY3QgJiYKCWdpdCBsb2cgLTEgLS1mb3JtYXQ9IiUoZGVzY3JpYmU6YWJicmV2PTE1KSIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoKCSMgTWFrZSBzdXJlIHRoZSBoYXNoIHVzZWQgaXMgYXQgbGVhc3QgMTUgZGlnaXRzIGxvbmcKCXNlZCAtZSAicy9eLiotZ1woWzAtOWEtZl0qXCkkL1wxLyIgPGFjdHVhbCA+aGV4cGFydCAmJgoJdGVzdCAxNiAtbGUgJCh3YyAtYyA8aGV4cGFydCkgJiYKCgkjIENhc2UgMjogV2UgaGF2ZSBhIHRhZyBhdCBIRUFELCBkZXNjcmliZSBkaXJlY3RseSBnaXZlcyB0aGUKCSMJICBuYW1lIG9mIHRoZSB0YWcKCWdpdCB0YWcgLWEgLW0gdGFnZ2VkIHRhZ25hbWUgJiYKCWdpdCBkZXNjcmliZSAtLWFiYnJldj0xNSA+ZXhwZWN0ICYmCglnaXQgbG9nIC0xIC0tZm9ybWF0PSIlKGRlc2NyaWJlOmFiYnJldj0xNSkiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCXRlc3QgdGFnbmFtZSA9ICQoY2F0IGFjdHVhbCkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbG9nIC0tcHJldHR5IHdpdGggc3BhY2Ugc3RlYWxpbmcnICcKCXByaW50ZiBtbTAgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtMSAtLXByZXR0eT0iZm9ybWF0Om1tJT4+fCgxKSV4MzAiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbG9nIC0tcHJldHR5IHdpdGggaW52YWxpZCBwYWRkaW5nIGZvcm1hdCcgJwoJcHJpbnRmICIlcyUlPCgyMCIgIiQoZ2l0IHJldi1wYXJzZSBIRUFEKSIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtMSAtLXByZXR0eT0iZm9ybWF0OiVIJTwoMjAiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbG9nIC0tcHJldHR5IHdpdGggbWFnaWNhbCB3cmFwcGluZyBkaXJlY3RpdmVzJyAnCgljb21taXRfaWQ9JChnaXQgY29tbWl0LXRyZWUgSEVBRF57dHJlZX0gLW0gImRlc2NyaWJlIG1lIikgJiYKCWdpdCB0YWcgZGVzY3JpYmUtbWUgJGNvbW1pdF9pZCAmJgoJcHJpbnRmICJcbih0YWc6XG5kZXNjcmliZS1tZSklJSt3KDIpIiA+ZXhwZWN0ICYmCglnaXQgbG9nIC0xIC0tcHJldHR5PSJmb3JtYXQ6JXcoMSklK2QlK3coMikiICRjb21taXRfaWQgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIFNJWkVfVF9JU182NEJJVCAnbG9nIC0tcHJldHR5IHdpdGggb3ZlcmZsb3dpbmcgd3JhcHBpbmcgZGlyZWN0aXZlJyAnCglwcmludGYgIiUldygyMTQ3NDgzNjQ5LDEsMSkwIiA+ZXhwZWN0ICYmCglnaXQgbG9nIC0xIC0tcHJldHR5PSJmb3JtYXQ6JXcoMjE0NzQ4MzY0OSwxLDEpJXgzMCIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJcHJpbnRmICIlJXcoMSwyMTQ3NDgzNjQ5LDEpMCIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtMSAtLXByZXR0eT0iZm9ybWF0OiV3KDEsMjE0NzQ4MzY0OSwxKSV4MzAiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCXByaW50ZiAiJSV3KDEsMSwyMTQ3NDgzNjQ5KTAiID5leHBlY3QgJiYKCWdpdCBsb2cgLTEgLS1wcmV0dHk9ImZvcm1hdDoldygxLDEsMjE0NzQ4MzY0OSkleDMwIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgU0laRV9UX0lTXzY0QklUICdsb2cgLS1wcmV0dHkgd2l0aCBvdmVyZmxvd2luZyBwYWRkaW5nIGRpcmVjdGl2ZScgJwoJcHJpbnRmICIlJTwoMjE0NzQ4MzY0OSkwIiA+ZXhwZWN0ICYmCglnaXQgbG9nIC0xIC0tcHJldHR5PSJmb3JtYXQ6JTwoMjE0NzQ4MzY0OSkleDMwIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xvZyAtLXByZXR0eSB3aXRoIHBhZGRpbmcgYW5kIHByZWNlZGluZyBjb250cm9sIGNoYXJzJyAnCglwcmludGYgIlwyMFwyMCAgIDAiID5leHBlY3QgJiYKCWdpdCBsb2cgLTEgLS1wcmV0dHk9ImZvcm1hdDoleDEwJXgxMCU+fCg0KSV4MzAiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnbG9nIC0tcHJldHR5IHRydW5jYXRpb24gd2l0aCBjb250cm9sIGNoYXJzJyAnCgl0ZXN0X2NvbW1pdCAiJChwcmludGYgIlwyMFwyMFwyMFwyMHh4eHgiKSIgZmlsZSBjb250ZW50cyBjb21taXQtd2l0aC1jb250cm9sLWNoYXJzICYmCglwcmludGYgIlwyMFwyMFwyMFwyMHguLiIgPmV4cGVjdCAmJgoJZ2l0IGxvZyAtMSAtLXByZXR0eT0iZm9ybWF0OiU8KDMsdHJ1bmMpJXMiIGNvbW1pdC13aXRoLWNvbnRyb2wtY2hhcnMgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIEVYUEVOU0lWRSxTSVpFX1RfSVNfNjRCSVQgJ2xvZyAtLXByZXR0eSB3aXRoIGh1Z2UgY29tbWl0IG1lc3NhZ2UnICcKCSMgV2Ugb25seSBhc3NlcnQgdGhhdCB0aGlzIGNvbW1hbmQgZG9lcyBub3QgY3Jhc2guIFRoaXMgbmVlZHMgdG8gYmUKCSMgZXhlY3V0ZWQgd2l0aCB0aGUgYWRkcmVzcyBzYW5pdGl6ZXIgdG8gZGVtb25zdHJhdGUgZmFpbHVyZS4KCWdpdCBsb2cgLTEgLS1wcmV0dHk9ImZvcm1hdDolPigyMTQ3NDgzNjQ2KSV4NDElNDElPigyMTQ3NDgzNjQ2KSV4NDEiID4vZGV2L251bGwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBFWFBFTlNJVkUsU0laRV9UX0lTXzY0QklUICdzZXQgdXAgaHVnZSBjb21taXQnICcKCXRlc3QtdG9vbCBnZW56ZXJvcyAyMTQ3NDgzNjQ5IHwgdHIgIlwwMDAiICIxIiA+ZXhwZWN0ICYmCglodWdlX2NvbW1pdD0kKGdpdCBjb21taXQtdHJlZSAtRiBleHBlY3QgSEVBRF57dHJlZX0pCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgRVhQRU5TSVZFLFNJWkVfVF9JU182NEJJVCAnbG9nIC0tcHJldHR5IHdpdGggaHVnZSBjb21taXQgbWVzc2FnZScgJwoJZ2l0IGxvZyAtMSAtLWZvcm1hdD0iJUIlPCgxKSV4MzAiICRodWdlX2NvbW1pdCA+YWN0dWFsICYmCgllY2hvIDAgPj5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBFWFBFTlNJVkUsU0laRV9UX0lTXzY0QklUICdsb2cgLS1wcmV0dHkgd2l0aCBodWdlIGNvbW1pdCBtZXNzYWdlIGRvZXMgbm90IGNhdXNlIGFsbG9jYXRpb24gZmFpbHVyZScgJwoJdGVzdF9tdXN0X2ZhaWwgZ2l0IGxvZyAtMSAtLWZvcm1hdD0iJTwoMSklQiIgJGh1Z2VfY29tbWl0IDI+ZXJyb3IgJiYKCWNhdCA+ZXhwZWN0IDw8LUVPRiAmJgoJZmF0YWw6IG51bWJlciB0b28gbGFyZ2UgdG8gcmVwcmVzZW50IGFzIGludCBvbiB0aGlzIHBsYXRmb3JtOiAyMTQ3NDgzNjQ5CglFT0YKCXRlc3RfY21wIGV4cGVjdCBlcnJvcgonCgp0ZXN0X2RvbmUK",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2010, Will Palmer\n# Copyright (c) 2011, Alexey Shumkin (+ non-UTF-8 commit encoding tests)\n#\n\ntest_description='Test pretty formats'\n. ./test-lib.sh\n\n# Tested non-UTF-8 encoding\ntest_encoding=\"ISO8859-1\"\n\nsample_utf8_part=$(printf \"f\\303\\244ng\")\n\ncommit_msg () {\n\t# String \"initial. initial\" partly in German\n\t# (translated with Google Translate),\n\t# encoded in UTF-8, used as a commit log message below.\n\tmsg=\"initial. an${sample_utf8_part}lich\\n\"\n\tif test -n \"$1\"\n\tthen\n\t\tprintf \"$msg\" | iconv -f utf-8 -t \"$1\"\n\telse\n\t\tprintf \"$msg\"\n\tfi\n}\n\ntest_expect_success 'set up basic repos' '\n\t>foo &&\n\t>bar &&\n\tgit add foo &&\n\ttest_tick &&\n\tgit config i18n.commitEncoding $test_encoding &&\n\tcommit_msg $test_encoding | git commit -F - &&\n\tgit add bar &&\n\ttest_tick &&\n\tgit commit -m \"add bar\" &&\n\tgit config --unset i18n.commitEncoding\n'\n\ntest_expect_success 'alias builtin format' '\n\tgit log --pretty=oneline >expected &&\n\tgit config pretty.test-alias oneline &&\n\tgit log --pretty=test-alias >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'alias masking builtin format' '\n\tgit log --pretty=oneline >expected &&\n\tgit config pretty.oneline \"%H\" &&\n\tgit log --pretty=oneline >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'alias user-defined format' '\n\tgit log --pretty=\"format:%h\" >expected &&\n\tgit config pretty.test-alias \"format:%h\" &&\n\tgit log --pretty=test-alias >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'alias user-defined tformat with %s (ISO8859-1 encoding)' '\n\tgit config i18n.logOutputEncoding $test_encoding &&\n\tgit log --oneline >expected-s &&\n\tgit log --pretty=\"tformat:%h %s\" >actual-s &&\n\tgit config --unset i18n.logOutputEncoding &&\n\ttest_cmp expected-s actual-s\n'\n\ntest_expect_success 'alias user-defined tformat with %s (utf-8 encoding)' '\n\tgit log --oneline >expected-s &&\n\tgit log --pretty=\"tformat:%h %s\" >actual-s &&\n\ttest_cmp expected-s actual-s\n'\n\ntest_expect_success 'alias user-defined tformat' '\n\tgit log --pretty=\"tformat:%h\" >expected &&\n\tgit config pretty.test-alias \"tformat:%h\" &&\n\tgit log --pretty=test-alias >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'alias non-existent format' '\n\tgit config pretty.test-alias format-that-will-never-exist &&\n\ttest_must_fail git log --pretty=test-alias\n'\n\ntest_expect_success 'alias of an alias' '\n\tgit log --pretty=\"tformat:%h\" >expected &&\n\tgit config pretty.test-foo \"tformat:%h\" &&\n\tgit config pretty.test-bar test-foo &&\n\tgit log --pretty=test-bar >actual && test_cmp expected actual\n'\n\ntest_expect_success 'alias masking an alias' '\n\tgit log --pretty=format:\"Two %H\" >expected &&\n\tgit config pretty.duplicate \"format:One %H\" &&\n\tgit config --add pretty.duplicate \"format:Two %H\" &&\n\tgit log --pretty=duplicate >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'alias loop' '\n\tgit config pretty.test-foo test-bar &&\n\tgit config pretty.test-bar test-foo &&\n\ttest_must_fail git log --pretty=test-foo\n'\n\ntest_expect_success 'NUL separation' '\n\tprintf \"add bar\\0$(commit_msg)\" >expected &&\n\tgit log -z --pretty=\"format:%s\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'NUL termination' '\n\tprintf \"add bar\\0$(commit_msg)\\0\" >expected &&\n\tgit log -z --pretty=\"tformat:%s\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'NUL separation with --stat' '\n\tstat0_part=$(git diff --stat HEAD^ HEAD) &&\n\tstat1_part=$(git diff-tree --no-commit-id --stat --root HEAD^) &&\n\tprintf \"add bar\\n$stat0_part\\n\\0$(commit_msg)\\n$stat1_part\\n\" >expected &&\n\tgit log -z --stat --pretty=\"format:%s\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_failure 'NUL termination with --stat' '\n\tstat0_part=$(git diff --stat HEAD^ HEAD) &&\n\tstat1_part=$(git diff-tree --no-commit-id --stat --root HEAD^) &&\n\tprintf \"add bar\\n$stat0_part\\n\\0$(commit_msg)\\n$stat1_part\\n0\" >expected &&\n\tgit log -z --stat --pretty=\"tformat:%s\" >actual &&\n\ttest_cmp expected actual\n'\n\nfor p in short medium full fuller email raw\ndo\n\ttest_expect_success \"NUL termination with --reflog --pretty=$p\" '\n\t\trevs=\"$(git rev-list --reflog)\" &&\n\t\tfor r in $revs\n\t\tdo\n\t\t\tgit show -s \"$r\" --pretty=\"$p\" &&\n\t\t\tprintf \"\\0\" || return 1\n\t\tdone >expect &&\n\t\t{\n\t\t\tgit log -z --reflog --pretty=\"$p\" &&\n\t\t\tprintf \"\\0\"\n\t\t} >actual &&\n\t\ttest_cmp expect actual\n\t'\ndone\n\ntest_expect_success 'NUL termination with --reflog --pretty=oneline' '\n\trevs=\"$(git rev-list --reflog)\" &&\n\tfor r in $revs\n\tdo\n\t\tgit show -s --pretty=oneline \"$r\" >raw &&\n\t\tcat raw | lf_to_nul || return 1\n\tdone >expect &&\n\t# the trailing NUL is already produced so we do not need to\n\t# output another one\n\tgit log -z --pretty=oneline --reflog >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'setup more commits' '\n\ttest_commit \"message one\" one one message-one &&\n\ttest_commit \"message two\" two two message-two &&\n\thead1=$(git rev-parse --verify --short HEAD~0) &&\n\thead2=$(git rev-parse --verify --short HEAD~1) &&\n\thead3=$(git rev-parse --verify --short HEAD~2) &&\n\thead4=$(git rev-parse --verify --short HEAD~3)\n'\n\ntest_expect_success 'left alignment formatting' '\n\tgit log --pretty=\"tformat:%<(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\tmessage two                            Z\n\tmessage one                            Z\n\tadd bar                                Z\n\t$(commit_msg)                    Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%<(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tmessage two                            Z\n\tmessage one                            Z\n\tadd bar                                Z\n\t$(commit_msg)                    Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting at the nth column' '\n\tgit log --pretty=\"tformat:%h %<|(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\t$head1 message two                    Z\n\t$head2 message one                    Z\n\t$head3 add bar                        Z\n\t$head4 $(commit_msg)            Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting at the nth column' '\n\tCOLUMNS=50 git log --pretty=\"tformat:%h %<|(-10)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\t$head1 message two                    Z\n\t$head2 message one                    Z\n\t$head3 add bar                        Z\n\t$head4 $(commit_msg)            Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting at the nth column. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%h %<|(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\t$head1 message two                    Z\n\t$head2 message one                    Z\n\t$head3 add bar                        Z\n\t$head4 $(commit_msg)            Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting with no padding' '\n\tgit log --pretty=\"tformat:%<(1)%s\" >actual &&\n\tcat <<-EOF >expected &&\n\tmessage two\n\tmessage one\n\tadd bar\n\t$(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting with no padding. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%<(1)%s\" >actual &&\n\tcat <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tmessage two\n\tmessage one\n\tadd bar\n\t$(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting with trunc' '\n\tgit log --pretty=\"tformat:%<(10,trunc)%s\" >actual &&\n\tqz_to_tab_space <<-\\EOF >expected &&\n\tmessage ..\n\tmessage ..\n\tadd bar  Z\n\tinitial...\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting with trunc. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%<(10,trunc)%s\" >actual &&\n\tqz_to_tab_space <<-\\EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tmessage ..\n\tmessage ..\n\tadd bar  Z\n\tinitial...\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting with ltrunc' '\n\tgit log --pretty=\"tformat:%<(10,ltrunc)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\t..sage two\n\t..sage one\n\tadd bar  Z\n\t..${sample_utf8_part}lich\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting with ltrunc. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%<(10,ltrunc)%s\" >actual &&\n\tqz_to_tab_space <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\t..sage two\n\t..sage one\n\tadd bar  Z\n\t..${sample_utf8_part}lich\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting with mtrunc' '\n\tgit log --pretty=\"tformat:%<(10,mtrunc)%s\" >actual &&\n\tqz_to_tab_space <<-\\EOF >expected &&\n\tmess.. two\n\tmess.. one\n\tadd bar  Z\n\tinit..lich\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left alignment formatting with mtrunc. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%<(10,mtrunc)%s\" >actual &&\n\tqz_to_tab_space <<-\\EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tmess.. two\n\tmess.. one\n\tadd bar  Z\n\tinit..lich\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'right alignment formatting' '\n\tgit log --pretty=\"tformat:%>(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\tZ                            message two\n\tZ                            message one\n\tZ                                add bar\n\tZ                    $(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'right alignment formatting. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%>(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tZ                            message two\n\tZ                            message one\n\tZ                                add bar\n\tZ                    $(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'right alignment formatting at the nth column' '\n\tgit log --pretty=\"tformat:%h %>|(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\t$head1                      message two\n\t$head2                      message one\n\t$head3                          add bar\n\t$head4              $(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'right alignment formatting at the nth column' '\n\tCOLUMNS=50 git log --pretty=\"tformat:%h %>|(-10)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\t$head1                      message two\n\t$head2                      message one\n\t$head3                          add bar\n\t$head4              $(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'right alignment formatting at the nth column. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%h %>|(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\t$head1                      message two\n\t$head2                      message one\n\t$head3                          add bar\n\t$head4              $(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\n# Note: Space between 'message' and 'two' should be in the same column\n# as in previous test.\ntest_expect_success 'right alignment formatting at the nth column with --graph. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --graph --pretty=\"tformat:%h %>|(40)%s\" >actual &&\n\ticonv -f utf-8 -t $test_encoding >expected <<-EOF &&\n\t* $head1                    message two\n\t* $head2                    message one\n\t* $head3                        add bar\n\t* $head4            $(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'right alignment formatting with no padding' '\n\tgit log --pretty=\"tformat:%>(1)%s\" >actual &&\n\tcat <<-EOF >expected &&\n\tmessage two\n\tmessage one\n\tadd bar\n\t$(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'right alignment formatting with no padding and with --graph' '\n\tgit log --graph --pretty=\"tformat:%>(1)%s\" >actual &&\n\tcat <<-EOF >expected &&\n\t* message two\n\t* message one\n\t* add bar\n\t* $(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'right alignment formatting with no padding. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%>(1)%s\" >actual &&\n\tcat <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tmessage two\n\tmessage one\n\tadd bar\n\t$(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'center alignment formatting' '\n\tgit log --pretty=\"tformat:%><(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\tZ             message two              Z\n\tZ             message one              Z\n\tZ               add bar                Z\n\tZ         $(commit_msg)          Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'center alignment formatting. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%><(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tZ             message two              Z\n\tZ             message one              Z\n\tZ               add bar                Z\n\tZ         $(commit_msg)          Z\n\tEOF\n\ttest_cmp expected actual\n'\ntest_expect_success 'center alignment formatting at the nth column' '\n\tgit log --pretty=\"tformat:%h %><|(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\t$head1           message two          Z\n\t$head2           message one          Z\n\t$head3             add bar            Z\n\t$head4       $(commit_msg)      Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'center alignment formatting at the nth column' '\n\tCOLUMNS=70 git log --pretty=\"tformat:%h %><|(-30)%s\" >actual &&\n\tqz_to_tab_space <<-EOF >expected &&\n\t$head1           message two          Z\n\t$head2           message one          Z\n\t$head3             add bar            Z\n\t$head4       $(commit_msg)      Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'center alignment formatting at the nth column. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%h %><|(40)%s\" >actual &&\n\tqz_to_tab_space <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\t$head1           message two          Z\n\t$head2           message one          Z\n\t$head3             add bar            Z\n\t$head4       $(commit_msg)      Z\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'center alignment formatting with no padding' '\n\tgit log --pretty=\"tformat:%><(1)%s\" >actual &&\n\tcat <<-EOF >expected &&\n\tmessage two\n\tmessage one\n\tadd bar\n\t$(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\n# save HEAD's SHA-1 digest (with no abbreviations) to use it below\n# as far as the next test amends HEAD\nold_head1=$(git rev-parse --verify HEAD~0)\ntest_expect_success 'center alignment formatting with no padding. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%><(1)%s\" >actual &&\n\tcat <<-EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tmessage two\n\tmessage one\n\tadd bar\n\t$(commit_msg)\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'left/right alignment formatting with stealing' '\n\tgit commit --amend -m short --author \"long long long <long@me.com>\" &&\n\tgit log --pretty=\"tformat:%<(10,trunc)%s%>>(10,ltrunc)% an\" >actual &&\n\tcat <<-\\EOF >expected &&\n\tshort long  long long\n\tmessage ..   A U Thor\n\tadd bar      A U Thor\n\tinitial...   A U Thor\n\tEOF\n\ttest_cmp expected actual\n'\ntest_expect_success 'left/right alignment formatting with stealing. i18n.logOutputEncoding' '\n\tgit -c i18n.logOutputEncoding=$test_encoding log --pretty=\"tformat:%<(10,trunc)%s%>>(10,ltrunc)% an\" >actual &&\n\tcat <<-\\EOF | iconv -f utf-8 -t $test_encoding >expected &&\n\tshort long  long long\n\tmessage ..   A U Thor\n\tadd bar      A U Thor\n\tinitial...   A U Thor\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'strbuf_utf8_replace() not producing NUL' '\n\tgit log --color --pretty=\"tformat:%<(10,trunc)%s%>>(10,ltrunc)%C(auto)%d\" |\n\t\ttest_decode_color |\n\t\tnul_to_q >actual &&\n\t! grep Q actual\n'\n\n# --date=[XXX] and corresponding %a[X] %c[X] format equivalency\ntest_expect_success '--date=iso-strict %ad%cd is the same as %aI%cI' '\n\tgit log --format=%ad%n%cd --date=iso-strict >expected &&\n\tgit log --format=%aI%n%cI >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success '--date=short %ad%cd is the same as %as%cs' '\n\tgit log --format=%ad%n%cd --date=short >expected &&\n\tgit log --format=%as%n%cs >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success '--date=human %ad%cd is the same as %ah%ch' '\n\tgit log --format=%ad%n%cd --date=human >expected &&\n\tgit log --format=%ah%n%ch >actual &&\n\ttest_cmp expected actual\n'\n\n# get new digests (with no abbreviations)\ntest_expect_success 'set up log decoration tests' '\n\thead1=$(git rev-parse --verify HEAD~0) &&\n\thead2=$(git rev-parse --verify HEAD~1)\n'\n\ntest_expect_success 'log decoration properly follows tag chain' '\n\tgit tag -a tag1 -m tag1 &&\n\tgit tag -a tag2 -m tag2 tag1 &&\n\tgit tag -d tag1 &&\n\tgit commit --amend -m shorter &&\n\tgit log --no-walk --tags --pretty=\"%H %d\" --decorate=full >actual &&\n\tcat <<-EOF >expected &&\n\t$head2  (tag: refs/tags/message-one)\n\t$old_head1  (tag: refs/tags/message-two)\n\t$head1  (tag: refs/tags/tag2)\n\tEOF\n\tsort -k3 actual >actual1 &&\n\ttest_cmp expected actual1\n'\n\ntest_expect_success 'clean log decoration' '\n\tgit log --no-walk --tags --pretty=\"%H %D\" --decorate=full >actual &&\n\tcat >expected <<-EOF &&\n\t$head2 tag: refs/tags/message-one\n\t$old_head1 tag: refs/tags/message-two\n\t$head1 tag: refs/tags/tag2\n\tEOF\n\tsort -k3 actual >actual1 &&\n\ttest_cmp expected actual1\n'\n\ncat >trailers <<EOF\nSigned-off-by: A U Thor <author@example.com>\nAcked-by: A U Thor <author@example.com>\n[ v2 updated patch description ]\nSigned-off-by: A U Thor\n  <author@example.com>\nEOF\n\nunfold () {\n\tperl -0pe 's/\\n\\s+/ /g'\n}\n\ntest_expect_success 'set up trailer tests' '\n\techo \"Some contents\" >trailerfile &&\n\tgit add trailerfile &&\n\tgit commit -F - <<-EOF\n\ttrailers: this commit message has trailers\n\n\tThis commit is a test commit with trailers at the end. We parse this\n\tmessage and display the trailers using %(trailers).\n\n\t$(cat trailers)\n\tEOF\n'\n\ntest_expect_success 'pretty format %(trailers) shows trailers' '\n\tgit log --no-walk --pretty=\"%(trailers)\" >actual &&\n\t{\n\t\tcat trailers &&\n\t\techo\n\t} >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:) enables no options' '\n\tgit log --no-walk --pretty=\"%(trailers:)\" >actual &&\n\t# \"expect\" the same as the test above\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:only) shows only \"key: value\" trailers' '\n\tgit log --no-walk --pretty=\"%(trailers:only)\" >actual &&\n\t{\n\t\tgrep -v patch.description <trailers &&\n\t\techo\n\t} >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:only=yes) shows only \"key: value\" trailers' '\n\tgit log --no-walk --pretty=format:\"%(trailers:only=yes)\" >actual &&\n\tgrep -v patch.description <trailers >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:only=no) shows all trailers' '\n\tgit log --no-walk --pretty=format:\"%(trailers:only=no)\" >actual &&\n\tcat trailers >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:only=no,only=true) shows only \"key: value\" trailers' '\n\tgit log --no-walk --pretty=format:\"%(trailers:only=yes)\" >actual &&\n\tgrep -v patch.description <trailers >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:unfold) unfolds trailers' '\n\tgit log --no-walk --pretty=\"%(trailers:unfold)\" >actual &&\n\t{\n\t\tunfold <trailers &&\n\t\techo\n\t} >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success ':only and :unfold work together' '\n\tgit log --no-walk --pretty=\"%(trailers:only,unfold)\" >actual &&\n\tgit log --no-walk --pretty=\"%(trailers:unfold,only)\" >reverse &&\n\ttest_cmp actual reverse &&\n\t{\n\t\tgrep -v patch.description <trailers | unfold &&\n\t\techo\n\t} >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:key=foo) shows that trailer' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Acked-by)\" >actual &&\n\techo \"Acked-by: A U Thor <author@example.com>\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:key=foo) is case insensitive' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=AcKed-bY)\" >actual &&\n\techo \"Acked-by: A U Thor <author@example.com>\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:key=foo:) trailing colon also works' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Acked-by:)\" >actual &&\n\techo \"Acked-by: A U Thor <author@example.com>\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:key=foo) multiple keys' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Acked-by:,key=Signed-off-By)\" >actual &&\n\tgrep -v patch.description <trailers >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:key=nonexistent) becomes empty' '\n\tgit log --no-walk --pretty=\"x%(trailers:key=Nacked-by)x\" >actual &&\n\techo \"xx\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:key=foo) handles multiple lines even if folded' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Signed-Off-by)\" >actual &&\n\tgrep -v patch.description <trailers | grep -v Acked-by >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:key=foo,unfold) properly unfolds' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Signed-Off-by,unfold)\" >actual &&\n\tunfold <trailers | grep Signed-off-by >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:key=foo,only=no) also includes nontrailer lines' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Acked-by,only=no)\" >actual &&\n\t{\n\t\techo \"Acked-by: A U Thor <author@example.com>\" &&\n\t\tgrep patch.description <trailers\n\t} >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:key) without value is error' '\n\tgit log --no-walk --pretty=\"tformat:%(trailers:key)\" >actual &&\n\techo \"%(trailers:key)\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:keyonly) shows only keys' '\n\tgit log --no-walk --pretty=\"format:%(trailers:keyonly)\" >actual &&\n\ttest_write_lines \\\n\t\t\"Signed-off-by\" \\\n\t\t\"Acked-by\" \\\n\t\t\"[ v2 updated patch description ]\" \\\n\t\t\"Signed-off-by\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:key=foo,keyonly) shows only key' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Acked-by,keyonly)\" >actual &&\n\techo \"Acked-by\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:key=foo,valueonly) shows only value' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Acked-by,valueonly)\" >actual &&\n\techo \"A U Thor <author@example.com>\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:valueonly) shows only values' '\n\tgit log --no-walk --pretty=\"format:%(trailers:valueonly)\" >actual &&\n\ttest_write_lines \\\n\t\t\"A U Thor <author@example.com>\" \\\n\t\t\"A U Thor <author@example.com>\" \\\n\t\t\"[ v2 updated patch description ]\" \\\n\t\t\"A U Thor\" \\\n\t\t\"  <author@example.com>\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(trailers:key=foo,keyonly,valueonly) shows nothing' '\n\tgit log --no-walk --pretty=\"format:%(trailers:key=Acked-by,keyonly,valueonly)\" >actual &&\n\techo >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:separator) changes separator' '\n\tgit log --no-walk --pretty=format:\"X%(trailers:separator=%x00)X\" >actual &&\n\t(\n\t\tprintf \"XSigned-off-by: A U Thor <author@example.com>\\0\" &&\n\t\tprintf \"Acked-by: A U Thor <author@example.com>\\0\" &&\n\t\tprintf \"[ v2 updated patch description ]\\0\" &&\n\t\tprintf \"Signed-off-by: A U Thor\\n  <author@example.com>X\"\n\t) >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:separator=X,unfold) changes separator' '\n\tgit log --no-walk --pretty=format:\"X%(trailers:separator=%x00,unfold)X\" >actual &&\n\t(\n\t\tprintf \"XSigned-off-by: A U Thor <author@example.com>\\0\" &&\n\t\tprintf \"Acked-by: A U Thor <author@example.com>\\0\" &&\n\t\tprintf \"[ v2 updated patch description ]\\0\" &&\n\t\tprintf \"Signed-off-by: A U Thor <author@example.com>X\"\n\t) >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:key_value_separator) changes key-value separator' '\n\tgit log --no-walk --pretty=format:\"X%(trailers:key_value_separator=%x00)X\" >actual &&\n\t(\n\t\tprintf \"XSigned-off-by\\0A U Thor <author@example.com>\\n\" &&\n\t\tprintf \"Acked-by\\0A U Thor <author@example.com>\\n\" &&\n\t\tprintf \"[ v2 updated patch description ]\\n\" &&\n\t\tprintf \"Signed-off-by\\0A U Thor\\n  <author@example.com>\\nX\"\n\t) >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:key_value_separator,unfold) changes key-value separator' '\n\tgit log --no-walk --pretty=format:\"X%(trailers:key_value_separator=%x00,unfold)X\" >actual &&\n\t(\n\t\tprintf \"XSigned-off-by\\0A U Thor <author@example.com>\\n\" &&\n\t\tprintf \"Acked-by\\0A U Thor <author@example.com>\\n\" &&\n\t\tprintf \"[ v2 updated patch description ]\\n\" &&\n\t\tprintf \"Signed-off-by\\0A U Thor <author@example.com>\\nX\"\n\t) >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers:separator,key_value_separator) changes both separators' '\n\tgit log --no-walk --pretty=format:\"%(trailers:separator=%x00,key_value_separator=%x00%x00,unfold)\" >actual &&\n\t(\n\t\tprintf \"Signed-off-by\\0\\0A U Thor <author@example.com>\\0\" &&\n\t\tprintf \"Acked-by\\0\\0A U Thor <author@example.com>\\0\" &&\n\t\tprintf \"[ v2 updated patch description ]\\0\" &&\n\t\tprintf \"Signed-off-by\\0\\0A U Thor <author@example.com>\"\n\t) >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'pretty format %(trailers) combining separator/key/keyonly/valueonly' '\n\tgit commit --allow-empty -F - <<-\\EOF &&\n\tImportant fix\n\n\tThe fix is explained here\n\n\tCloses: #1234\n\tEOF\n\n\tgit commit --allow-empty -F - <<-\\EOF &&\n\tAnother fix\n\n\tThe fix is explained here\n\n\tCloses: #567\n\tCloses: #890\n\tEOF\n\n\tgit commit --allow-empty -F - <<-\\EOF &&\n\tDoes not close any tickets\n\tEOF\n\n\tgit log --pretty=\"%s% (trailers:separator=%x2c%x20,key=Closes,valueonly)\" HEAD~3.. >actual &&\n\ttest_write_lines \\\n\t\t\"Does not close any tickets\" \\\n\t\t\"Another fix #567, #890\" \\\n\t\t\"Important fix #1234\" >expect &&\n\ttest_cmp expect actual &&\n\n\tgit log --pretty=\"%s% (trailers:separator=%x2c%x20,key=Closes,keyonly)\" HEAD~3.. >actual &&\n\ttest_write_lines \\\n\t\t\"Does not close any tickets\" \\\n\t\t\"Another fix Closes, Closes\" \\\n\t\t\"Important fix Closes\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'trailer parsing not fooled by --- line' '\n\tgit commit --allow-empty -F - <<-\\EOF &&\n\tthis is the subject\n\n\tThis is the body. The message has a \"---\" line which would confuse a\n\tmessage+patch parser. But here we know we have only a commit message,\n\tso we get it right.\n\n\ttrailer: wrong\n\t---\n\tThis is more body.\n\n\ttrailer: right\n\tEOF\n\n\t{\n\t\techo \"trailer: right\" &&\n\t\techo\n\t} >expect &&\n\tgit log --no-walk --format=\"%(trailers)\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'set up %S tests' '\n\tgit checkout --orphan source-a &&\n\ttest_commit one &&\n\ttest_commit two &&\n\tgit checkout -b source-b HEAD^ &&\n\ttest_commit three\n'\n\ntest_expect_success 'log --format=%S paints branch names' '\n\tcat >expect <<-\\EOF &&\n\tsource-b\n\tsource-a\n\tsource-b\n\tEOF\n\tgit log --format=%S source-a source-b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --format=%S paints tag names' '\n\tgit tag -m tagged source-tag &&\n\tcat >expect <<-\\EOF &&\n\tsource-tag\n\tsource-a\n\tsource-tag\n\tEOF\n\tgit log --format=%S source-tag source-a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --format=%S paints symmetric ranges' '\n\tcat >expect <<-\\EOF &&\n\tsource-b\n\tsource-a\n\tEOF\n\tgit log --format=%S source-a...source-b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%S in git log --format works with other placeholders (part 1)' '\n\tgit log --format=\"source-b %h\" source-b >expect &&\n\tgit log --format=\"%S %h\" source-b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%S in git log --format works with other placeholders (part 2)' '\n\tgit log --format=\"%h source-b\" source-b >expect &&\n\tgit log --format=\"%h %S\" source-b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty=reference' '\n\tgit log --pretty=\"tformat:%h (%s, %as)\" >expect &&\n\tgit log --pretty=reference >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty=reference with log.date is overridden by short date' '\n\tgit log --pretty=\"tformat:%h (%s, %as)\" >expect &&\n\ttest_config log.date rfc &&\n\tgit log --pretty=reference >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty=reference with explicit date overrides short date' '\n\tgit log --date=rfc --pretty=\"tformat:%h (%s, %ad)\" >expect &&\n\tgit log --date=rfc --pretty=reference >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty=reference is never unabbreviated' '\n\tgit log --pretty=\"tformat:%h (%s, %as)\" >expect &&\n\tgit log --no-abbrev-commit --pretty=reference >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty=reference is never decorated' '\n\tgit log --pretty=\"tformat:%h (%s, %as)\" >expect &&\n\tgit log --decorate=short --pretty=reference >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty=reference does not output reflog info' '\n\tgit log --walk-reflogs --pretty=\"tformat:%h (%s, %as)\" >expect &&\n\tgit log --walk-reflogs --pretty=reference >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty=reference is colored appropriately' '\n\tgit log --color=always --pretty=\"tformat:%C(auto)%h (%s, %as)\" >expect &&\n\tgit log --color=always --pretty=reference >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(describe) vs git describe' '\n\tgit log --format=\"%H\" | while read hash\n\tdo\n\t\tif desc=$(git describe $hash)\n\t\tthen\n\t\t\t: >expect-contains-good\n\t\telse\n\t\t\t: >expect-contains-bad\n\t\tfi &&\n\t\techo \"$hash $desc\" || return 1\n\tdone >expect &&\n\ttest_path_exists expect-contains-good &&\n\ttest_path_exists expect-contains-bad &&\n\n\tgit log --format=\"%H %(describe)\" >actual 2>err &&\n\ttest_cmp expect actual &&\n\ttest_must_be_empty err\n'\n\ntest_expect_success '%(describe:match=...) vs git describe --match ...' '\n\ttest_when_finished \"git tag -d tag-match\" &&\n\tgit tag -a -m tagged tag-match &&\n\tgit describe --match \"*-match\" >expect &&\n\tgit log -1 --format=\"%(describe:match=*-match)\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(describe:exclude=...) vs git describe --exclude ...' '\n\ttest_when_finished \"git tag -d tag-exclude\" &&\n\tgit tag -a -m tagged tag-exclude &&\n\tgit describe --exclude \"*-exclude\" >expect &&\n\tgit log -1 --format=\"%(describe:exclude=*-exclude)\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(describe:tags) vs git describe --tags' '\n\ttest_when_finished \"git tag -d tagname\" &&\n\tgit tag tagname &&\n\tgit describe --tags >expect &&\n\tgit log -1 --format=\"%(describe:tags)\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success '%(describe:abbrev=...) vs git describe --abbrev=...' '\n\ttest_when_finished \"git tag -d tagname\" &&\n\n\t# Case 1: We have commits between HEAD and the most recent tag\n\t#\t  reachable from it\n\ttest_commit --no-tag file &&\n\tgit describe --abbrev=15 >expect &&\n\tgit log -1 --format=\"%(describe:abbrev=15)\" >actual &&\n\ttest_cmp expect actual &&\n\n\t# Make sure the hash used is at least 15 digits long\n\tsed -e \"s/^.*-g\\([0-9a-f]*\\)$/\\1/\" <actual >hexpart &&\n\ttest 16 -le $(wc -c <hexpart) &&\n\n\t# Case 2: We have a tag at HEAD, describe directly gives the\n\t#\t  name of the tag\n\tgit tag -a -m tagged tagname &&\n\tgit describe --abbrev=15 >expect &&\n\tgit log -1 --format=\"%(describe:abbrev=15)\" >actual &&\n\ttest_cmp expect actual &&\n\ttest tagname = $(cat actual)\n'\n\ntest_expect_success 'log --pretty with space stealing' '\n\tprintf mm0 >expect &&\n\tgit log -1 --pretty=\"format:mm%>>|(1)%x30\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty with invalid padding format' '\n\tprintf \"%s%%<(20\" \"$(git rev-parse HEAD)\" >expect &&\n\tgit log -1 --pretty=\"format:%H%<(20\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty with magical wrapping directives' '\n\tcommit_id=$(git commit-tree HEAD^{tree} -m \"describe me\") &&\n\tgit tag describe-me $commit_id &&\n\tprintf \"\\n(tag:\\ndescribe-me)%%+w(2)\" >expect &&\n\tgit log -1 --pretty=\"format:%w(1)%+d%+w(2)\" $commit_id >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success SIZE_T_IS_64BIT 'log --pretty with overflowing wrapping directive' '\n\tprintf \"%%w(2147483649,1,1)0\" >expect &&\n\tgit log -1 --pretty=\"format:%w(2147483649,1,1)%x30\" >actual &&\n\ttest_cmp expect actual &&\n\tprintf \"%%w(1,2147483649,1)0\" >expect &&\n\tgit log -1 --pretty=\"format:%w(1,2147483649,1)%x30\" >actual &&\n\ttest_cmp expect actual &&\n\tprintf \"%%w(1,1,2147483649)0\" >expect &&\n\tgit log -1 --pretty=\"format:%w(1,1,2147483649)%x30\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success SIZE_T_IS_64BIT 'log --pretty with overflowing padding directive' '\n\tprintf \"%%<(2147483649)0\" >expect &&\n\tgit log -1 --pretty=\"format:%<(2147483649)%x30\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty with padding and preceding control chars' '\n\tprintf \"\\20\\20   0\" >expect &&\n\tgit log -1 --pretty=\"format:%x10%x10%>|(4)%x30\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'log --pretty truncation with control chars' '\n\ttest_commit \"$(printf \"\\20\\20\\20\\20xxxx\")\" file contents commit-with-control-chars &&\n\tprintf \"\\20\\20\\20\\20x..\" >expect &&\n\tgit log -1 --pretty=\"format:%<(3,trunc)%s\" commit-with-control-chars >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success EXPENSIVE,SIZE_T_IS_64BIT 'log --pretty with huge commit message' '\n\t# We only assert that this command does not crash. This needs to be\n\t# executed with the address sanitizer to demonstrate failure.\n\tgit log -1 --pretty=\"format:%>(2147483646)%x41%41%>(2147483646)%x41\" >/dev/null\n'\n\ntest_expect_success EXPENSIVE,SIZE_T_IS_64BIT 'set up huge commit' '\n\ttest-tool genzeros 2147483649 | tr \"\\000\" \"1\" >expect &&\n\thuge_commit=$(git commit-tree -F expect HEAD^{tree})\n'\n\ntest_expect_success EXPENSIVE,SIZE_T_IS_64BIT 'log --pretty with huge commit message' '\n\tgit log -1 --format=\"%B%<(1)%x30\" $huge_commit >actual &&\n\techo 0 >>expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success EXPENSIVE,SIZE_T_IS_64BIT 'log --pretty with huge commit message does not cause allocation failure' '\n\ttest_must_fail git log -1 --format=\"%<(1)%B\" $huge_commit 2>error &&\n\tcat >expect <<-EOF &&\n\tfatal: number too large to represent as int on this platform: 2147483649\n\tEOF\n\ttest_cmp expect error\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00037ea9ffc4a38dc94ef0779cefc9dd8e9849e7",
  "sha1_ok": false,
  "size": 34620
}
