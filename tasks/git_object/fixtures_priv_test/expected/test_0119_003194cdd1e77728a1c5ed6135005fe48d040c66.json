{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMDUgSnVuaW8gQyBIYW1hbm8KIwoKLiBnaXQtc2gtc2V0dXAtc2NyaXB0IHx8IGRpZSAiTm90IGEgZ2l0IGFyY2hpdmUuIgoKdXNhZ2UgKCkgewogICAgZWNobyA+JjIgInVzYWdlOiAkMCInIFstbl0gWy1vIGRpcl0gWy0tbWJveF0gWy0tY2hlY2tdIFstPGRpZmYgb3B0aW9ucz4uLi5dIHVwc3RyZWFtIFsgb3VyLWhlYWQgXQoKUHJlcGFyZSBlYWNoIGNvbW1pdCB3aXRoIGl0cyBwYXRjaCBzaW5jZSBvdXItaGVhZCBmb3JrZWQgZnJvbSB1cHN0cmVhbSwKb25lIGZpbGUgcGVyIHBhdGNoLCBmb3IgZS1tYWlsIHN1Ym1pc3Npb24uICBFYWNoIG91dHB1dCBmaWxlIGlzCm51bWJlcmVkIHNlcXVlbnRpYWxseSBmcm9tIDEsIGFuZCB1c2VzIHRoZSBmaXJzdCBsaW5lIG9mIHRoZSBjb21taXQKbWVzc2FnZSAobWFzc2FnZWQgZm9yIHBhdGhuYW1lIHNhZmV0eSkgYXMgdGhlIGZpbGVuYW1lLgoKV2hlbiAtbyBpcyBzcGVjaWZpZWQsIG91dHB1dCBmaWxlcyBhcmUgY3JlYXRlZCBpbiB0aGF0IGRpcmVjdG9yeTsgb3RoZXJ3aXNlIGluCnRoZSBjdXJyZW50IHdvcmtpbmcgZGlyZWN0b3J5LgoKV2hlbiAtbiBpcyBzcGVjaWZpZWQsIGluc3RlYWQgb2YgIltQQVRDSF0gU3ViamVjdCIsIHRoZSBmaXJzdCBsaW5lIGlzIGZvcm1hdHRlZAphcyAiW1BBVENIIE4vTV0gU3ViamVjdCIsIHVubGVzcyB5b3UgaGF2ZSBvbmx5IG9uZSBwYXRjaC4KCldoZW4gLS1tYm94IGlzIHNwZWNpZmllZCwgdGhlIG91dHB1dCBpcyBmb3JtYXR0ZWQgdG8gcmVzZW1ibGUKVU5JWCBtYWlsYm94IGZvcm1hdCwgYW5kIGNhbiBiZSBjb25jYXRlbmF0ZWQgdG9nZXRoZXIgZm9yIHByb2Nlc3NpbmcKd2l0aCBhcHBseW1ib3guCicKICAgIGV4aXQgMQp9CgpkaWZmX29wdHM9CklGUz0nCicKTEY9JwonCgpvdXRkaXI9Li8Kd2hpbGUgY2FzZSAiJCMiIGluIDApIGJyZWFrOzsgZXNhYwpkbwogICAgY2FzZSAiJDEiIGluCiAgICAtYXwtLWF8LS1hdXwtLWF1dHwtLWF1dGh8LS1hdXRob3wtLWF1dGhvcikKICAgIGF1dGhvcj10IDs7CiAgICAtY3wtLWN8LS1jaHwtLWNoZXwtLWNoZWN8LS1jaGVjaykKICAgIGNoZWNrPXQgOzsKICAgIC1kfC0tZHwtLWRhfC0tZGF0fC0tZGF0ZSkKICAgIGRhdGU9dCA7OwogICAgLW18LS1tfC0tbWJ8LS1tYm98LS1tYm94KQogICAgZGF0ZT10IGF1dGhvcj10IG1ib3g9dCA7OwogICAgLW58LS1ufC0tbnV8LS1udW18LS1udW1ifC0tbnVtYmV8LS1udW1iZXJ8LS1udW1iZXJlfC0tbnVtYmVyZWQpCiAgICBudW1iZXJlZD10IDs7CiAgICAtbz0qfC0tbz0qfC0tb3U9KnwtLW91dD0qfC0tb3V0cD0qfC0tb3V0cHU9KnwtLW91dHB1dD0qfC0tb3V0cHV0LT0qfFwKICAgIC0tb3V0cHV0LWQ9KnwtLW91dHB1dC1kaT0qfC0tb3V0cHV0LWRpcj0qfC0tb3V0cHV0LWRpcmU9KnxcCiAgICAtLW91dHB1dC1kaXJlYz0qfC0tb3V0cHV0LWRpcmVjdD0qfC0tb3V0cHV0LWRpcmVjdG89KnxcCiAgICAtLW91dHB1dC1kaXJlY3Rvcj0qfC0tb3V0cHV0LWRpcmVjdG9yeT0qKQogICAgb3V0ZGlyPWBleHByICIkMSIgOiAnLVtePV0qPVwoLipcKSdgIDs7CiAgICAtb3wtLW98LS1vdXwtLW91dHwtLW91dHB8LS1vdXRwdXwtLW91dHB1dHwtLW91dHB1dC18LS1vdXRwdXQtZHxcCiAgICAtLW91dHB1dC1kaXwtLW91dHB1dC1kaXJ8LS1vdXRwdXQtZGlyZXwtLW91dHB1dC1kaXJlY3wtLW91dHB1dC1kaXJlY3R8XAogICAgLS1vdXRwdXQtZGlyZWN0b3wtLW91dHB1dC1kaXJlY3RvcnwtLW91dHB1dC1kaXJlY3RvcnkpCiAgICBjYXNlICIkIyIgaW4gMSkgdXNhZ2UgOzsgZXNhYzsgc2hpZnQKICAgIG91dGRpcj0iJDEiIDs7CiAgICAtKikJZGlmZl9vcHRzPSIkZGlmZl9vcHRzJExGJDEiIDs7CiAgICAqKSBicmVhayA7OwogICAgZXNhYwogICAgc2hpZnQKZG9uZQoKcmV2cGFpcj0KY2FzZSAiJCMiIGluCjIpCiAgICByZXZwYWlyPSIkMS4uJDIiIDs7CjEpCiAgICBjYXNlICIkMSIgaW4KICAgICouLiopCiAgICAJcmV2cGFpcj0iJDEiOzsKICAgICopCglyZXZwYWlyPSIkMS4uSEVBRCI7OwogICAgZXNhYyA7OwoqKQogICAgdXNhZ2UgOzsKZXNhYwoKbWU9YGdpdC12YXIgR0lUX0FVVEhPUl9JREVOVCB8IHNlZCAtZSAncy8+LiovPi8nYAoKY2FzZSAiJG91dGRpciIgaW4KKi8pIDs7CiopIG91dGRpcj0iJG91dGRpci8iIDs7CmVzYWMKdGVzdCAtZCAiJG91dGRpciIgfHwgbWtkaXIgLXAgIiRvdXRkaXIiIHx8IGV4aXQKCnRtcD0udG1wLXNlcmllcyQkCnRyYXAgJ3JtIC1mICR0bXAtKicgMCAxIDIgMyAxNQoKc2VyaWVzPSR0bXAtc2VyaWVzCmNvbW1zZz0kdG1wLWNvbW1zZwpmaWxlbGlzdD0kdG1wLWZpbGVzCgp0aXRsZVNjcmlwdD0nCgkvLi9kCgkvXiQvbgoJcy9eXFtQQVRDSFteXV0qXF0gKi8vCglzL1teLWEtei5BLVpfMC05XS8tL2cKICAgICAgICBzL1wuXC5cLiovXC4vZwoJcy9cLiokLy8KCXMvLS0qLy0vZwoJcy9eLS8vCglzLy0kLy8KCXMvJC8uLwoJcAoJcQonCgp3aG9zZXBhdGNoU2NyaXB0PScKL15hdXRob3IgL3sKCXMvYXV0aG9yIFwoLio+XCkgXCguKlwpJC9hdT0nXCcnXDEnXCcnIGFkPSdcJydcMidcJycvcAoJcQp9JwoKX3g0MD0nWzAtOWEtZl1bMC05YS1mXVswLTlhLWZdWzAtOWEtZl1bMC05YS1mXScKX3g0MD0iJF94NDAkX3g0MCRfeDQwJF94NDAkX3g0MCRfeDQwJF94NDAkX3g0MCIKc3RyaXBDb21taXRIZWFkPScvXiciJF94NDAiJyAoZnJvbSAnIiRfeDQwIicpJC9kJwoKZ2l0LXJldi1saXN0IC0tbWVyZ2Utb3JkZXIgJChnaXQtcmV2LXBhcnNlIC0tcmV2cy1vbmx5ICIkcmV2cGFpciIpID4kc2VyaWVzCnRvdGFsPWB3YyAtbCA8JHNlcmllcyB8IHRyIC1kYyAiWzAtOV0iYAppPSR0b3RhbAp3aGlsZSByZWFkIGNvbW1pdApkbwogICAgZ2l0LWNhdC1maWxlIGNvbW1pdCAiJGNvbW1pdCIgfCBnaXQtc3RyaXBzcGFjZSA+JGNvbW1zZwogICAgdGl0bGU9YHNlZCAtbmUgIiR0aXRsZVNjcmlwdCIgPCRjb21tc2dgCiAgICBjYXNlICIkbnVtYmVyZWQiIGluCiAgICAnJykgbnVtPSA7OwogICAgKikKCWNhc2UgJHRvdGFsIGluCgkxKSBudW09IDs7CgkqKSBudW09JyAnYHByaW50ZiAiJWQvJWQiICRpICR0b3RhbGAgOzsKCWVzYWMKICAgIGVzYWMKCiAgICBmaWxlPWBwcmludGYgJyUwNGQtJXN0eHQnICRpICIkdGl0bGUiYAogICAgaT1gZXhwciAiJGkiIC0gMWAKICAgIGVjaG8gPiYyICIqICRmaWxlIgogICAgewoJbWFpbFNjcmlwdD0nCgkvLi9kCgkvXiQvbgoJc3xeXFtQQVRDSFteXV0qXF0gKnx8JwoKCWNhc2UgIiRtYm94IiBpbgoJdCkKCSAgICBlY2hvICdGcm9tIG5vYm9keSBNb24gU2VwIDE3IDAwOjAwOjAwIDIwMDEnIDsjIFVOSVggIkZyb20iIGxpbmUKCSAgICBtYWlsU2NyaXB0PSIkbWFpbFNjcmlwdCInCgkgICAgc3xefFN1YmplY3Q6IFtQQVRDSCciJG51bSInXSB8JwoJICAgIDs7CgkqKQoJICAgIG1haWxTY3JpcHQ9IiRtYWlsU2NyaXB0IicKCSAgICBzfF58W1BBVENIJyIkbnVtIiddIHwnCgkgICAgOzsKCWVzYWMKCglldmFsICIkKHNlZCAtbmUgIiR3aG9zZXBhdGNoU2NyaXB0IiAkY29tbXNnKSIKCXRlc3QgIiRhdXRob3IsJGF1IiA9ICIsJG1lIiB8fCB7CgkJbWFpbFNjcmlwdD0iJG1haWxTY3JpcHQiJwoJYVwKRnJvbTogJyIkYXUiCgl9Cgl0ZXN0ICIkZGF0ZSwkYXUiID0gIiwkbWUiIHx8IHsKCQltYWlsU2NyaXB0PSIkbWFpbFNjcmlwdCInCglhXApEYXRlOiAnIiRhZCIKCX0KCgltYWlsU2NyaXB0PSIkbWFpbFNjcmlwdCInCgk6IGJvZHkKCXAKCW4KCWIgYm9keScKCglzZWQgLW5lICIkbWFpbFNjcmlwdCIgPCRjb21tc2cKCWVjaG8gJy0tLScKCWVjaG8KCWdpdC1kaWZmLXRyZWUgLXAgJGRpZmZfb3B0cyAiJGNvbW1pdCIgfCBnaXQtYXBwbHkgLS1zdGF0IC0tc3VtbWFyeQoJZWNobwoJZ2l0LWRpZmYtdHJlZSAtcCAkZGlmZl9vcHRzICIkY29tbWl0IiB8IHNlZCAtZSAiJHN0cmlwQ29tbWl0SGVhZCIKCgljYXNlICIkbWJveCIgaW4KCXQpCgkJZWNobwoJCTs7Cgllc2FjCiAgICB9ID4iJG91dGRpciRmaWxlIgogICAgY2FzZSAiJGNoZWNrIiBpbgogICAgdCkKCSMgVGhpcyBpcyBzbGlnaHRseSBtb2RpZmllZCBmcm9tIEFuZHJldyBNb3J0b24ncyBQZXJmZWN0IFBhdGNoLgoJIyBMaW5lcyB5b3UgaW50cm9kdWNlIHNob3VsZCBub3QgaGF2ZSB0cmFpbGluZyB3aGl0ZXNwYWNlLgoJIyBBbHNvIGNoZWNrIGZvciBhbiBpbmRlbnRhdGlvbiB0aGF0IGhhcyBTUCBiZWZvcmUgYSBUQUIuCiAgICAgICAgZ3JlcCAtbiAnXitcKFsgCV0qIAkuKlx8LipbIAldXCkkJyAiJG91dGRpciRmaWxlIgoKCTogZG8gbm90IGV4aXQgd2l0aCBub24temVybyBiZWNhdXNlIHdlIHNhdyBubyBwcm9ibGVtIGluIHRoZSBsYXN0IG9uZS4KICAgIGVzYWMKZG9uZSA8JHNlcmllcwo=",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2005 Junio C Hamano\n#\n\n. git-sh-setup-script || die \"Not a git archive.\"\n\nusage () {\n    echo >&2 \"usage: $0\"' [-n] [-o dir] [--mbox] [--check] [-<diff options>...] upstream [ our-head ]\n\nPrepare each commit with its patch since our-head forked from upstream,\none file per patch, for e-mail submission.  Each output file is\nnumbered sequentially from 1, and uses the first line of the commit\nmessage (massaged for pathname safety) as the filename.\n\nWhen -o is specified, output files are created in that directory; otherwise in\nthe current working directory.\n\nWhen -n is specified, instead of \"[PATCH] Subject\", the first line is formatted\nas \"[PATCH N/M] Subject\", unless you have only one patch.\n\nWhen --mbox is specified, the output is formatted to resemble\nUNIX mailbox format, and can be concatenated together for processing\nwith applymbox.\n'\n    exit 1\n}\n\ndiff_opts=\nIFS='\n'\nLF='\n'\n\noutdir=./\nwhile case \"$#\" in 0) break;; esac\ndo\n    case \"$1\" in\n    -a|--a|--au|--aut|--auth|--autho|--author)\n    author=t ;;\n    -c|--c|--ch|--che|--chec|--check)\n    check=t ;;\n    -d|--d|--da|--dat|--date)\n    date=t ;;\n    -m|--m|--mb|--mbo|--mbox)\n    date=t author=t mbox=t ;;\n    -n|--n|--nu|--num|--numb|--numbe|--number|--numbere|--numbered)\n    numbered=t ;;\n    -o=*|--o=*|--ou=*|--out=*|--outp=*|--outpu=*|--output=*|--output-=*|\\\n    --output-d=*|--output-di=*|--output-dir=*|--output-dire=*|\\\n    --output-direc=*|--output-direct=*|--output-directo=*|\\\n    --output-director=*|--output-directory=*)\n    outdir=`expr \"$1\" : '-[^=]*=\\(.*\\)'` ;;\n    -o|--o|--ou|--out|--outp|--outpu|--output|--output-|--output-d|\\\n    --output-di|--output-dir|--output-dire|--output-direc|--output-direct|\\\n    --output-directo|--output-director|--output-directory)\n    case \"$#\" in 1) usage ;; esac; shift\n    outdir=\"$1\" ;;\n    -*)\tdiff_opts=\"$diff_opts$LF$1\" ;;\n    *) break ;;\n    esac\n    shift\ndone\n\nrevpair=\ncase \"$#\" in\n2)\n    revpair=\"$1..$2\" ;;\n1)\n    case \"$1\" in\n    *..*)\n    \trevpair=\"$1\";;\n    *)\n\trevpair=\"$1..HEAD\";;\n    esac ;;\n*)\n    usage ;;\nesac\n\nme=`git-var GIT_AUTHOR_IDENT | sed -e 's/>.*/>/'`\n\ncase \"$outdir\" in\n*/) ;;\n*) outdir=\"$outdir/\" ;;\nesac\ntest -d \"$outdir\" || mkdir -p \"$outdir\" || exit\n\ntmp=.tmp-series$$\ntrap 'rm -f $tmp-*' 0 1 2 3 15\n\nseries=$tmp-series\ncommsg=$tmp-commsg\nfilelist=$tmp-files\n\ntitleScript='\n\t/./d\n\t/^$/n\n\ts/^\\[PATCH[^]]*\\] *//\n\ts/[^-a-z.A-Z_0-9]/-/g\n        s/\\.\\.\\.*/\\./g\n\ts/\\.*$//\n\ts/--*/-/g\n\ts/^-//\n\ts/-$//\n\ts/$/./\n\tp\n\tq\n'\n\nwhosepatchScript='\n/^author /{\n\ts/author \\(.*>\\) \\(.*\\)$/au='\\''\\1'\\'' ad='\\''\\2'\\''/p\n\tq\n}'\n\n_x40='[0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]'\n_x40=\"$_x40$_x40$_x40$_x40$_x40$_x40$_x40$_x40\"\nstripCommitHead='/^'\"$_x40\"' (from '\"$_x40\"')$/d'\n\ngit-rev-list --merge-order $(git-rev-parse --revs-only \"$revpair\") >$series\ntotal=`wc -l <$series | tr -dc \"[0-9]\"`\ni=$total\nwhile read commit\ndo\n    git-cat-file commit \"$commit\" | git-stripspace >$commsg\n    title=`sed -ne \"$titleScript\" <$commsg`\n    case \"$numbered\" in\n    '') num= ;;\n    *)\n\tcase $total in\n\t1) num= ;;\n\t*) num=' '`printf \"%d/%d\" $i $total` ;;\n\tesac\n    esac\n\n    file=`printf '%04d-%stxt' $i \"$title\"`\n    i=`expr \"$i\" - 1`\n    echo >&2 \"* $file\"\n    {\n\tmailScript='\n\t/./d\n\t/^$/n\n\ts|^\\[PATCH[^]]*\\] *||'\n\n\tcase \"$mbox\" in\n\tt)\n\t    echo 'From nobody Mon Sep 17 00:00:00 2001' ;# UNIX \"From\" line\n\t    mailScript=\"$mailScript\"'\n\t    s|^|Subject: [PATCH'\"$num\"'] |'\n\t    ;;\n\t*)\n\t    mailScript=\"$mailScript\"'\n\t    s|^|[PATCH'\"$num\"'] |'\n\t    ;;\n\tesac\n\n\teval \"$(sed -ne \"$whosepatchScript\" $commsg)\"\n\ttest \"$author,$au\" = \",$me\" || {\n\t\tmailScript=\"$mailScript\"'\n\ta\\\nFrom: '\"$au\"\n\t}\n\ttest \"$date,$au\" = \",$me\" || {\n\t\tmailScript=\"$mailScript\"'\n\ta\\\nDate: '\"$ad\"\n\t}\n\n\tmailScript=\"$mailScript\"'\n\t: body\n\tp\n\tn\n\tb body'\n\n\tsed -ne \"$mailScript\" <$commsg\n\techo '---'\n\techo\n\tgit-diff-tree -p $diff_opts \"$commit\" | git-apply --stat --summary\n\techo\n\tgit-diff-tree -p $diff_opts \"$commit\" | sed -e \"$stripCommitHead\"\n\n\tcase \"$mbox\" in\n\tt)\n\t\techo\n\t\t;;\n\tesac\n    } >\"$outdir$file\"\n    case \"$check\" in\n    t)\n\t# This is slightly modified from Andrew Morton's Perfect Patch.\n\t# Lines you introduce should not have trailing whitespace.\n\t# Also check for an indentation that has SP before a TAB.\n        grep -n '^+\\([ \t]* \t.*\\|.*[ \t]\\)$' \"$outdir$file\"\n\n\t: do not exit with non-zero because we saw no problem in the last one.\n    esac\ndone <$series\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "003194cdd1e77728a1c5ed6135005fe48d040c66",
  "sha1_ok": true,
  "size": 4388
}
