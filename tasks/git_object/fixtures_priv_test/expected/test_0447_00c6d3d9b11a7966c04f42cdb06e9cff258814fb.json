{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMTAgw4Z2YXIgQXJuZmrDtnLDsCBCamFybWFzb24KIwoKdGVzdF9kZXNjcmlwdGlvbj0nR2V0dGV4dCBTaGVsbCBmYWxsYmFja3MnCgpHSVRfSU5URVJOQUxfR0VUVEVYVF9URVNUX0ZBTExCQUNLUz1ZZXNQbGVhc2UKZXhwb3J0IEdJVF9JTlRFUk5BTF9HRVRURVhUX1RFU1RfRkFMTEJBQ0tTCgouIC4vbGliLWdldHRleHQuc2gKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgInNhbml0eTogXCRHSVRfSU5URVJOQUxfR0VUVEVYVF9TSF9TQ0hFTUUgaXMgc2V0ICh0byAkR0lUX0lOVEVSTkFMX0dFVFRFWFRfU0hfU0NIRU1FKSIgJwogICAgdGVzdCAtbiAiJEdJVF9JTlRFUk5BTF9HRVRURVhUX1NIX1NDSEVNRSIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2FuaXR5OiAkR0lUX0lOVEVSTkFMX0dFVFRFWFRfVEVTVF9GQUxMQkFDS1MgaXMgc2V0JyAnCiAgICB0ZXN0IC1uICIkR0lUX0lOVEVSTkFMX0dFVFRFWFRfVEVTVF9GQUxMQkFDS1MiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgQ19MT0NBTEVfT1VUUFVUICdzYW5pdHk6ICRHSVRfSU5URVJOQUxfR0VUVEVYVF9TSF9TQ0hFTUUiIGlzIGZhbGx0aHJvdWdoJyAnCiAgICBlY2hvIGZhbGx0aHJvdWdoID5leHBlY3QgJiYKICAgIGVjaG8gJEdJVF9JTlRFUk5BTF9HRVRURVhUX1NIX1NDSEVNRSA+YWN0dWFsICYmCiAgICB0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2dldHRleHQ6IG91ciBnZXR0ZXh0KCkgZmFsbGJhY2sgaGFzIHBhc3MtdGhyb3VnaCBzZW1hbnRpY3MnICcKICAgIHByaW50ZiAidGVzdCIgPmV4cGVjdCAmJgogICAgZ2V0dGV4dCAidGVzdCIgPmFjdHVhbCAmJgogICAgdGVzdF9pMThuY21wIGV4cGVjdCBhY3R1YWwgJiYKICAgIHByaW50ZiAidGVzdCBtb3JlIHdvcmRzIiA+ZXhwZWN0ICYmCiAgICBnZXR0ZXh0ICJ0ZXN0IG1vcmUgd29yZHMiID5hY3R1YWwgJiYKICAgIHRlc3RfaTE4bmNtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2V2YWxfZ2V0dGV4dDogb3VyIGV2YWxfZ2V0dGV4dCgpIGZhbGxiYWNrIGhhcyBwYXNzLXRocm91Z2ggc2VtYW50aWNzJyAnCiAgICBwcmludGYgInRlc3QiID5leHBlY3QgJiYKICAgIGV2YWxfZ2V0dGV4dCAidGVzdCIgPmFjdHVhbCAmJgogICAgdGVzdF9pMThuY21wIGV4cGVjdCBhY3R1YWwgJiYKICAgIHByaW50ZiAidGVzdCBtb3JlIHdvcmRzIiA+ZXhwZWN0ICYmCiAgICBldmFsX2dldHRleHQgInRlc3QgbW9yZSB3b3JkcyIgPmFjdHVhbCAmJgogICAgdGVzdF9pMThuY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZXZhbF9nZXR0ZXh0OiBvdXIgZXZhbF9nZXR0ZXh0KCkgZmFsbGJhY2sgY2FuIGludGVycG9sYXRlIHZhcmlhYmxlcycgJwogICAgcHJpbnRmICJ0ZXN0IFllc1BsZWFzZSIgPmV4cGVjdCAmJgogICAgR0lUX0lOVEVSTkFMX0dFVFRFWFRfVEVTVF9GQUxMQkFDS1M9WWVzUGxlYXNlIGV2YWxfZ2V0dGV4dCAidGVzdCBcJEdJVF9JTlRFUk5BTF9HRVRURVhUX1RFU1RfRkFMTEJBQ0tTIiA+YWN0dWFsICYmCiAgICB0ZXN0X2kxOG5jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdldmFsX2dldHRleHQ6IG91ciBldmFsX2dldHRleHQoKSBmYWxsYmFjayBjYW4gaW50ZXJwb2xhdGUgdmFyaWFibGVzIHdpdGggc3BhY2VzJyAnCiAgICBjbWRsaW5lPSJnaXQgYW0iICYmCiAgICBleHBvcnQgY21kbGluZTsKICAgIHByaW50ZiAiV2hlbiB5b3UgaGF2ZSByZXNvbHZlZCB0aGlzIHByb2JsZW0sIHJ1biBnaXQgYW0gLS1yZXNvbHZlZC4iID5leHBlY3QgJiYKICAgIGV2YWxfZ2V0dGV4dCAiV2hlbiB5b3UgaGF2ZSByZXNvbHZlZCB0aGlzIHByb2JsZW0sIHJ1biBcJGNtZGxpbmUgLS1yZXNvbHZlZC4iID5hY3R1YWwgJiYKICAgIHRlc3RfaTE4bmNtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2V2YWxfZ2V0dGV4dDogb3VyIGV2YWxfZ2V0dGV4dCgpIGZhbGxiYWNrIGNhbiBpbnRlcnBvbGF0ZSB2YXJpYWJsZXMgd2l0aCBzcGFjZXMgYW5kIHF1b3RlcycgJwogICAgY21kbGluZT0iZ2l0IGFtIiAmJgogICAgZXhwb3J0IGNtZGxpbmU7CiAgICBwcmludGYgIldoZW4geW91IGhhdmUgcmVzb2x2ZWQgdGhpcyBwcm9ibGVtLCBydW4gXCJnaXQgYW0gLS1yZXNvbHZlZFwiLiIgPmV4cGVjdCAmJgogICAgZXZhbF9nZXR0ZXh0ICJXaGVuIHlvdSBoYXZlIHJlc29sdmVkIHRoaXMgcHJvYmxlbSwgcnVuIFwiXCRjbWRsaW5lIC0tcmVzb2x2ZWRcIi4iID5hY3R1YWwgJiYKICAgIHRlc3RfaTE4bmNtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZG9uZQo=",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2010 \u00c6var Arnfj\u00f6r\u00f0 Bjarmason\n#\n\ntest_description='Gettext Shell fallbacks'\n\nGIT_INTERNAL_GETTEXT_TEST_FALLBACKS=YesPlease\nexport GIT_INTERNAL_GETTEXT_TEST_FALLBACKS\n\n. ./lib-gettext.sh\n\ntest_expect_success \"sanity: \\$GIT_INTERNAL_GETTEXT_SH_SCHEME is set (to $GIT_INTERNAL_GETTEXT_SH_SCHEME)\" '\n    test -n \"$GIT_INTERNAL_GETTEXT_SH_SCHEME\"\n'\n\ntest_expect_success 'sanity: $GIT_INTERNAL_GETTEXT_TEST_FALLBACKS is set' '\n    test -n \"$GIT_INTERNAL_GETTEXT_TEST_FALLBACKS\"\n'\n\ntest_expect_success C_LOCALE_OUTPUT 'sanity: $GIT_INTERNAL_GETTEXT_SH_SCHEME\" is fallthrough' '\n    echo fallthrough >expect &&\n    echo $GIT_INTERNAL_GETTEXT_SH_SCHEME >actual &&\n    test_cmp expect actual\n'\n\ntest_expect_success 'gettext: our gettext() fallback has pass-through semantics' '\n    printf \"test\" >expect &&\n    gettext \"test\" >actual &&\n    test_i18ncmp expect actual &&\n    printf \"test more words\" >expect &&\n    gettext \"test more words\" >actual &&\n    test_i18ncmp expect actual\n'\n\ntest_expect_success 'eval_gettext: our eval_gettext() fallback has pass-through semantics' '\n    printf \"test\" >expect &&\n    eval_gettext \"test\" >actual &&\n    test_i18ncmp expect actual &&\n    printf \"test more words\" >expect &&\n    eval_gettext \"test more words\" >actual &&\n    test_i18ncmp expect actual\n'\n\ntest_expect_success 'eval_gettext: our eval_gettext() fallback can interpolate variables' '\n    printf \"test YesPlease\" >expect &&\n    GIT_INTERNAL_GETTEXT_TEST_FALLBACKS=YesPlease eval_gettext \"test \\$GIT_INTERNAL_GETTEXT_TEST_FALLBACKS\" >actual &&\n    test_i18ncmp expect actual\n'\n\ntest_expect_success 'eval_gettext: our eval_gettext() fallback can interpolate variables with spaces' '\n    cmdline=\"git am\" &&\n    export cmdline;\n    printf \"When you have resolved this problem, run git am --resolved.\" >expect &&\n    eval_gettext \"When you have resolved this problem, run \\$cmdline --resolved.\" >actual &&\n    test_i18ncmp expect actual\n'\n\ntest_expect_success 'eval_gettext: our eval_gettext() fallback can interpolate variables with spaces and quotes' '\n    cmdline=\"git am\" &&\n    export cmdline;\n    printf \"When you have resolved this problem, run \\\"git am --resolved\\\".\" >expect &&\n    eval_gettext \"When you have resolved this problem, run \\\"\\$cmdline --resolved\\\".\" >actual &&\n    test_i18ncmp expect actual\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00c6d3d9b11a7966c04f42cdb06e9cff258814fb",
  "sha1_ok": true,
  "size": 2348
}
