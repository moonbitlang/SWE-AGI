{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMDYgU2hhd24gUGVhcmNlCiMKCnRlc3RfZGVzY3JpcHRpb249J1Rlc3QgZ2l0IHVwZGF0ZS1yZWYgYW5kIGJhc2ljIHJlZiBsb2dnaW5nJwouIC4vdGVzdC1saWIuc2gKClo9JF96NDAKCnRlc3RfZXhwZWN0X3N1Y2Nlc3Mgc2V0dXAgJwoKCWZvciBuYW1lIGluIEEgQiBDIEQgRSBGCglkbwoJCXRlc3RfdGljayAmJgoJCVQ9JChnaXQgd3JpdGUtdHJlZSkgJiYKCQlzaGExPSQoZWNobyAkbmFtZSB8IGdpdCBjb21taXQtdHJlZSAkVCkgJiYKCQlldmFsICRuYW1lPSRzaGExCglkb25lCgonCgptPXJlZnMvaGVhZHMvbWFzdGVyCm5fZGlyPXJlZnMvaGVhZHMvZ3UKbj0kbl9kaXIvZml4ZXMKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJImNyZWF0ZSAkbSIgXAoJImdpdCB1cGRhdGUtcmVmICRtICRBICYmCgkgdGVzdCAkQSInID0gJChjYXQgLmdpdC8nIiRtIicpJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJjcmVhdGUgJG0iIFwKCSJnaXQgdXBkYXRlLXJlZiAkbSAkQiAkQSAmJgoJIHRlc3QgJEIiJyA9ICQoY2F0IC5naXQvJyIkbSInKScKdGVzdF9leHBlY3Rfc3VjY2VzcyAiZmFpbCB0byBkZWxldGUgJG0gd2l0aCBzdGFsZSByZWYiICcKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC1kICRtICRBICYmCgl0ZXN0ICRCID0gIiQoY2F0IC5naXQvJG0pIgonCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgImRlbGV0ZSAkbSIgJwoJZ2l0IHVwZGF0ZS1yZWYgLWQgJG0gJEIgJiYKCSEgdGVzdCAtZiAuZ2l0LyRtCicKcm0gLWYgLmdpdC8kbQoKdGVzdF9leHBlY3Rfc3VjY2VzcyAiZGVsZXRlICRtIHdpdGhvdXQgb2xkdmFsdWUgdmVyaWZpY2F0aW9uIiAiCglnaXQgdXBkYXRlLXJlZiAkbSAkQSAmJgoJdGVzdCAkQSA9IFwkKGNhdCAuZ2l0LyRtKSAmJgoJZ2l0IHVwZGF0ZS1yZWYgLWQgJG0gJiYKCSEgdGVzdCAtZiAuZ2l0LyRtCiIKcm0gLWYgLmdpdC8kbQoKdGVzdF9leHBlY3Rfc3VjY2VzcyBcCgkiZmFpbCB0byBjcmVhdGUgJG4iIFwKCSJ0b3VjaCAuZ2l0LyRuX2RpciAmJgoJIHRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmICRuICRBID5vdXQgMj5lcnIiCnJtIC1mIC5naXQvJG5fZGlyIG91dCBlcnIKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJImNyZWF0ZSAkbSAoYnkgSEVBRCkiIFwKCSJnaXQgdXBkYXRlLXJlZiBIRUFEICRBICYmCgkgdGVzdCAkQSInID0gJChjYXQgLmdpdC8nIiRtIicpJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJjcmVhdGUgJG0gKGJ5IEhFQUQpIiBcCgkiZ2l0IHVwZGF0ZS1yZWYgSEVBRCAkQiAkQSAmJgoJIHRlc3QgJEIiJyA9ICQoY2F0IC5naXQvJyIkbSInKScKdGVzdF9leHBlY3Rfc3VjY2VzcyAiZmFpbCB0byBkZWxldGUgJG0gKGJ5IEhFQUQpIHdpdGggc3RhbGUgcmVmIiAnCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAtZCBIRUFEICRBICYmCgl0ZXN0ICRCID0gJChjYXQgLmdpdC8kbSkKJwp0ZXN0X2V4cGVjdF9zdWNjZXNzICJkZWxldGUgJG0gKGJ5IEhFQUQpIiAnCglnaXQgdXBkYXRlLXJlZiAtZCBIRUFEICRCICYmCgkhIHRlc3QgLWYgLmdpdC8kbQonCnJtIC1mIC5naXQvJG0KCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJImNyZWF0ZSAkbSAoYnkgSEVBRCkiIFwKCSJnaXQgdXBkYXRlLXJlZiBIRUFEICRBICYmCgkgdGVzdCAkQSInID0gJChjYXQgLmdpdC8nIiRtIicpJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJwYWNrIHJlZnMiIFwKCSJnaXQgcGFjay1yZWZzIC0tYWxsIgp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJtb3ZlICRtIChieSBIRUFEKSIgXAoJImdpdCB1cGRhdGUtcmVmIEhFQUQgJEIgJEEgJiYKCSB0ZXN0ICRCIicgPSAkKGNhdCAuZ2l0LyciJG0iJyknCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgImRlbGV0ZSAkbSAoYnkgSEVBRCkgc2hvdWxkIHJlbW92ZSBib3RoIHBhY2tlZCBhbmQgbG9vc2UgJG0iICcKCWdpdCB1cGRhdGUtcmVmIC1kIEhFQUQgJEIgJiYKCSEgZ3JlcCAiJG0iIC5naXQvcGFja2VkLXJlZnMgJiYKCSEgdGVzdCAtZiAuZ2l0LyRtCicKcm0gLWYgLmdpdC8kbQoKY3AgLWYgLmdpdC9IRUFEIC5naXQvSEVBRC5vcmlnCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgImRlbGV0ZSBzeW1yZWYgd2l0aG91dCBkZXJlZmVyZW5jZSIgJwoJZ2l0IHVwZGF0ZS1yZWYgLS1uby1kZXJlZiAtZCBIRUFEICYmCgkhIHRlc3QgLWYgLmdpdC9IRUFECicKY3AgLWYgLmdpdC9IRUFELm9yaWcgLmdpdC9IRUFECgp0ZXN0X2V4cGVjdF9zdWNjZXNzICJkZWxldGUgc3ltcmVmIHdpdGhvdXQgZGVyZWZlcmVuY2Ugd2hlbiB0aGUgcmVmZXJyZWQgcmVmIGlzIHBhY2tlZCIgJwoJZWNobyBmb28gPmZvby5jICYmCglnaXQgYWRkIGZvby5jICYmCglnaXQgY29tbWl0IC1tIGZvbyAmJgoJZ2l0IHBhY2stcmVmcyAtLWFsbCAmJgoJZ2l0IHVwZGF0ZS1yZWYgLS1uby1kZXJlZiAtZCBIRUFEICYmCgkhIHRlc3QgLWYgLmdpdC9IRUFECicKY3AgLWYgLmdpdC9IRUFELm9yaWcgLmdpdC9IRUFECmdpdCB1cGRhdGUtcmVmIC1kICRtCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICcobm90KSBjcmVhdGUgSEVBRCB3aXRoIG9sZCBzaGExJyAiCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiBIRUFEICRBICRCCiIKdGVzdF9leHBlY3Rfc3VjY2VzcyAiKG5vdCkgcHJpb3IgY3JlYXRlZCAuZ2l0LyRtIiAiCgkhIHRlc3QgLWYgLmdpdC8kbQoiCnJtIC1mIC5naXQvJG0KCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJImNyZWF0ZSBIRUFEIiBcCgkiZ2l0IHVwZGF0ZS1yZWYgSEVBRCAkQSIKdGVzdF9leHBlY3Rfc3VjY2VzcyAnKG5vdCkgY2hhbmdlIEhFQUQgd2l0aCB3cm9uZyBTSEExJyAiCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiBIRUFEICRCICRaCiIKdGVzdF9leHBlY3Rfc3VjY2VzcyAiKG5vdCkgY2hhbmdlZCAuZ2l0LyRtIiAiCgkhIHRlc3QgJEIiJyA9ICQoY2F0IC5naXQvJyIkbSInKQonCnJtIC1mIC5naXQvJG0KCjogYSByZXBvc2l0b3J5IHdpdGggd29ya2luZyB0cmVlIGFsd2F5cyBoYXMgcmVmbG9nIHRoZXNlIGRheXMuLi4KOiA+LmdpdC9sb2dzL3JlZnMvaGVhZHMvbWFzdGVyCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJImNyZWF0ZSAkbSAobG9nZ2VkIGJ5IHRvdWNoKSIgXAoJJ0dJVF9DT01NSVRURVJfREFURT0iMjAwNS0wNS0yNiAyMzozMCIgXAoJIGdpdCB1cGRhdGUtcmVmIEhFQUQgJyIkQSInIC1tICJJbml0aWFsIENyZWF0aW9uIiAmJgoJIHRlc3QgJyIkQSInID0gJChjYXQgLmdpdC8nIiRtIicpJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJ1cGRhdGUgJG0gKGxvZ2dlZCBieSB0b3VjaCkiIFwKCSdHSVRfQ09NTUlUVEVSX0RBVEU9IjIwMDUtMDUtMjYgMjM6MzEiIFwKCSBnaXQgdXBkYXRlLXJlZiBIRUFEJyIgJEIgJEEgIictbSAiU3dpdGNoIiAmJgoJIHRlc3QgJyIkQiInID0gJChjYXQgLmdpdC8nIiRtIicpJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJzZXQgJG0gKGxvZ2dlZCBieSB0b3VjaCkiIFwKCSdHSVRfQ09NTUlUVEVSX0RBVEU9IjIwMDUtMDUtMjYgMjM6NDEiIFwKCSBnaXQgdXBkYXRlLXJlZiBIRUFEJyIgJEEgJiYKCSB0ZXN0ICRBIicgPSAkKGNhdCAuZ2l0LyciJG0iJyknCgpjYXQgPmV4cGVjdCA8PEVPRgokWiAkQSAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MDIwMCArMDAwMAlJbml0aWFsIENyZWF0aW9uCiRBICRCICRHSVRfQ09NTUlUVEVSX05BTUUgPCRHSVRfQ09NTUlUVEVSX0VNQUlMPiAxMTE3MTUwMjYwICswMDAwCVN3aXRjaAokQiAkQSAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MDg2MCArMDAwMApFT0YKdGVzdF9leHBlY3Rfc3VjY2VzcyBcCgkidmVyaWZ5aW5nICRtJ3MgbG9nIiBcCgkidGVzdF9jbXAgZXhwZWN0IC5naXQvbG9ncy8kbSIKcm0gLXJmIC5naXQvJG0gLmdpdC9sb2dzIGV4cGVjdAoKdGVzdF9leHBlY3Rfc3VjY2VzcyBcCgknZW5hYmxlIGNvcmUubG9nQWxsUmVmVXBkYXRlcycgXAoJJ2dpdCBjb25maWcgY29yZS5sb2dBbGxSZWZVcGRhdGVzIHRydWUgJiYKCSB0ZXN0IHRydWUgPSAkKGdpdCBjb25maWcgLS1ib29sIC0tZ2V0IGNvcmUubG9nQWxsUmVmVXBkYXRlcyknCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJjcmVhdGUgJG0gKGxvZ2dlZCBieSBjb25maWcpIiBcCgknR0lUX0NPTU1JVFRFUl9EQVRFPSIyMDA1LTA1LTI2IDIzOjMyIiBcCgkgZ2l0IHVwZGF0ZS1yZWYgSEVBRCciICRBICInLW0gIkluaXRpYWwgQ3JlYXRpb24iICYmCgkgdGVzdCAnIiRBIicgPSAkKGNhdCAuZ2l0LyciJG0iJyknCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJInVwZGF0ZSAkbSAobG9nZ2VkIGJ5IGNvbmZpZykiIFwKCSdHSVRfQ09NTUlUVEVSX0RBVEU9IjIwMDUtMDUtMjYgMjM6MzMiIFwKCSBnaXQgdXBkYXRlLXJlZiBIRUFEJyIgJEIgJEEgIictbSAiU3dpdGNoIiAmJgoJIHRlc3QgJyIkQiInID0gJChjYXQgLmdpdC8nIiRtIicpJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJzZXQgJG0gKGxvZ2dlZCBieSBjb25maWcpIiBcCgknR0lUX0NPTU1JVFRFUl9EQVRFPSIyMDA1LTA1LTI2IDIzOjQzIiBcCgkgZ2l0IHVwZGF0ZS1yZWYgSEVBRCAnIiRBICYmCgkgdGVzdCAkQSInID0gJChjYXQgLmdpdC8nIiRtIicpJwoKY2F0ID5leHBlY3QgPDxFT0YKJFogJEEgJEdJVF9DT01NSVRURVJfTkFNRSA8JEdJVF9DT01NSVRURVJfRU1BSUw+IDExMTcxNTAzMjAgKzAwMDAJSW5pdGlhbCBDcmVhdGlvbgokQSAkQiAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MDM4MCArMDAwMAlTd2l0Y2gKJEIgJEEgJEdJVF9DT01NSVRURVJfTkFNRSA8JEdJVF9DT01NSVRURVJfRU1BSUw+IDExMTcxNTA5ODAgKzAwMDAKRU9GCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJInZlcmlmeWluZyAkbSdzIGxvZyIgXAoJJ3Rlc3RfY21wIGV4cGVjdCAuZ2l0L2xvZ3MvJG0nCnJtIC1mIC5naXQvJG0gLmdpdC9sb2dzLyRtIGV4cGVjdAoKZ2l0IHVwZGF0ZS1yZWYgJG0gJEQKY2F0ID4uZ2l0L2xvZ3MvJG0gPDxFT0YKMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCAkQyAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MDMyMCAtMDUwMAokQyAkQSAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MDM1MCAtMDUwMAokQSAkQiAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MDM4MCAtMDUwMAokRiAkWiAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MDY4MCAtMDUwMAokWiAkRSAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MDk4MCAtMDUwMApFT0YKCmVkPSJUaHUsIDI2IE1heSAyMDA1IDE4OjMyOjAwIC0wNTAwIgpnZD0iVGh1LCAyNiBNYXkgMjAwNSAxODozMzowMCAtMDUwMCIKbGQ9IlRodSwgMjYgTWF5IDIwMDUgMTg6NDM6MDAgLTA1MDAiCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJJ1F1ZXJ5ICJtYXN0ZXJAe01heSAyNSAyMDA1fSIgKGJlZm9yZSBoaXN0b3J5KScgXAoJJ3JtIC1mIG8gZSAmJgoJIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgIm1hc3RlckB7TWF5IDI1IDIwMDV9IiA+byAyPmUgJiYKCSB0ZXN0ICciJEMiJyA9ICQoY2F0IG8pICYmCgkgdGVzdCAid2FybmluZzogTG9nIGZvciAnXCdtYXN0ZXJcJycgb25seSBnb2VzIGJhY2sgdG8gJGVkLiIgPSAiJChjYXQgZSkiJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSJRdWVyeSBtYXN0ZXJAezIwMDUtMDUtMjV9IChiZWZvcmUgaGlzdG9yeSkiIFwKCSdybSAtZiBvIGUgJiYKCSBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IG1hc3RlckB7MjAwNS0wNS0yNX0gPm8gMj5lICYmCgkgdGVzdCAnIiRDIicgPSAkKGNhdCBvKSAmJgoJIGVjaG8gdGVzdCAid2FybmluZzogTG9nIGZvciAnXCdtYXN0ZXJcJycgb25seSBnb2VzIGJhY2sgdG8gJGVkLiIgPSAiJChjYXQgZSkiJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSdRdWVyeSAibWFzdGVyQHtNYXkgMjYgMjAwNSAyMzozMTo1OX0iICgxIHNlY29uZCBiZWZvcmUgaGlzdG9yeSknIFwKCSdybSAtZiBvIGUgJiYKCSBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5ICJtYXN0ZXJAe01heSAyNiAyMDA1IDIzOjMxOjU5fSIgPm8gMj5lICYmCgkgdGVzdCAnIiRDIicgPSAkKGNhdCBvKSAmJgoJIHRlc3QgIndhcm5pbmc6IExvZyBmb3IgJ1wnJ21hc3RlcidcJycgb25seSBnb2VzIGJhY2sgdG8gJGVkLiIgPSAiJChjYXQgZSkiJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSdRdWVyeSAibWFzdGVyQHtNYXkgMjYgMjAwNSAyMzozMjowMH0iIChleGFjdGx5IGhpc3Rvcnkgc3RhcnQpJyBcCgkncm0gLWYgbyBlICYmCgkgZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSAibWFzdGVyQHtNYXkgMjYgMjAwNSAyMzozMjowMH0iID5vIDI+ZSAmJgoJIHRlc3QgJyIkQyInID0gJChjYXQgbykgJiYKCSB0ZXN0ICIiID0gIiQoY2F0IGUpIicKdGVzdF9leHBlY3Rfc3VjY2VzcyBcCgknUXVlcnkgIm1hc3RlckB7TWF5IDI2IDIwMDUgMjM6MzI6MzB9IiAoZmlyc3Qgbm9uLWNyZWF0aW9uIGNoYW5nZSknIFwKCSdybSAtZiBvIGUgJiYKCSBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5ICJtYXN0ZXJAe01heSAyNiAyMDA1IDIzOjMyOjMwfSIgPm8gMj5lICYmCgkgdGVzdCAnIiRBIicgPSAkKGNhdCBvKSAmJgoJIHRlc3QgIiIgPSAiJChjYXQgZSkiJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSdRdWVyeSAibWFzdGVyQHsyMDA1LTA1LTI2IDIzOjMzOjAxfSIgKG1pZGRsZSBvZiBoaXN0b3J5IHdpdGggZ2FwKScgXAoJJ3JtIC1mIG8gZSAmJgoJIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgIm1hc3RlckB7MjAwNS0wNS0yNiAyMzozMzowMX0iID5vIDI+ZSAmJgoJIHRlc3QgJyIkQiInID0gJChjYXQgbykgJiYKCSB0ZXN0ICJ3YXJuaW5nOiBMb2cgLmdpdC9sb2dzLyciJG0gaGFzIGdhcCBhZnRlciAkZ2QiJy4iID0gIiQoY2F0IGUpIicKdGVzdF9leHBlY3Rfc3VjY2VzcyBcCgknUXVlcnkgIm1hc3RlckB7MjAwNS0wNS0yNiAyMzozODowMH0iIChtaWRkbGUgb2YgaGlzdG9yeSknIFwKCSdybSAtZiBvIGUgJiYKCSBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5ICJtYXN0ZXJAezIwMDUtMDUtMjYgMjM6Mzg6MDB9IiA+byAyPmUgJiYKCSB0ZXN0ICciJFoiJyA9ICQoY2F0IG8pICYmCgkgdGVzdCAiIiA9ICIkKGNhdCBlKSInCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJJ1F1ZXJ5ICJtYXN0ZXJAezIwMDUtMDUtMjYgMjM6NDM6MDB9IiAoZXhhY3QgZW5kIG9mIGhpc3RvcnkpJyBcCgkncm0gLWYgbyBlICYmCgkgZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSAibWFzdGVyQHsyMDA1LTA1LTI2IDIzOjQzOjAwfSIgPm8gMj5lICYmCgkgdGVzdCAnIiRFIicgPSAkKGNhdCBvKSAmJgoJIHRlc3QgIiIgPSAiJChjYXQgZSkiJwp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSdRdWVyeSAibWFzdGVyQHsyMDA1LTA1LTI4fSIgKHBhc3QgZW5kIG9mIGhpc3RvcnkpJyBcCgkncm0gLWYgbyBlICYmCgkgZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSAibWFzdGVyQHsyMDA1LTA1LTI4fSIgPm8gMj5lICYmCgkgdGVzdCAnIiREIicgPSAkKGNhdCBvKSAmJgoJIHRlc3QgIndhcm5pbmc6IExvZyAuZ2l0L2xvZ3MvJyIkbSB1bmV4cGVjdGVkbHkgZW5kZWQgb24gJGxkIicuIiA9ICIkKGNhdCBlKSInCgoKcm0gLWYgLmdpdC8kbSAuZ2l0L2xvZ3MvJG0gZXhwZWN0Cgp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKICAgICdjcmVhdGluZyBpbml0aWFsIGZpbGVzJyBcCiAgICAnZWNobyBURVNUID5GICYmCiAgICAgZ2l0IGFkZCBGICYmCgkgR0lUX0FVVEhPUl9EQVRFPSIyMDA1LTA1LTI2IDIzOjMwIiBcCgkgR0lUX0NPTU1JVFRFUl9EQVRFPSIyMDA1LTA1LTI2IDIzOjMwIiBnaXQgY29tbWl0IC1tIGFkZCAtYSAmJgoJIGhfVEVTVD0kKGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgSEVBRCkgJiYKCSBlY2hvIFRoZSBvdGhlciBkYXkgdGhpcyBkaWQgbm90IHdvcmsuID5NICYmCgkgZWNobyBBbmQgdGhlbiBCb2IgdG9sZCBtZSBob3cgdG8gZml4IGl0LiA+Pk0gJiYKCSBlY2hvIE9USEVSID5GICYmCgkgR0lUX0FVVEhPUl9EQVRFPSIyMDA1LTA1LTI2IDIzOjQxIiBcCgkgR0lUX0NPTU1JVFRFUl9EQVRFPSIyMDA1LTA1LTI2IDIzOjQxIiBnaXQgY29tbWl0IC1GIE0gLWEgJiYKCSBoX09USEVSPSQoZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSBIRUFEKSAmJgoJIEdJVF9BVVRIT1JfREFURT0iMjAwNS0wNS0yNiAyMzo0NCIgXAoJIEdJVF9DT01NSVRURVJfREFURT0iMjAwNS0wNS0yNiAyMzo0NCIgZ2l0IGNvbW1pdCAtLWFtZW5kICYmCgkgaF9GSVhFRD0kKGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgSEVBRCkgJiYKCSBlY2hvIE1lcmdlZCBpbml0aWFsIGNvbW1pdCBhbmQgYSBsYXRlciBjb21taXQuID5NICYmCgkgZWNobyAkaF9URVNUID4uZ2l0L01FUkdFX0hFQUQgJiYKCSBHSVRfQVVUSE9SX0RBVEU9IjIwMDUtMDUtMjYgMjM6NDUiIFwKCSBHSVRfQ09NTUlUVEVSX0RBVEU9IjIwMDUtMDUtMjYgMjM6NDUiIGdpdCBjb21taXQgLUYgTSAmJgoJIGhfTUVSR0VEPSQoZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSBIRUFEKSAmJgoJIHJtIC1mIE0nCgpjYXQgPmV4cGVjdCA8PEVPRgokWiAkaF9URVNUICRHSVRfQ09NTUlUVEVSX05BTUUgPCRHSVRfQ09NTUlUVEVSX0VNQUlMPiAxMTE3MTUwMjAwICswMDAwCWNvbW1pdCAoaW5pdGlhbCk6IGFkZAokaF9URVNUICRoX09USEVSICRHSVRfQ09NTUlUVEVSX05BTUUgPCRHSVRfQ09NTUlUVEVSX0VNQUlMPiAxMTE3MTUwODYwICswMDAwCWNvbW1pdDogVGhlIG90aGVyIGRheSB0aGlzIGRpZCBub3Qgd29yay4KJGhfT1RIRVIgJGhfRklYRUQgJEdJVF9DT01NSVRURVJfTkFNRSA8JEdJVF9DT01NSVRURVJfRU1BSUw+IDExMTcxNTEwNDAgKzAwMDAJY29tbWl0IChhbWVuZCk6IFRoZSBvdGhlciBkYXkgdGhpcyBkaWQgbm90IHdvcmsuCiRoX0ZJWEVEICRoX01FUkdFRCAkR0lUX0NPTU1JVFRFUl9OQU1FIDwkR0lUX0NPTU1JVFRFUl9FTUFJTD4gMTExNzE1MTEwMCArMDAwMAljb21taXQgKG1lcmdlKTogTWVyZ2VkIGluaXRpYWwgY29tbWl0IGFuZCBhIGxhdGVyIGNvbW1pdC4KRU9GCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgXAoJJ2dpdCBjb21taXQgbG9nZ2VkIHVwZGF0ZXMnIFwKCSJ0ZXN0X2NtcCBleHBlY3QgLmdpdC9sb2dzLyRtIgp1bnNldCBoX1RFU1QgaF9PVEhFUiBoX0ZJWEVEIGhfTUVSR0VECgp0ZXN0X2V4cGVjdF9zdWNjZXNzIFwKCSdnaXQgY2F0LWZpbGUgYmxvYiBtYXN0ZXI6RiAoZXhwZWN0IE9USEVSKScgXAoJJ3Rlc3QgT1RIRVIgPSAkKGdpdCBjYXQtZmlsZSBibG9iIG1hc3RlcjpGKScKdGVzdF9leHBlY3Rfc3VjY2VzcyBcCgknZ2l0IGNhdC1maWxlIGJsb2IgbWFzdGVyQHsyMDA1LTA1LTI2IDIzOjMwfTpGIChleHBlY3QgVEVTVCknIFwKCSd0ZXN0IFRFU1QgPSAkKGdpdCBjYXQtZmlsZSBibG9iICJtYXN0ZXJAezIwMDUtMDUtMjYgMjM6MzB9OkYiKScKdGVzdF9leHBlY3Rfc3VjY2VzcyBcCgknZ2l0IGNhdC1maWxlIGJsb2IgbWFzdGVyQHsyMDA1LTA1LTI2IDIzOjQyfTpGIChleHBlY3QgT1RIRVIpJyBcCgkndGVzdCBPVEhFUiA9ICQoZ2l0IGNhdC1maWxlIGJsb2IgIm1hc3RlckB7MjAwNS0wNS0yNiAyMzo0Mn06RiIpJwoKYT1yZWZzL2hlYWRzL2EKYj1yZWZzL2hlYWRzL2IKYz1yZWZzL2hlYWRzL2MKRT0nIiInCkY9JyVzXDAnCnB3cz0ncGF0aCB3aXRoIHNwYWNlJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gdGVzdCBzZXR1cCcgJwoJZWNobyAiJHB3cyIgPiIkcHdzIiAmJgoJZ2l0IGFkZCAtLSAiJHB3cyIgJiYKCWdpdCBjb21taXQgLW0gIiRwd3MiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJy16IGZhaWxzIHdpdGhvdXQgLS1zdGRpbicgJwoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogJG0gJG0gJG0gMj5lcnIgJiYKCWdyZXAgInVzYWdlOiBnaXQgdXBkYXRlLXJlZiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIHdvcmtzIHdpdGggbm8gaW5wdXQnICcKCT5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gJiYKCWdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJG0KJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZmFpbHMgb24gZW1wdHkgbGluZScgJwoJZWNobyAiIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogZW1wdHkgY29tbWFuZCBpbiBpbnB1dCIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIG9uIG9ubHkgd2hpdGVzcGFjZScgJwoJZWNobyAiICIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IHdoaXRlc3BhY2UgYmVmb3JlIGNvbW1hbmQ6ICAiIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiBmYWlscyBvbiBsZWFkaW5nIHdoaXRlc3BhY2UnICcKCWVjaG8gIiBjcmVhdGUgJGEgJG0iID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiB3aGl0ZXNwYWNlIGJlZm9yZSBjb21tYW5kOiAgY3JlYXRlICRhICRtIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZmFpbHMgb24gdW5rbm93biBjb21tYW5kJyAnCgllY2hvICJ1bmtub3duICRhIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogdW5rbm93biBjb21tYW5kOiB1bmtub3duICRhIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZmFpbHMgb24gdW5iYWxhbmNlZCBxdW90ZXMnICcKCWVjaG8gImNyZWF0ZSAkYSBcIm1hc3RlciIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IGJhZGx5IHF1b3RlZCBhcmd1bWVudDogXFxcIm1hc3RlciIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIG9uIGludmFsaWQgZXNjYXBlJyAnCgllY2hvICJjcmVhdGUgJGEgXCJtYVx6dGVyXCIiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBiYWRseSBxdW90ZWQgYXJndW1lbnQ6IFxcXCJtYVxcXFx6dGVyXFxcIiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIG9uIGp1bmsgYWZ0ZXIgcXVvdGVkIGFyZ3VtZW50JyAnCgllY2hvICJjcmVhdGUgXCIkYVwibWFzdGVyIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogdW5leHBlY3RlZCBjaGFyYWN0ZXIgYWZ0ZXIgcXVvdGVkIGFyZ3VtZW50OiBcXFwiJGFcXFwibWFzdGVyIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZmFpbHMgY3JlYXRlIHdpdGggbm8gcmVmJyAnCgllY2hvICJjcmVhdGUgIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogY3JlYXRlIGxpbmUgbWlzc2luZyA8cmVmPiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIGNyZWF0ZSB3aXRoIGJhZCByZWYgbmFtZScgJwoJZWNobyAiY3JlYXRlIH5hICRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogaW52YWxpZCByZWYgZm9ybWF0OiB+YSIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIGNyZWF0ZSB3aXRoIG5vIG5ldyB2YWx1ZScgJwoJZWNobyAiY3JlYXRlICRhIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogY3JlYXRlICRhIG1pc3NpbmcgPG5ld3ZhbHVlPiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIGNyZWF0ZSB3aXRoIHRvbyBtYW55IGFyZ3VtZW50cycgJwoJZWNobyAiY3JlYXRlICRhICRtICRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogY3JlYXRlICRhIGhhcyBleHRyYSBpbnB1dDogICRtIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZmFpbHMgdXBkYXRlIHdpdGggbm8gcmVmJyAnCgllY2hvICJ1cGRhdGUgIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogdXBkYXRlIGxpbmUgbWlzc2luZyA8cmVmPiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIHVwZGF0ZSB3aXRoIGJhZCByZWYgbmFtZScgJwoJZWNobyAidXBkYXRlIH5hICRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogaW52YWxpZCByZWYgZm9ybWF0OiB+YSIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIHVwZGF0ZSB3aXRoIG5vIG5ldyB2YWx1ZScgJwoJZWNobyAidXBkYXRlICRhIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogdXBkYXRlICRhIG1pc3NpbmcgPG5ld3ZhbHVlPiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIHVwZGF0ZSB3aXRoIHRvbyBtYW55IGFyZ3VtZW50cycgJwoJZWNobyAidXBkYXRlICRhICRtICRtICRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogdXBkYXRlICRhIGhhcyBleHRyYSBpbnB1dDogICRtIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZmFpbHMgZGVsZXRlIHdpdGggbm8gcmVmJyAnCgllY2hvICJkZWxldGUgIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogZGVsZXRlIGxpbmUgbWlzc2luZyA8cmVmPiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIGRlbGV0ZSB3aXRoIGJhZCByZWYgbmFtZScgJwoJZWNobyAiZGVsZXRlIH5hICRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogaW52YWxpZCByZWYgZm9ybWF0OiB+YSIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGZhaWxzIGRlbGV0ZSB3aXRoIHRvbyBtYW55IGFyZ3VtZW50cycgJwoJZWNobyAiZGVsZXRlICRhICRtICRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogZGVsZXRlICRhIGhhcyBleHRyYSBpbnB1dDogICRtIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZmFpbHMgdmVyaWZ5IHdpdGggdG9vIG1hbnkgYXJndW1lbnRzJyAnCgllY2hvICJ2ZXJpZnkgJGEgJG0gJG0iID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiB2ZXJpZnkgJGEgaGFzIGV4dHJhIGlucHV0OiAgJG0iIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiBmYWlscyBvcHRpb24gd2l0aCB1bmtub3duIG5hbWUnICcKCWVjaG8gIm9wdGlvbiB1bmtub3duIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogb3B0aW9uIHVua25vd246IHVua25vd24iIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiBmYWlscyB3aXRoIGR1cGxpY2F0ZSByZWZzJyAnCgljYXQgPnN0ZGluIDw8LUVPRiAmJgoJY3JlYXRlICRhICRtCgljcmVhdGUgJGIgJG0KCWNyZWF0ZSAkYSAkbQoJRU9GCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IE11bHRpcGxlIHVwZGF0ZXMgZm9yIHJlZiAnIiciJyRhJyInIicgbm90IGFsbG93ZWQuIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gY3JlYXRlIHJlZiB3b3JrcycgJwoJZWNobyAiY3JlYXRlICRhICRtIiA+c3RkaW4gJiYKCWdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluICYmCglnaXQgcmV2LXBhcnNlICRtID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGEgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiBzdWNjZWVkcyB3aXRoIHF1b3RlZCBhcmd1bWVudCcgJwoJZ2l0IHVwZGF0ZS1yZWYgLWQgJGEgJiYKCWVjaG8gImNyZWF0ZSAkYSBcIiRtXCIiID5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gJiYKCWdpdCByZXYtcGFyc2UgJG0gPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIHN1Y2NlZWRzIHdpdGggZXNjYXBlZCBjaGFyYWN0ZXInICcKCWdpdCB1cGRhdGUtcmVmIC1kICRhICYmCgllY2hvICJjcmVhdGUgJGEgXCJtYVxcMTYzdGVyXCIiID5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gJiYKCWdpdCByZXYtcGFyc2UgJG0gPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIHVwZGF0ZSByZWYgY3JlYXRlcyB3aXRoIHplcm8gb2xkIHZhbHVlJyAnCgllY2hvICJ1cGRhdGUgJGIgJG0gJFoiID5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gJiYKCWdpdCByZXYtcGFyc2UgJG0gPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsICYmCglnaXQgdXBkYXRlLXJlZiAtZCAkYgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiB1cGRhdGUgcmVmIGNyZWF0ZXMgd2l0aCBlbXB0eSBvbGQgdmFsdWUnICcKCWVjaG8gInVwZGF0ZSAkYiAkbSAkRSIgPnN0ZGluICYmCglnaXQgdXBkYXRlLXJlZiAtLXN0ZGluIDxzdGRpbiAmJgoJZ2l0IHJldi1wYXJzZSAkbSA+ZXhwZWN0ICYmCglnaXQgcmV2LXBhcnNlICRiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gY3JlYXRlIHJlZiB3b3JrcyB3aXRoIHBhdGggd2l0aCBzcGFjZSB0byBibG9iJyAnCgllY2hvICJjcmVhdGUgcmVmcy9ibG9icy9wd3MgXCIkbTokcHdzXCIiID5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gJiYKCWdpdCByZXYtcGFyc2UgIiRtOiRwd3MiID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgcmVmcy9ibG9icy9wd3MgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJZ2l0IHVwZGF0ZS1yZWYgLWQgcmVmcy9ibG9icy9wd3MKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gdXBkYXRlIHJlZiBmYWlscyB3aXRoIHdyb25nIG9sZCB2YWx1ZScgJwoJZWNobyAidXBkYXRlICRjICRtICRtfjEiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBDYW5ub3QgbG9jayB0aGUgcmVmICciJyInJGMnIiciJyIgZXJyICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC1xICRjCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIHVwZGF0ZSByZWYgZmFpbHMgd2l0aCBiYWQgb2xkIHZhbHVlJyAnCgllY2hvICJ1cGRhdGUgJGMgJG0gZG9lcy1ub3QtZXhpc3QiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBpbnZhbGlkIG9sZCB2YWx1ZSBmb3IgcmVmICRjOiBkb2VzLW5vdC1leGlzdCIgZXJyICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC1xICRjCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGNyZWF0ZSByZWYgZmFpbHMgd2l0aCBiYWQgbmV3IHZhbHVlJyAnCgllY2hvICJjcmVhdGUgJGMgZG9lcy1ub3QtZXhpc3QiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBpbnZhbGlkIG5ldyB2YWx1ZSBmb3IgcmVmICRjOiBkb2VzLW5vdC1leGlzdCIgZXJyICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC1xICRjCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGNyZWF0ZSByZWYgZmFpbHMgd2l0aCB6ZXJvIG5ldyB2YWx1ZScgJwoJZWNobyAiY3JlYXRlICRjICIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IGNyZWF0ZSAkYyBnaXZlbiB6ZXJvIG5ldyB2YWx1ZSIgZXJyICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC1xICRjCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIHVwZGF0ZSByZWYgd29ya3Mgd2l0aCByaWdodCBvbGQgdmFsdWUnICcKCWVjaG8gInVwZGF0ZSAkYiAkbX4xICRtIiA+c3RkaW4gJiYKCWdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluICYmCglnaXQgcmV2LXBhcnNlICRtfjEgPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGRlbGV0ZSByZWYgZmFpbHMgd2l0aCB3cm9uZyBvbGQgdmFsdWUnICcKCWVjaG8gImRlbGV0ZSAkYSAkbX4xIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogQ2Fubm90IGxvY2sgdGhlIHJlZiAnIiciJyRhJyInIiciIGVyciAmJgoJZ2l0IHJldi1wYXJzZSAkbSA+ZXhwZWN0ICYmCglnaXQgcmV2LXBhcnNlICRhID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZGVsZXRlIHJlZiBmYWlscyB3aXRoIHplcm8gb2xkIHZhbHVlJyAnCgllY2hvICJkZWxldGUgJGEgIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogZGVsZXRlICRhIGdpdmVuIHplcm8gb2xkIHZhbHVlIiBlcnIgJiYKCWdpdCByZXYtcGFyc2UgJG0gPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIHVwZGF0ZSBzeW1yZWYgd29ya3Mgb3B0aW9uIG5vLWRlcmVmJyAnCglnaXQgc3ltYm9saWMtcmVmIFRFU1RTWU1SRUYgJGIgJiYKCWNhdCA+c3RkaW4gPDwtRU9GICYmCglvcHRpb24gbm8tZGVyZWYKCXVwZGF0ZSBURVNUU1lNUkVGICRhICRiCglFT0YKCWdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluICYmCglnaXQgcmV2LXBhcnNlIFRFU1RTWU1SRUYgPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsICYmCglnaXQgcmV2LXBhcnNlICRtfjEgPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIGRlbGV0ZSBzeW1yZWYgd29ya3Mgb3B0aW9uIG5vLWRlcmVmJyAnCglnaXQgc3ltYm9saWMtcmVmIFRFU1RTWU1SRUYgJGIgJiYKCWNhdCA+c3RkaW4gPDwtRU9GICYmCglvcHRpb24gbm8tZGVyZWYKCWRlbGV0ZSBURVNUU1lNUkVGICRiCglFT0YKCWdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC1xIFRFU1RTWU1SRUYgJiYKCWdpdCByZXYtcGFyc2UgJG1+MSA+ZXhwZWN0ICYmCglnaXQgcmV2LXBhcnNlICRiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZGVsZXRlIHJlZiB3b3JrcyB3aXRoIHJpZ2h0IG9sZCB2YWx1ZScgJwoJZWNobyAiZGVsZXRlICRiICRtfjEiID5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gdXBkYXRlL2NyZWF0ZS92ZXJpZnkgY29tYmluYXRpb24gd29ya3MnICcKCWNhdCA+c3RkaW4gPDwtRU9GICYmCgl1cGRhdGUgJGEgJG0KCWNyZWF0ZSAkYiAkbQoJdmVyaWZ5ICRjCglFT0YKCWdpdCB1cGRhdGUtcmVmIC0tc3RkaW4gPHN0ZGluICYmCglnaXQgcmV2LXBhcnNlICRtID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGEgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJZ2l0IHJldi1wYXJzZSAkYiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC1xICRjCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIHVwZGF0ZSByZWZzIHdvcmtzIHdpdGggaWRlbnRpdHkgdXBkYXRlcycgJwoJY2F0ID5zdGRpbiA8PC1FT0YgJiYKCXVwZGF0ZSAkYSAkbSAkbQoJdXBkYXRlICRiICRtICRtCgl1cGRhdGUgJGMgJFogJEUKCUVPRgoJZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gJiYKCWdpdCByZXYtcGFyc2UgJG0gPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsICYmCglnaXQgcmV2LXBhcnNlICRiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gdXBkYXRlIHJlZnMgZmFpbHMgd2l0aCB3cm9uZyBvbGQgdmFsdWUnICcKCWdpdCB1cGRhdGUtcmVmICRjICRtICYmCgljYXQgPnN0ZGluIDw8LUVPRiAmJgoJdXBkYXRlICRhICRtICRtCgl1cGRhdGUgJGIgJG0gJG0KCXVwZGF0ZSAkYyAgJycKCUVPRgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBDYW5ub3QgbG9jayB0aGUgcmVmICciJyInJGMnIiciJyIgZXJyICYmCglnaXQgcmV2LXBhcnNlICRtID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGEgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJZ2l0IHJldi1wYXJzZSAkYiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsICYmCglnaXQgcmV2LXBhcnNlICRjID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gZGVsZXRlIHJlZnMgd29ya3Mgd2l0aCBwYWNrZWQgYW5kIGxvb3NlIHJlZnMnICcKCWdpdCBwYWNrLXJlZnMgLS1hbGwgJiYKCWdpdCB1cGRhdGUtcmVmICRjICRtfjEgJiYKCWNhdCA+c3RkaW4gPDwtRU9GICYmCglkZWxldGUgJGEgJG0KCXVwZGF0ZSAkYiAkWiAkbQoJdXBkYXRlICRjICRFICRtfjEKCUVPRgoJZ2l0IHVwZGF0ZS1yZWYgLS1zdGRpbiA8c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGEgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGIgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogd29ya3Mgb24gZW1wdHkgaW5wdXQnICcKCT5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gJiYKCWdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJG0KJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogZmFpbHMgb24gZW1wdHkgbGluZScgJwoJZWNobyAiIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogd2hpdGVzcGFjZSBiZWZvcmUgY29tbWFuZDogIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogZmFpbHMgb24gZW1wdHkgY29tbWFuZCcgJwoJcHJpbnRmICRGICIiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBlbXB0eSBjb21tYW5kIGluIGlucHV0IiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogZmFpbHMgb24gb25seSB3aGl0ZXNwYWNlJyAnCglwcmludGYgJEYgIiAiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiB3aGl0ZXNwYWNlIGJlZm9yZSBjb21tYW5kOiAgIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogZmFpbHMgb24gbGVhZGluZyB3aGl0ZXNwYWNlJyAnCglwcmludGYgJEYgIiBjcmVhdGUgJGEiICIkbSIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IHdoaXRlc3BhY2UgYmVmb3JlIGNvbW1hbmQ6ICBjcmVhdGUgJGEiIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBmYWlscyBvbiB1bmtub3duIGNvbW1hbmQnICcKCXByaW50ZiAkRiAidW5rbm93biAkYSIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IHVua25vd24gY29tbWFuZDogdW5rbm93biAkYSIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGZhaWxzIGNyZWF0ZSB3aXRoIG5vIHJlZicgJwoJcHJpbnRmICRGICJjcmVhdGUgIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogY3JlYXRlIGxpbmUgbWlzc2luZyA8cmVmPiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGZhaWxzIGNyZWF0ZSB3aXRoIGJhZCByZWYgbmFtZScgJwoJcHJpbnRmICRGICJjcmVhdGUgfmEgIiAiJG0iID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBpbnZhbGlkIHJlZiBmb3JtYXQ6IH5hICIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGZhaWxzIGNyZWF0ZSB3aXRoIG5vIG5ldyB2YWx1ZScgJwoJcHJpbnRmICRGICJjcmVhdGUgJGEiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBjcmVhdGUgJGEgbWlzc2luZyA8bmV3dmFsdWU+IiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogZmFpbHMgY3JlYXRlIHdpdGggdG9vIG1hbnkgYXJndW1lbnRzJyAnCglwcmludGYgJEYgImNyZWF0ZSAkYSIgIiRtIiAiJG0iID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiB1bmtub3duIGNvbW1hbmQ6ICRtIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogZmFpbHMgdXBkYXRlIHdpdGggbm8gcmVmJyAnCglwcmludGYgJEYgInVwZGF0ZSAiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiB1cGRhdGUgbGluZSBtaXNzaW5nIDxyZWY+IiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogZmFpbHMgdXBkYXRlIHdpdGggYmFkIHJlZiBuYW1lJyAnCglwcmludGYgJEYgInVwZGF0ZSB+YSIgIiRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogaW52YWxpZCByZWYgZm9ybWF0OiB+YSIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGZhaWxzIHVwZGF0ZSB3aXRoIG5vIG5ldyB2YWx1ZScgJwoJcHJpbnRmICRGICJ1cGRhdGUgJGEiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiB1cGRhdGUgJGEgbWlzc2luZyA8bmV3dmFsdWU+IiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogZmFpbHMgdXBkYXRlIHdpdGggbm8gb2xkIHZhbHVlJyAnCglwcmludGYgJEYgInVwZGF0ZSAkYSIgIiRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogdXBkYXRlICRhIG1pc3NpbmcgXFxbPG9sZHZhbHVlPlxcXSBOVUwiIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBmYWlscyB1cGRhdGUgd2l0aCB0b28gbWFueSBhcmd1bWVudHMnICcKCXByaW50ZiAkRiAidXBkYXRlICRhIiAiJG0iICIkbSIgIiRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogdW5rbm93biBjb21tYW5kOiAkbSIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGZhaWxzIGRlbGV0ZSB3aXRoIG5vIHJlZicgJwoJcHJpbnRmICRGICJkZWxldGUgIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogZGVsZXRlIGxpbmUgbWlzc2luZyA8cmVmPiIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGZhaWxzIGRlbGV0ZSB3aXRoIGJhZCByZWYgbmFtZScgJwoJcHJpbnRmICRGICJkZWxldGUgfmEiICIkbSIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IGludmFsaWQgcmVmIGZvcm1hdDogfmEiIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBmYWlscyBkZWxldGUgd2l0aCBubyBvbGQgdmFsdWUnICcKCXByaW50ZiAkRiAiZGVsZXRlICRhIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogZGVsZXRlICRhIG1pc3NpbmcgXFxbPG9sZHZhbHVlPlxcXSBOVUwiIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBmYWlscyBkZWxldGUgd2l0aCB0b28gbWFueSBhcmd1bWVudHMnICcKCXByaW50ZiAkRiAiZGVsZXRlICRhIiAiJG0iICIkbSIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IHVua25vd24gY29tbWFuZDogJG0iIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBmYWlscyB2ZXJpZnkgd2l0aCB0b28gbWFueSBhcmd1bWVudHMnICcKCXByaW50ZiAkRiAidmVyaWZ5ICRhIiAiJG0iICIkbSIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IHVua25vd24gY29tbWFuZDogJG0iIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBmYWlscyB2ZXJpZnkgd2l0aCBubyBvbGQgdmFsdWUnICcKCXByaW50ZiAkRiAidmVyaWZ5ICRhIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogdmVyaWZ5ICRhIG1pc3NpbmcgXFxbPG9sZHZhbHVlPlxcXSBOVUwiIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBmYWlscyBvcHRpb24gd2l0aCB1bmtub3duIG5hbWUnICcKCXByaW50ZiAkRiAib3B0aW9uIHVua25vd24iID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBvcHRpb24gdW5rbm93bjogdW5rbm93biIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGZhaWxzIHdpdGggZHVwbGljYXRlIHJlZnMnICcKCXByaW50ZiAkRiAiY3JlYXRlICRhIiAiJG0iICJjcmVhdGUgJGIiICIkbSIgImNyZWF0ZSAkYSIgIiRtIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogTXVsdGlwbGUgdXBkYXRlcyBmb3IgcmVmICciJyInJGEnIiciJyBub3QgYWxsb3dlZC4iIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBjcmVhdGUgcmVmIHdvcmtzJyAnCglwcmludGYgJEYgImNyZWF0ZSAkYSIgIiRtIiA+c3RkaW4gJiYKCWdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluICYmCglnaXQgcmV2LXBhcnNlICRtID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGEgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiB1cGRhdGUgcmVmIGNyZWF0ZXMgd2l0aCB6ZXJvIG9sZCB2YWx1ZScgJwoJcHJpbnRmICRGICJ1cGRhdGUgJGIiICIkbSIgIiRaIiA+c3RkaW4gJiYKCWdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluICYmCglnaXQgcmV2LXBhcnNlICRtID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJZ2l0IHVwZGF0ZS1yZWYgLWQgJGIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogdXBkYXRlIHJlZiBjcmVhdGVzIHdpdGggZW1wdHkgb2xkIHZhbHVlJyAnCglwcmludGYgJEYgInVwZGF0ZSAkYiIgIiRtIiAiIiA+c3RkaW4gJiYKCWdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluICYmCglnaXQgcmV2LXBhcnNlICRtID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBjcmVhdGUgcmVmIHdvcmtzIHdpdGggcGF0aCB3aXRoIHNwYWNlIHRvIGJsb2InICcKCXByaW50ZiAkRiAiY3JlYXRlIHJlZnMvYmxvYnMvcHdzIiAiJG06JHB3cyIgPnN0ZGluICYmCglnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAmJgoJZ2l0IHJldi1wYXJzZSAiJG06JHB3cyIgPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSByZWZzL2Jsb2JzL3B3cyA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsICYmCglnaXQgdXBkYXRlLXJlZiAtZCByZWZzL2Jsb2JzL3B3cwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiB1cGRhdGUgcmVmIGZhaWxzIHdpdGggd3Jvbmcgb2xkIHZhbHVlJyAnCglwcmludGYgJEYgInVwZGF0ZSAkYyIgIiRtIiAiJG1+MSIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IENhbm5vdCBsb2NrIHRoZSByZWYgJyInIickYyciJyInIiBlcnIgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogdXBkYXRlIHJlZiBmYWlscyB3aXRoIGJhZCBvbGQgdmFsdWUnICcKCXByaW50ZiAkRiAidXBkYXRlICRjIiAiJG0iICJkb2VzLW5vdC1leGlzdCIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IGludmFsaWQgb2xkIHZhbHVlIGZvciByZWYgJGM6IGRvZXMtbm90LWV4aXN0IiBlcnIgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogY3JlYXRlIHJlZiBmYWlscyB3aXRoIGJhZCBuZXcgdmFsdWUnICcKCXByaW50ZiAkRiAiY3JlYXRlICRjIiAiZG9lcy1ub3QtZXhpc3QiID5zdGRpbiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gMj5lcnIgJiYKCWdyZXAgImZhdGFsOiBpbnZhbGlkIG5ldyB2YWx1ZSBmb3IgcmVmICRjOiBkb2VzLW5vdC1leGlzdCIgZXJyICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC1xICRjCicKCnRlc3RfZXhwZWN0X2ZhaWx1cmUgJ3N0ZGluIC16IGNyZWF0ZSByZWYgZmFpbHMgd2l0aCBlbXB0eSBuZXcgdmFsdWUnICcKCXByaW50ZiAkRiAiY3JlYXRlICRjIiAiIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogY3JlYXRlICRjIG1pc3NpbmcgPG5ld3ZhbHVlPiIgZXJyICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IC1xICRjCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IHVwZGF0ZSByZWYgd29ya3Mgd2l0aCByaWdodCBvbGQgdmFsdWUnICcKCXByaW50ZiAkRiAidXBkYXRlICRiIiAiJG1+MSIgIiRtIiA+c3RkaW4gJiYKCWdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluICYmCglnaXQgcmV2LXBhcnNlICRtfjEgPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGRlbGV0ZSByZWYgZmFpbHMgd2l0aCB3cm9uZyBvbGQgdmFsdWUnICcKCXByaW50ZiAkRiAiZGVsZXRlICRhIiAiJG1+MSIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IENhbm5vdCBsb2NrIHRoZSByZWYgJyInIickYSciJyInIiBlcnIgJiYKCWdpdCByZXYtcGFyc2UgJG0gPmV4cGVjdCAmJgoJZ2l0IHJldi1wYXJzZSAkYSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGRlbGV0ZSByZWYgZmFpbHMgd2l0aCB6ZXJvIG9sZCB2YWx1ZScgJwoJcHJpbnRmICRGICJkZWxldGUgJGEiICIkWiIgPnN0ZGluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAyPmVyciAmJgoJZ3JlcCAiZmF0YWw6IGRlbGV0ZSAkYSBnaXZlbiB6ZXJvIG9sZCB2YWx1ZSIgZXJyICYmCglnaXQgcmV2LXBhcnNlICRtID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGEgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiB1cGRhdGUgc3ltcmVmIHdvcmtzIG9wdGlvbiBuby1kZXJlZicgJwoJZ2l0IHN5bWJvbGljLXJlZiBURVNUU1lNUkVGICRiICYmCglwcmludGYgJEYgIm9wdGlvbiBuby1kZXJlZiIgInVwZGF0ZSBURVNUU1lNUkVGIiAiJGEiICIkYiIgPnN0ZGluICYmCglnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAmJgoJZ2l0IHJldi1wYXJzZSBURVNUU1lNUkVGID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGEgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJZ2l0IHJldi1wYXJzZSAkbX4xID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBkZWxldGUgc3ltcmVmIHdvcmtzIG9wdGlvbiBuby1kZXJlZicgJwoJZ2l0IHN5bWJvbGljLXJlZiBURVNUU1lNUkVGICRiICYmCglwcmludGYgJEYgIm9wdGlvbiBuby1kZXJlZiIgImRlbGV0ZSBURVNUU1lNUkVGIiAiJGIiID5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgVEVTVFNZTVJFRiAmJgoJZ2l0IHJldi1wYXJzZSAkbX4xID5leHBlY3QgJiYKCWdpdCByZXYtcGFyc2UgJGIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiBkZWxldGUgcmVmIHdvcmtzIHdpdGggcmlnaHQgb2xkIHZhbHVlJyAnCglwcmludGYgJEYgImRlbGV0ZSAkYiIgIiRtfjEiID5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RkaW4gLXogdXBkYXRlL2NyZWF0ZS92ZXJpZnkgY29tYmluYXRpb24gd29ya3MnICcKCXByaW50ZiAkRiAidXBkYXRlICRhIiAiJG0iICIiICJjcmVhdGUgJGIiICIkbSIgInZlcmlmeSAkYyIgIiIgPnN0ZGluICYmCglnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAmJgoJZ2l0IHJldi1wYXJzZSAkbSA+ZXhwZWN0ICYmCglnaXQgcmV2LXBhcnNlICRhID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCWdpdCByZXYtcGFyc2UgJGIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSAtcSAkYwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiB1cGRhdGUgcmVmcyB3b3JrcyB3aXRoIGlkZW50aXR5IHVwZGF0ZXMnICcKCXByaW50ZiAkRiAidXBkYXRlICRhIiAiJG0iICIkbSIgInVwZGF0ZSAkYiIgIiRtIiAiJG0iICJ1cGRhdGUgJGMiICIkWiIgIiIgPnN0ZGluICYmCglnaXQgdXBkYXRlLXJlZiAteiAtLXN0ZGluIDxzdGRpbiAmJgoJZ2l0IHJldi1wYXJzZSAkbSA+ZXhwZWN0ICYmCglnaXQgcmV2LXBhcnNlICRhID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCWdpdCByZXYtcGFyc2UgJGIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSAtcSAkYwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGRpbiAteiB1cGRhdGUgcmVmcyBmYWlscyB3aXRoIHdyb25nIG9sZCB2YWx1ZScgJwoJZ2l0IHVwZGF0ZS1yZWYgJGMgJG0gJiYKCXByaW50ZiAkRiAidXBkYXRlICRhIiAiJG0iICIkbSIgInVwZGF0ZSAkYiIgIiRtIiAiJG0iICJ1cGRhdGUgJGMiICIkbSIgIiRaIiA+c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB1cGRhdGUtcmVmIC16IC0tc3RkaW4gPHN0ZGluIDI+ZXJyICYmCglncmVwICJmYXRhbDogQ2Fubm90IGxvY2sgdGhlIHJlZiAnIiciJyRjJyInIiciIGVyciAmJgoJZ2l0IHJldi1wYXJzZSAkbSA+ZXhwZWN0ICYmCglnaXQgcmV2LXBhcnNlICRhID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCWdpdCByZXYtcGFyc2UgJGIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJZ2l0IHJldi1wYXJzZSAkYyA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N0ZGluIC16IGRlbGV0ZSByZWZzIHdvcmtzIHdpdGggcGFja2VkIGFuZCBsb29zZSByZWZzJyAnCglnaXQgcGFjay1yZWZzIC0tYWxsICYmCglnaXQgdXBkYXRlLXJlZiAkYyAkbX4xICYmCglwcmludGYgJEYgImRlbGV0ZSAkYSIgIiRtIiAidXBkYXRlICRiIiAiJFoiICIkbSIgInVwZGF0ZSAkYyIgIiIgIiRtfjEiID5zdGRpbiAmJgoJZ2l0IHVwZGF0ZS1yZWYgLXogLS1zdGRpbiA8c3RkaW4gJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGEgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGIgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgLXEgJGMKJwoKdGVzdF9kb25lCg==",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2006 Shawn Pearce\n#\n\ntest_description='Test git update-ref and basic ref logging'\n. ./test-lib.sh\n\nZ=$_z40\n\ntest_expect_success setup '\n\n\tfor name in A B C D E F\n\tdo\n\t\ttest_tick &&\n\t\tT=$(git write-tree) &&\n\t\tsha1=$(echo $name | git commit-tree $T) &&\n\t\teval $name=$sha1\n\tdone\n\n'\n\nm=refs/heads/master\nn_dir=refs/heads/gu\nn=$n_dir/fixes\n\ntest_expect_success \\\n\t\"create $m\" \\\n\t\"git update-ref $m $A &&\n\t test $A\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \\\n\t\"create $m\" \\\n\t\"git update-ref $m $B $A &&\n\t test $B\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \"fail to delete $m with stale ref\" '\n\ttest_must_fail git update-ref -d $m $A &&\n\ttest $B = \"$(cat .git/$m)\"\n'\ntest_expect_success \"delete $m\" '\n\tgit update-ref -d $m $B &&\n\t! test -f .git/$m\n'\nrm -f .git/$m\n\ntest_expect_success \"delete $m without oldvalue verification\" \"\n\tgit update-ref $m $A &&\n\ttest $A = \\$(cat .git/$m) &&\n\tgit update-ref -d $m &&\n\t! test -f .git/$m\n\"\nrm -f .git/$m\n\ntest_expect_success \\\n\t\"fail to create $n\" \\\n\t\"touch .git/$n_dir &&\n\t test_must_fail git update-ref $n $A >out 2>err\"\nrm -f .git/$n_dir out err\n\ntest_expect_success \\\n\t\"create $m (by HEAD)\" \\\n\t\"git update-ref HEAD $A &&\n\t test $A\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \\\n\t\"create $m (by HEAD)\" \\\n\t\"git update-ref HEAD $B $A &&\n\t test $B\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \"fail to delete $m (by HEAD) with stale ref\" '\n\ttest_must_fail git update-ref -d HEAD $A &&\n\ttest $B = $(cat .git/$m)\n'\ntest_expect_success \"delete $m (by HEAD)\" '\n\tgit update-ref -d HEAD $B &&\n\t! test -f .git/$m\n'\nrm -f .git/$m\n\ntest_expect_success \\\n\t\"create $m (by HEAD)\" \\\n\t\"git update-ref HEAD $A &&\n\t test $A\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \\\n\t\"pack refs\" \\\n\t\"git pack-refs --all\"\ntest_expect_success \\\n\t\"move $m (by HEAD)\" \\\n\t\"git update-ref HEAD $B $A &&\n\t test $B\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \"delete $m (by HEAD) should remove both packed and loose $m\" '\n\tgit update-ref -d HEAD $B &&\n\t! grep \"$m\" .git/packed-refs &&\n\t! test -f .git/$m\n'\nrm -f .git/$m\n\ncp -f .git/HEAD .git/HEAD.orig\ntest_expect_success \"delete symref without dereference\" '\n\tgit update-ref --no-deref -d HEAD &&\n\t! test -f .git/HEAD\n'\ncp -f .git/HEAD.orig .git/HEAD\n\ntest_expect_success \"delete symref without dereference when the referred ref is packed\" '\n\techo foo >foo.c &&\n\tgit add foo.c &&\n\tgit commit -m foo &&\n\tgit pack-refs --all &&\n\tgit update-ref --no-deref -d HEAD &&\n\t! test -f .git/HEAD\n'\ncp -f .git/HEAD.orig .git/HEAD\ngit update-ref -d $m\n\ntest_expect_success '(not) create HEAD with old sha1' \"\n\ttest_must_fail git update-ref HEAD $A $B\n\"\ntest_expect_success \"(not) prior created .git/$m\" \"\n\t! test -f .git/$m\n\"\nrm -f .git/$m\n\ntest_expect_success \\\n\t\"create HEAD\" \\\n\t\"git update-ref HEAD $A\"\ntest_expect_success '(not) change HEAD with wrong SHA1' \"\n\ttest_must_fail git update-ref HEAD $B $Z\n\"\ntest_expect_success \"(not) changed .git/$m\" \"\n\t! test $B\"' = $(cat .git/'\"$m\"')\n'\nrm -f .git/$m\n\n: a repository with working tree always has reflog these days...\n: >.git/logs/refs/heads/master\ntest_expect_success \\\n\t\"create $m (logged by touch)\" \\\n\t'GIT_COMMITTER_DATE=\"2005-05-26 23:30\" \\\n\t git update-ref HEAD '\"$A\"' -m \"Initial Creation\" &&\n\t test '\"$A\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \\\n\t\"update $m (logged by touch)\" \\\n\t'GIT_COMMITTER_DATE=\"2005-05-26 23:31\" \\\n\t git update-ref HEAD'\" $B $A \"'-m \"Switch\" &&\n\t test '\"$B\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \\\n\t\"set $m (logged by touch)\" \\\n\t'GIT_COMMITTER_DATE=\"2005-05-26 23:41\" \\\n\t git update-ref HEAD'\" $A &&\n\t test $A\"' = $(cat .git/'\"$m\"')'\n\ncat >expect <<EOF\n$Z $A $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150200 +0000\tInitial Creation\n$A $B $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150260 +0000\tSwitch\n$B $A $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150860 +0000\nEOF\ntest_expect_success \\\n\t\"verifying $m's log\" \\\n\t\"test_cmp expect .git/logs/$m\"\nrm -rf .git/$m .git/logs expect\n\ntest_expect_success \\\n\t'enable core.logAllRefUpdates' \\\n\t'git config core.logAllRefUpdates true &&\n\t test true = $(git config --bool --get core.logAllRefUpdates)'\n\ntest_expect_success \\\n\t\"create $m (logged by config)\" \\\n\t'GIT_COMMITTER_DATE=\"2005-05-26 23:32\" \\\n\t git update-ref HEAD'\" $A \"'-m \"Initial Creation\" &&\n\t test '\"$A\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \\\n\t\"update $m (logged by config)\" \\\n\t'GIT_COMMITTER_DATE=\"2005-05-26 23:33\" \\\n\t git update-ref HEAD'\" $B $A \"'-m \"Switch\" &&\n\t test '\"$B\"' = $(cat .git/'\"$m\"')'\ntest_expect_success \\\n\t\"set $m (logged by config)\" \\\n\t'GIT_COMMITTER_DATE=\"2005-05-26 23:43\" \\\n\t git update-ref HEAD '\"$A &&\n\t test $A\"' = $(cat .git/'\"$m\"')'\n\ncat >expect <<EOF\n$Z $A $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150320 +0000\tInitial Creation\n$A $B $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150380 +0000\tSwitch\n$B $A $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150980 +0000\nEOF\ntest_expect_success \\\n\t\"verifying $m's log\" \\\n\t'test_cmp expect .git/logs/$m'\nrm -f .git/$m .git/logs/$m expect\n\ngit update-ref $m $D\ncat >.git/logs/$m <<EOF\n0000000000000000000000000000000000000000 $C $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150320 -0500\n$C $A $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150350 -0500\n$A $B $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150380 -0500\n$F $Z $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150680 -0500\n$Z $E $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150980 -0500\nEOF\n\ned=\"Thu, 26 May 2005 18:32:00 -0500\"\ngd=\"Thu, 26 May 2005 18:33:00 -0500\"\nld=\"Thu, 26 May 2005 18:43:00 -0500\"\ntest_expect_success \\\n\t'Query \"master@{May 25 2005}\" (before history)' \\\n\t'rm -f o e &&\n\t git rev-parse --verify \"master@{May 25 2005}\" >o 2>e &&\n\t test '\"$C\"' = $(cat o) &&\n\t test \"warning: Log for '\\'master\\'' only goes back to $ed.\" = \"$(cat e)\"'\ntest_expect_success \\\n\t\"Query master@{2005-05-25} (before history)\" \\\n\t'rm -f o e &&\n\t git rev-parse --verify master@{2005-05-25} >o 2>e &&\n\t test '\"$C\"' = $(cat o) &&\n\t echo test \"warning: Log for '\\'master\\'' only goes back to $ed.\" = \"$(cat e)\"'\ntest_expect_success \\\n\t'Query \"master@{May 26 2005 23:31:59}\" (1 second before history)' \\\n\t'rm -f o e &&\n\t git rev-parse --verify \"master@{May 26 2005 23:31:59}\" >o 2>e &&\n\t test '\"$C\"' = $(cat o) &&\n\t test \"warning: Log for '\\''master'\\'' only goes back to $ed.\" = \"$(cat e)\"'\ntest_expect_success \\\n\t'Query \"master@{May 26 2005 23:32:00}\" (exactly history start)' \\\n\t'rm -f o e &&\n\t git rev-parse --verify \"master@{May 26 2005 23:32:00}\" >o 2>e &&\n\t test '\"$C\"' = $(cat o) &&\n\t test \"\" = \"$(cat e)\"'\ntest_expect_success \\\n\t'Query \"master@{May 26 2005 23:32:30}\" (first non-creation change)' \\\n\t'rm -f o e &&\n\t git rev-parse --verify \"master@{May 26 2005 23:32:30}\" >o 2>e &&\n\t test '\"$A\"' = $(cat o) &&\n\t test \"\" = \"$(cat e)\"'\ntest_expect_success \\\n\t'Query \"master@{2005-05-26 23:33:01}\" (middle of history with gap)' \\\n\t'rm -f o e &&\n\t git rev-parse --verify \"master@{2005-05-26 23:33:01}\" >o 2>e &&\n\t test '\"$B\"' = $(cat o) &&\n\t test \"warning: Log .git/logs/'\"$m has gap after $gd\"'.\" = \"$(cat e)\"'\ntest_expect_success \\\n\t'Query \"master@{2005-05-26 23:38:00}\" (middle of history)' \\\n\t'rm -f o e &&\n\t git rev-parse --verify \"master@{2005-05-26 23:38:00}\" >o 2>e &&\n\t test '\"$Z\"' = $(cat o) &&\n\t test \"\" = \"$(cat e)\"'\ntest_expect_success \\\n\t'Query \"master@{2005-05-26 23:43:00}\" (exact end of history)' \\\n\t'rm -f o e &&\n\t git rev-parse --verify \"master@{2005-05-26 23:43:00}\" >o 2>e &&\n\t test '\"$E\"' = $(cat o) &&\n\t test \"\" = \"$(cat e)\"'\ntest_expect_success \\\n\t'Query \"master@{2005-05-28}\" (past end of history)' \\\n\t'rm -f o e &&\n\t git rev-parse --verify \"master@{2005-05-28}\" >o 2>e &&\n\t test '\"$D\"' = $(cat o) &&\n\t test \"warning: Log .git/logs/'\"$m unexpectedly ended on $ld\"'.\" = \"$(cat e)\"'\n\n\nrm -f .git/$m .git/logs/$m expect\n\ntest_expect_success \\\n    'creating initial files' \\\n    'echo TEST >F &&\n     git add F &&\n\t GIT_AUTHOR_DATE=\"2005-05-26 23:30\" \\\n\t GIT_COMMITTER_DATE=\"2005-05-26 23:30\" git commit -m add -a &&\n\t h_TEST=$(git rev-parse --verify HEAD) &&\n\t echo The other day this did not work. >M &&\n\t echo And then Bob told me how to fix it. >>M &&\n\t echo OTHER >F &&\n\t GIT_AUTHOR_DATE=\"2005-05-26 23:41\" \\\n\t GIT_COMMITTER_DATE=\"2005-05-26 23:41\" git commit -F M -a &&\n\t h_OTHER=$(git rev-parse --verify HEAD) &&\n\t GIT_AUTHOR_DATE=\"2005-05-26 23:44\" \\\n\t GIT_COMMITTER_DATE=\"2005-05-26 23:44\" git commit --amend &&\n\t h_FIXED=$(git rev-parse --verify HEAD) &&\n\t echo Merged initial commit and a later commit. >M &&\n\t echo $h_TEST >.git/MERGE_HEAD &&\n\t GIT_AUTHOR_DATE=\"2005-05-26 23:45\" \\\n\t GIT_COMMITTER_DATE=\"2005-05-26 23:45\" git commit -F M &&\n\t h_MERGED=$(git rev-parse --verify HEAD) &&\n\t rm -f M'\n\ncat >expect <<EOF\n$Z $h_TEST $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150200 +0000\tcommit (initial): add\n$h_TEST $h_OTHER $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117150860 +0000\tcommit: The other day this did not work.\n$h_OTHER $h_FIXED $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117151040 +0000\tcommit (amend): The other day this did not work.\n$h_FIXED $h_MERGED $GIT_COMMITTER_NAME <$GIT_COMMITTER_EMAIL> 1117151100 +0000\tcommit (merge): Merged initial commit and a later commit.\nEOF\ntest_expect_success \\\n\t'git commit logged updates' \\\n\t\"test_cmp expect .git/logs/$m\"\nunset h_TEST h_OTHER h_FIXED h_MERGED\n\ntest_expect_success \\\n\t'git cat-file blob master:F (expect OTHER)' \\\n\t'test OTHER = $(git cat-file blob master:F)'\ntest_expect_success \\\n\t'git cat-file blob master@{2005-05-26 23:30}:F (expect TEST)' \\\n\t'test TEST = $(git cat-file blob \"master@{2005-05-26 23:30}:F\")'\ntest_expect_success \\\n\t'git cat-file blob master@{2005-05-26 23:42}:F (expect OTHER)' \\\n\t'test OTHER = $(git cat-file blob \"master@{2005-05-26 23:42}:F\")'\n\na=refs/heads/a\nb=refs/heads/b\nc=refs/heads/c\nE='\"\"'\nF='%s\\0'\npws='path with space'\n\ntest_expect_success 'stdin test setup' '\n\techo \"$pws\" >\"$pws\" &&\n\tgit add -- \"$pws\" &&\n\tgit commit -m \"$pws\"\n'\n\ntest_expect_success '-z fails without --stdin' '\n\ttest_must_fail git update-ref -z $m $m $m 2>err &&\n\tgrep \"usage: git update-ref\" err\n'\n\ntest_expect_success 'stdin works with no input' '\n\t>stdin &&\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse --verify -q $m\n'\n\ntest_expect_success 'stdin fails on empty line' '\n\techo \"\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: empty command in input\" err\n'\n\ntest_expect_success 'stdin fails on only whitespace' '\n\techo \" \" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: whitespace before command:  \" err\n'\n\ntest_expect_success 'stdin fails on leading whitespace' '\n\techo \" create $a $m\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: whitespace before command:  create $a $m\" err\n'\n\ntest_expect_success 'stdin fails on unknown command' '\n\techo \"unknown $a\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: unknown command: unknown $a\" err\n'\n\ntest_expect_success 'stdin fails on unbalanced quotes' '\n\techo \"create $a \\\"master\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: badly quoted argument: \\\\\\\"master\" err\n'\n\ntest_expect_success 'stdin fails on invalid escape' '\n\techo \"create $a \\\"ma\\zter\\\"\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: badly quoted argument: \\\\\\\"ma\\\\\\\\zter\\\\\\\"\" err\n'\n\ntest_expect_success 'stdin fails on junk after quoted argument' '\n\techo \"create \\\"$a\\\"master\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: unexpected character after quoted argument: \\\\\\\"$a\\\\\\\"master\" err\n'\n\ntest_expect_success 'stdin fails create with no ref' '\n\techo \"create \" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: create line missing <ref>\" err\n'\n\ntest_expect_success 'stdin fails create with bad ref name' '\n\techo \"create ~a $m\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid ref format: ~a\" err\n'\n\ntest_expect_success 'stdin fails create with no new value' '\n\techo \"create $a\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: create $a missing <newvalue>\" err\n'\n\ntest_expect_success 'stdin fails create with too many arguments' '\n\techo \"create $a $m $m\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: create $a has extra input:  $m\" err\n'\n\ntest_expect_success 'stdin fails update with no ref' '\n\techo \"update \" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: update line missing <ref>\" err\n'\n\ntest_expect_success 'stdin fails update with bad ref name' '\n\techo \"update ~a $m\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid ref format: ~a\" err\n'\n\ntest_expect_success 'stdin fails update with no new value' '\n\techo \"update $a\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: update $a missing <newvalue>\" err\n'\n\ntest_expect_success 'stdin fails update with too many arguments' '\n\techo \"update $a $m $m $m\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: update $a has extra input:  $m\" err\n'\n\ntest_expect_success 'stdin fails delete with no ref' '\n\techo \"delete \" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: delete line missing <ref>\" err\n'\n\ntest_expect_success 'stdin fails delete with bad ref name' '\n\techo \"delete ~a $m\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid ref format: ~a\" err\n'\n\ntest_expect_success 'stdin fails delete with too many arguments' '\n\techo \"delete $a $m $m\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: delete $a has extra input:  $m\" err\n'\n\ntest_expect_success 'stdin fails verify with too many arguments' '\n\techo \"verify $a $m $m\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: verify $a has extra input:  $m\" err\n'\n\ntest_expect_success 'stdin fails option with unknown name' '\n\techo \"option unknown\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: option unknown: unknown\" err\n'\n\ntest_expect_success 'stdin fails with duplicate refs' '\n\tcat >stdin <<-EOF &&\n\tcreate $a $m\n\tcreate $b $m\n\tcreate $a $m\n\tEOF\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: Multiple updates for ref '\"'\"'$a'\"'\"' not allowed.\" err\n'\n\ntest_expect_success 'stdin create ref works' '\n\techo \"create $a $m\" >stdin &&\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin succeeds with quoted argument' '\n\tgit update-ref -d $a &&\n\techo \"create $a \\\"$m\\\"\" >stdin &&\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin succeeds with escaped character' '\n\tgit update-ref -d $a &&\n\techo \"create $a \\\"ma\\\\163ter\\\"\" >stdin &&\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin update ref creates with zero old value' '\n\techo \"update $b $m $Z\" >stdin &&\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual &&\n\tgit update-ref -d $b\n'\n\ntest_expect_success 'stdin update ref creates with empty old value' '\n\techo \"update $b $m $E\" >stdin &&\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin create ref works with path with space to blob' '\n\techo \"create refs/blobs/pws \\\"$m:$pws\\\"\" >stdin &&\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse \"$m:$pws\" >expect &&\n\tgit rev-parse refs/blobs/pws >actual &&\n\ttest_cmp expect actual &&\n\tgit update-ref -d refs/blobs/pws\n'\n\ntest_expect_success 'stdin update ref fails with wrong old value' '\n\techo \"update $c $m $m~1\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: Cannot lock the ref '\"'\"'$c'\"'\"'\" err &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin update ref fails with bad old value' '\n\techo \"update $c $m does-not-exist\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid old value for ref $c: does-not-exist\" err &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin create ref fails with bad new value' '\n\techo \"create $c does-not-exist\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid new value for ref $c: does-not-exist\" err &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin create ref fails with zero new value' '\n\techo \"create $c \" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: create $c given zero new value\" err &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin update ref works with right old value' '\n\techo \"update $b $m~1 $m\" >stdin &&\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse $m~1 >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin delete ref fails with wrong old value' '\n\techo \"delete $a $m~1\" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: Cannot lock the ref '\"'\"'$a'\"'\"'\" err &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin delete ref fails with zero old value' '\n\techo \"delete $a \" >stdin &&\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: delete $a given zero old value\" err &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin update symref works option no-deref' '\n\tgit symbolic-ref TESTSYMREF $b &&\n\tcat >stdin <<-EOF &&\n\toption no-deref\n\tupdate TESTSYMREF $a $b\n\tEOF\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse TESTSYMREF >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $m~1 >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin delete symref works option no-deref' '\n\tgit symbolic-ref TESTSYMREF $b &&\n\tcat >stdin <<-EOF &&\n\toption no-deref\n\tdelete TESTSYMREF $b\n\tEOF\n\tgit update-ref --stdin <stdin &&\n\ttest_must_fail git rev-parse --verify -q TESTSYMREF &&\n\tgit rev-parse $m~1 >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin delete ref works with right old value' '\n\techo \"delete $b $m~1\" >stdin &&\n\tgit update-ref --stdin <stdin &&\n\ttest_must_fail git rev-parse --verify -q $b\n'\n\ntest_expect_success 'stdin update/create/verify combination works' '\n\tcat >stdin <<-EOF &&\n\tupdate $a $m\n\tcreate $b $m\n\tverify $c\n\tEOF\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin update refs works with identity updates' '\n\tcat >stdin <<-EOF &&\n\tupdate $a $m $m\n\tupdate $b $m $m\n\tupdate $c $Z $E\n\tEOF\n\tgit update-ref --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin update refs fails with wrong old value' '\n\tgit update-ref $c $m &&\n\tcat >stdin <<-EOF &&\n\tupdate $a $m $m\n\tupdate $b $m $m\n\tupdate $c  ''\n\tEOF\n\ttest_must_fail git update-ref --stdin <stdin 2>err &&\n\tgrep \"fatal: Cannot lock the ref '\"'\"'$c'\"'\"'\" err &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $c >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin delete refs works with packed and loose refs' '\n\tgit pack-refs --all &&\n\tgit update-ref $c $m~1 &&\n\tcat >stdin <<-EOF &&\n\tdelete $a $m\n\tupdate $b $Z $m\n\tupdate $c $E $m~1\n\tEOF\n\tgit update-ref --stdin <stdin &&\n\ttest_must_fail git rev-parse --verify -q $a &&\n\ttest_must_fail git rev-parse --verify -q $b &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin -z works on empty input' '\n\t>stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse --verify -q $m\n'\n\ntest_expect_success 'stdin -z fails on empty line' '\n\techo \"\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: whitespace before command: \" err\n'\n\ntest_expect_success 'stdin -z fails on empty command' '\n\tprintf $F \"\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: empty command in input\" err\n'\n\ntest_expect_success 'stdin -z fails on only whitespace' '\n\tprintf $F \" \" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: whitespace before command:  \" err\n'\n\ntest_expect_success 'stdin -z fails on leading whitespace' '\n\tprintf $F \" create $a\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: whitespace before command:  create $a\" err\n'\n\ntest_expect_success 'stdin -z fails on unknown command' '\n\tprintf $F \"unknown $a\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: unknown command: unknown $a\" err\n'\n\ntest_expect_success 'stdin -z fails create with no ref' '\n\tprintf $F \"create \" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: create line missing <ref>\" err\n'\n\ntest_expect_success 'stdin -z fails create with bad ref name' '\n\tprintf $F \"create ~a \" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid ref format: ~a \" err\n'\n\ntest_expect_success 'stdin -z fails create with no new value' '\n\tprintf $F \"create $a\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: create $a missing <newvalue>\" err\n'\n\ntest_expect_success 'stdin -z fails create with too many arguments' '\n\tprintf $F \"create $a\" \"$m\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: unknown command: $m\" err\n'\n\ntest_expect_success 'stdin -z fails update with no ref' '\n\tprintf $F \"update \" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: update line missing <ref>\" err\n'\n\ntest_expect_success 'stdin -z fails update with bad ref name' '\n\tprintf $F \"update ~a\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid ref format: ~a\" err\n'\n\ntest_expect_success 'stdin -z fails update with no new value' '\n\tprintf $F \"update $a\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: update $a missing <newvalue>\" err\n'\n\ntest_expect_success 'stdin -z fails update with no old value' '\n\tprintf $F \"update $a\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: update $a missing \\\\[<oldvalue>\\\\] NUL\" err\n'\n\ntest_expect_success 'stdin -z fails update with too many arguments' '\n\tprintf $F \"update $a\" \"$m\" \"$m\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: unknown command: $m\" err\n'\n\ntest_expect_success 'stdin -z fails delete with no ref' '\n\tprintf $F \"delete \" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: delete line missing <ref>\" err\n'\n\ntest_expect_success 'stdin -z fails delete with bad ref name' '\n\tprintf $F \"delete ~a\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid ref format: ~a\" err\n'\n\ntest_expect_success 'stdin -z fails delete with no old value' '\n\tprintf $F \"delete $a\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: delete $a missing \\\\[<oldvalue>\\\\] NUL\" err\n'\n\ntest_expect_success 'stdin -z fails delete with too many arguments' '\n\tprintf $F \"delete $a\" \"$m\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: unknown command: $m\" err\n'\n\ntest_expect_success 'stdin -z fails verify with too many arguments' '\n\tprintf $F \"verify $a\" \"$m\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: unknown command: $m\" err\n'\n\ntest_expect_success 'stdin -z fails verify with no old value' '\n\tprintf $F \"verify $a\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: verify $a missing \\\\[<oldvalue>\\\\] NUL\" err\n'\n\ntest_expect_success 'stdin -z fails option with unknown name' '\n\tprintf $F \"option unknown\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: option unknown: unknown\" err\n'\n\ntest_expect_success 'stdin -z fails with duplicate refs' '\n\tprintf $F \"create $a\" \"$m\" \"create $b\" \"$m\" \"create $a\" \"$m\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: Multiple updates for ref '\"'\"'$a'\"'\"' not allowed.\" err\n'\n\ntest_expect_success 'stdin -z create ref works' '\n\tprintf $F \"create $a\" \"$m\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin -z update ref creates with zero old value' '\n\tprintf $F \"update $b\" \"$m\" \"$Z\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual &&\n\tgit update-ref -d $b\n'\n\ntest_expect_success 'stdin -z update ref creates with empty old value' '\n\tprintf $F \"update $b\" \"$m\" \"\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin -z create ref works with path with space to blob' '\n\tprintf $F \"create refs/blobs/pws\" \"$m:$pws\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse \"$m:$pws\" >expect &&\n\tgit rev-parse refs/blobs/pws >actual &&\n\ttest_cmp expect actual &&\n\tgit update-ref -d refs/blobs/pws\n'\n\ntest_expect_success 'stdin -z update ref fails with wrong old value' '\n\tprintf $F \"update $c\" \"$m\" \"$m~1\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: Cannot lock the ref '\"'\"'$c'\"'\"'\" err &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin -z update ref fails with bad old value' '\n\tprintf $F \"update $c\" \"$m\" \"does-not-exist\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid old value for ref $c: does-not-exist\" err &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin -z create ref fails with bad new value' '\n\tprintf $F \"create $c\" \"does-not-exist\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: invalid new value for ref $c: does-not-exist\" err &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_failure 'stdin -z create ref fails with empty new value' '\n\tprintf $F \"create $c\" \"\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: create $c missing <newvalue>\" err &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin -z update ref works with right old value' '\n\tprintf $F \"update $b\" \"$m~1\" \"$m\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse $m~1 >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin -z delete ref fails with wrong old value' '\n\tprintf $F \"delete $a\" \"$m~1\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: Cannot lock the ref '\"'\"'$a'\"'\"'\" err &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin -z delete ref fails with zero old value' '\n\tprintf $F \"delete $a\" \"$Z\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: delete $a given zero old value\" err &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin -z update symref works option no-deref' '\n\tgit symbolic-ref TESTSYMREF $b &&\n\tprintf $F \"option no-deref\" \"update TESTSYMREF\" \"$a\" \"$b\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse TESTSYMREF >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $m~1 >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin -z delete symref works option no-deref' '\n\tgit symbolic-ref TESTSYMREF $b &&\n\tprintf $F \"option no-deref\" \"delete TESTSYMREF\" \"$b\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\ttest_must_fail git rev-parse --verify -q TESTSYMREF &&\n\tgit rev-parse $m~1 >expect &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin -z delete ref works with right old value' '\n\tprintf $F \"delete $b\" \"$m~1\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\ttest_must_fail git rev-parse --verify -q $b\n'\n\ntest_expect_success 'stdin -z update/create/verify combination works' '\n\tprintf $F \"update $a\" \"$m\" \"\" \"create $b\" \"$m\" \"verify $c\" \"\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin -z update refs works with identity updates' '\n\tprintf $F \"update $a\" \"$m\" \"$m\" \"update $b\" \"$m\" \"$m\" \"update $c\" \"$Z\" \"\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_expect_success 'stdin -z update refs fails with wrong old value' '\n\tgit update-ref $c $m &&\n\tprintf $F \"update $a\" \"$m\" \"$m\" \"update $b\" \"$m\" \"$m\" \"update $c\" \"$m\" \"$Z\" >stdin &&\n\ttest_must_fail git update-ref -z --stdin <stdin 2>err &&\n\tgrep \"fatal: Cannot lock the ref '\"'\"'$c'\"'\"'\" err &&\n\tgit rev-parse $m >expect &&\n\tgit rev-parse $a >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $b >actual &&\n\ttest_cmp expect actual &&\n\tgit rev-parse $c >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'stdin -z delete refs works with packed and loose refs' '\n\tgit pack-refs --all &&\n\tgit update-ref $c $m~1 &&\n\tprintf $F \"delete $a\" \"$m\" \"update $b\" \"$Z\" \"$m\" \"update $c\" \"\" \"$m~1\" >stdin &&\n\tgit update-ref -z --stdin <stdin &&\n\ttest_must_fail git rev-parse --verify -q $a &&\n\ttest_must_fail git rev-parse --verify -q $b &&\n\ttest_must_fail git rev-parse --verify -q $c\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00862bc28ee7d94d0ca6218078e65faa1a1bdfad",
  "sha1_ok": true,
  "size": 30493
}
