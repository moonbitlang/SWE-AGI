{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMDYgSnVuaW8gQyBIYW1hbm8KIwoKdGVzdF9kZXNjcmlwdGlvbj0nZ2l0IGdyZXAgLXcKJwoKLiAuL3Rlc3QtbGliLnNoCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIHNldHVwICcKCXsKCQllY2hvIGZvbyBtbWFwIGJhcgoJCWVjaG8gZm9vX21tYXAgYmFyCgkJZWNobyBmb29fbW1hcCBiYXIgbW1hcAoJCWVjaG8gZm9vIG1tYXAgYmFyX21tYXAKCQllY2hvIGZvb19tbWFwIGJhciBtbWFwIGJhegoJfSA+ZmlsZSAmJgoJZWNobyB4IHggeHggeCA+eCAmJgoJZWNobyB5IHl5ID55ICYmCgllY2hvIHp6eiA+IHogJiYKCWdpdCBhZGQgZmlsZSB4IHkgeiAmJgoJZ2l0IGNvbW1pdCAtbSBpbml0aWFsCicKCmZvciBIIGluIEhFQUQgJycKZG8KCWNhc2UgIiRIIiBpbgoJSEVBRCkJSEM9J0hFQUQ6JyBMPSdIRUFEJyA7OwoJJycpCUhDPSBMPSdpbiB3b3JraW5nIHRyZWUnIDs7Cgllc2FjCgoJdGVzdF9leHBlY3Rfc3VjY2VzcyAiZ3JlcCAtdyAkTCIgJwoJCXsKCQkJZWNobyAke0hDfWZpbGU6MTpmb28gbW1hcCBiYXIKCQkJZWNobyAke0hDfWZpbGU6Mzpmb29fbW1hcCBiYXIgbW1hcAoJCQllY2hvICR7SEN9ZmlsZTo0OmZvbyBtbWFwIGJhcl9tbWFwCgkJCWVjaG8gJHtIQ31maWxlOjU6Zm9vX21tYXAgYmFyIG1tYXAgYmF6CgkJfSA+ZXhwZWN0ZWQgJiYKCQlnaXQgZ3JlcCAtbiAtdyAtZSBtbWFwICRIID5hY3R1YWwgJiYKCQlkaWZmIGV4cGVjdGVkIGFjdHVhbAoJJwoKCXRlc3RfZXhwZWN0X3N1Y2Nlc3MgImdyZXAgLXcgJEwgKHgpIiAnCgkJewoJCQllY2hvICR7SEN9eDoxOnggeCB4eCB4CgkJfSA+ZXhwZWN0ZWQgJiYKCQlnaXQgZ3JlcCAtbiAtdyAtZSAieCB4eCogeCIgJEggPmFjdHVhbCAmJgoJCWRpZmYgZXhwZWN0ZWQgYWN0dWFsCgknCgoJdGVzdF9leHBlY3Rfc3VjY2VzcyAiZ3JlcCAtdyAkTCAoeS0xKSIgJwoJCXsKCQkJZWNobyAke0hDfXk6MTp5IHl5CgkJfSA+ZXhwZWN0ZWQgJiYKCQlnaXQgZ3JlcCAtbiAtdyAtZSAiXnkiICRIID5hY3R1YWwgJiYKCQlkaWZmIGV4cGVjdGVkIGFjdHVhbAoJJwoKCXRlc3RfZXhwZWN0X3N1Y2Nlc3MgImdyZXAgLXcgJEwgKHktMikiICcKCQk6ID5leHBlY3RlZCAmJgoJCWlmIGdpdCBncmVwIC1uIC13IC1lICJeeSB5IiAkSCA+YWN0dWFsCgkJdGhlbgoJCQllY2hvIHNob3VsZCBub3QgaGF2ZSBtYXRjaGVkCgkJCWNhdCBhY3R1YWwKCQkJZmFsc2UKCQllbHNlCgkJCWRpZmYgZXhwZWN0ZWQgYWN0dWFsCgkJZmkKCScKCgl0ZXN0X2V4cGVjdF9zdWNjZXNzICJncmVwIC13ICRMICh6KSIgJwoJCTogPmV4cGVjdGVkICYmCgkJaWYgZ2l0IGdyZXAgLW4gLXcgLWUgIl56IiAkSCA+YWN0dWFsCgkJdGhlbgoJCQllY2hvIHNob3VsZCBub3QgaGF2ZSBtYXRjaGVkCgkJCWNhdCBhY3R1YWwKCQkJZmFsc2UKCQllbHNlCgkJCWRpZmYgZXhwZWN0ZWQgYWN0dWFsCgkJZmkKCScKZG9uZQoKdGVzdF9kb25lCg==",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2006 Junio C Hamano\n#\n\ntest_description='git grep -w\n'\n\n. ./test-lib.sh\n\ntest_expect_success setup '\n\t{\n\t\techo foo mmap bar\n\t\techo foo_mmap bar\n\t\techo foo_mmap bar mmap\n\t\techo foo mmap bar_mmap\n\t\techo foo_mmap bar mmap baz\n\t} >file &&\n\techo x x xx x >x &&\n\techo y yy >y &&\n\techo zzz > z &&\n\tgit add file x y z &&\n\tgit commit -m initial\n'\n\nfor H in HEAD ''\ndo\n\tcase \"$H\" in\n\tHEAD)\tHC='HEAD:' L='HEAD' ;;\n\t'')\tHC= L='in working tree' ;;\n\tesac\n\n\ttest_expect_success \"grep -w $L\" '\n\t\t{\n\t\t\techo ${HC}file:1:foo mmap bar\n\t\t\techo ${HC}file:3:foo_mmap bar mmap\n\t\t\techo ${HC}file:4:foo mmap bar_mmap\n\t\t\techo ${HC}file:5:foo_mmap bar mmap baz\n\t\t} >expected &&\n\t\tgit grep -n -w -e mmap $H >actual &&\n\t\tdiff expected actual\n\t'\n\n\ttest_expect_success \"grep -w $L (x)\" '\n\t\t{\n\t\t\techo ${HC}x:1:x x xx x\n\t\t} >expected &&\n\t\tgit grep -n -w -e \"x xx* x\" $H >actual &&\n\t\tdiff expected actual\n\t'\n\n\ttest_expect_success \"grep -w $L (y-1)\" '\n\t\t{\n\t\t\techo ${HC}y:1:y yy\n\t\t} >expected &&\n\t\tgit grep -n -w -e \"^y\" $H >actual &&\n\t\tdiff expected actual\n\t'\n\n\ttest_expect_success \"grep -w $L (y-2)\" '\n\t\t: >expected &&\n\t\tif git grep -n -w -e \"^y y\" $H >actual\n\t\tthen\n\t\t\techo should not have matched\n\t\t\tcat actual\n\t\t\tfalse\n\t\telse\n\t\t\tdiff expected actual\n\t\tfi\n\t'\n\n\ttest_expect_success \"grep -w $L (z)\" '\n\t\t: >expected &&\n\t\tif git grep -n -w -e \"^z\" $H >actual\n\t\tthen\n\t\t\techo should not have matched\n\t\t\tcat actual\n\t\t\tfalse\n\t\telse\n\t\t\tdiff expected actual\n\t\tfi\n\t'\ndone\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00a7d762ce6867d4f14d8157ddee4daec3dea0f6",
  "sha1_ok": true,
  "size": 1468
}
