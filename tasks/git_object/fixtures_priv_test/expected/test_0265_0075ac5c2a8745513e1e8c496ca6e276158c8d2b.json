{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMDcgSm9oYW5uZXMgRS4gU2NoaW5kZWxpbgojCgp0ZXN0X2Rlc2NyaXB0aW9uPSdnaXQgcmViYXNlIGludGVyYWN0aXZlCgpUaGlzIHRlc3QgcnVucyBnaXQgcmViYXNlICJpbnRlcmFjdGl2ZWx5IiwgYnkgZmFraW5nIGFuIGVkaXQsIGFuZCB2ZXJpZmllcwp0aGF0IHRoZSByZXN1bHQgc3RpbGwgbWFrZXMgc2Vuc2UuCgpJbml0aWFsIHNldHVwOgoKICAgICBvbmUgLSB0d28gLSB0aHJlZSAtIGZvdXIgKGNvbmZsaWN0LWJyYW5jaCkKICAgLwogQSAtIEIgLSBDIC0gRCAtIEUgICAgICAgICAgICAobWFzdGVyKQogfCBcCiB8ICAgRiAtIEcgLSBIICAgICAgICAgICAgICAgIChicmFuY2gxKQogfCAgICAgXAogfFwgICAgICBJICAgICAgICAgICAgICAgICAgICAoYnJhbmNoMikKIHwgXAogfCAgIEogLSBLIC0gTCAtIE0gICAgICAgICAgICAobm8tY29uZmxpY3QtYnJhbmNoKQogIFwKICAgIE4gLSBPIC0gUCAgICAgICAgICAgICAgICAgKG5vLWZmLWJyYW5jaCkKCiB3aGVyZSBBLCBCLCBEIGFuZCBHIGFsbCB0b3VjaCBmaWxlMSwgYW5kIG9uZSwgdHdvLCB0aHJlZSwgZm91ciBhbGwKIHRvdWNoIGZpbGUgImNvbmZsaWN0Ii4KJwouIC4vdGVzdC1saWIuc2gKCi4gIiRURVNUX0RJUkVDVE9SWSIvbGliLXJlYmFzZS5zaAoKIyBXQVJOSU5HOiBNb2RpZmljYXRpb25zIHRvIHRoZSBpbml0aWFsIHJlcG9zaXRvcnkgY2FuIGNoYW5nZSB0aGUgU0hBIElEIHVzZWQKIyBpbiB0aGUgZXhwZWN0MiBmaWxlIGZvciB0aGUgJ3N0b3Agb24gY29uZmxpY3RpbmcgcGljaycgdGVzdC4KCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3NldHVwJyAnCgl0ZXN0X2NvbW1pdCBBIGZpbGUxICYmCgl0ZXN0X2NvbW1pdCBCIGZpbGUxICYmCgl0ZXN0X2NvbW1pdCBDIGZpbGUyICYmCgl0ZXN0X2NvbW1pdCBEIGZpbGUxICYmCgl0ZXN0X2NvbW1pdCBFIGZpbGUzICYmCglnaXQgY2hlY2tvdXQgLWIgYnJhbmNoMSBBICYmCgl0ZXN0X2NvbW1pdCBGIGZpbGU0ICYmCgl0ZXN0X2NvbW1pdCBHIGZpbGUxICYmCgl0ZXN0X2NvbW1pdCBIIGZpbGU1ICYmCglnaXQgY2hlY2tvdXQgLWIgYnJhbmNoMiBGICYmCgl0ZXN0X2NvbW1pdCBJIGZpbGU2ICYmCglnaXQgY2hlY2tvdXQgLWIgY29uZmxpY3QtYnJhbmNoIEEgJiYKCXRlc3RfY29tbWl0IG9uZSBjb25mbGljdCAmJgoJdGVzdF9jb21taXQgdHdvIGNvbmZsaWN0ICYmCgl0ZXN0X2NvbW1pdCB0aHJlZSBjb25mbGljdCAmJgoJdGVzdF9jb21taXQgZm91ciBjb25mbGljdCAmJgoJZ2l0IGNoZWNrb3V0IC1iIG5vLWNvbmZsaWN0LWJyYW5jaCBBICYmCgl0ZXN0X2NvbW1pdCBKIGZpbGVKICYmCgl0ZXN0X2NvbW1pdCBLIGZpbGVLICYmCgl0ZXN0X2NvbW1pdCBMIGZpbGVMICYmCgl0ZXN0X2NvbW1pdCBNIGZpbGVNICYmCglnaXQgY2hlY2tvdXQgLWIgbm8tZmYtYnJhbmNoIEEgJiYKCXRlc3RfY29tbWl0IE4gZmlsZU4gJiYKCXRlc3RfY29tbWl0IE8gZmlsZU8gJiYKCXRlc3RfY29tbWl0IFAgZmlsZVAKJwoKIyAiZXhlYyIgY29tbWFuZHMgYXJlIHJ1biB3aXRoIHRoZSB1c2VyIHNoZWxsIGJ5IGRlZmF1bHQsIGJ1dCB0aGlzIG1heQojIGJlIG5vbi1QT1NJWC4gRm9yIGV4YW1wbGUsIGlmIFNIRUxMPXpzaCB0aGVuICI+ZmlsZSIgZG9lc24ndCB3b3JrCiMgdG8gY3JlYXRlIGEgZmlsZS4gVW5zZXR0aW5nIFNIRUxMIGF2b2lkcyBzdWNoIG5vbi1wb3J0YWJsZSBiZWhhdmlvcgojIGluIHRlc3RzLiBJdCBtdXN0IGJlIGV4cG9ydGVkIGZvciBpdCB0byB0YWtlIGVmZmVjdCB3aGVyZSBuZWVkZWQuClNIRUxMPQpleHBvcnQgU0hFTEwKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtLWtlZXAtZW1wdHknICcKCWdpdCBjaGVja291dCAtYiBlbXB0eWJyYW5jaCBtYXN0ZXIgJiYKCWdpdCBjb21taXQgLS1hbGxvdy1lbXB0eSAtbSAiZW1wdHkiICYmCglnaXQgcmViYXNlIC0ta2VlcC1lbXB0eSAtaSBIRUFEfjIgJiYKCWdpdCBsb2cgLS1vbmVsaW5lID5hY3R1YWwgJiYKCXRlc3RfbGluZV9jb3VudCA9IDYgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSB3aXRoIHRoZSBleGVjIGNvbW1hbmQnICcKCWdpdCBjaGVja291dCBtYXN0ZXIgJiYKCSgKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMSBleGVjXz50b3VjaC1vbmUKCQkyIGV4ZWNfPnRvdWNoLXR3byBleGVjX2ZhbHNlIGV4ZWNfPnRvdWNoLXRocmVlCgkJMyA0IGV4ZWNfPlwidG91Y2gtZmlsZV9fbmFtZV93aXRoX3NwYWNlc1wiO18+dG91Y2gtYWZ0ZXItc2VtaWNvbG9uIDUiICYmCglleHBvcnQgRkFLRV9MSU5FUyAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtaSBBCgkpICYmCgl0ZXN0X3BhdGhfaXNfZmlsZSB0b3VjaC1vbmUgJiYKCXRlc3RfcGF0aF9pc19maWxlIHRvdWNoLXR3byAmJgoJdGVzdF9wYXRoX2lzX21pc3NpbmcgdG91Y2gtdGhyZWUgIiAoc2hvdWxkIGhhdmUgc3RvcHBlZCBiZWZvcmUpIiAmJgoJdGVzdF9jbXBfcmV2IEMgSEVBRCAmJgoJZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCgl0ZXN0X3BhdGhfaXNfZmlsZSB0b3VjaC10aHJlZSAmJgoJdGVzdF9wYXRoX2lzX2ZpbGUgInRvdWNoLWZpbGUgIG5hbWUgd2l0aCBzcGFjZXMiICYmCgl0ZXN0X3BhdGhfaXNfZmlsZSB0b3VjaC1hZnRlci1zZW1pY29sb24gJiYKCXRlc3RfY21wX3JldiBtYXN0ZXIgSEVBRCAmJgoJcm0gLWYgdG91Y2gtKgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgd2l0aCB0aGUgZXhlYyBjb21tYW5kIHJ1bnMgZnJvbSB0cmVlIHJvb3QnICcKCWdpdCBjaGVja291dCBtYXN0ZXIgJiYKCW1rZGlyIHN1YmRpciAmJiAoY2Qgc3ViZGlyICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9IjEgZXhlY18+dG91Y2gtc3ViZGlyIiBcCgkJZ2l0IHJlYmFzZSAtaSBIRUFEXgoJKSAmJgoJdGVzdF9wYXRoX2lzX2ZpbGUgdG91Y2gtc3ViZGlyICYmCglybSAtZnIgc3ViZGlyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSB3aXRoIGV4ZWMgYWxsb3dzIGdpdCBjb21tYW5kcyBpbiBzdWJkaXJzJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInJtIC1yZiBzdWJkaXIiICYmCgl0ZXN0X3doZW5fZmluaXNoZWQgImdpdCByZWJhc2UgLS1hYm9ydCB8fDoiICYmCglnaXQgY2hlY2tvdXQgbWFzdGVyICYmCglta2RpciBzdWJkaXIgJiYgKGNkIHN1YmRpciAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSIxIHhfY2Rfc3ViZGlyXyYmX2dpdF9yZXYtcGFyc2VfLS1pcy1pbnNpZGUtd29yay10cmVlIiBcCgkJZ2l0IHJlYmFzZSAtaSBIRUFEXgoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgc2V0cyB3b3JrIHRyZWUgcHJvcGVybHknICcKCXRlc3Rfd2hlbl9maW5pc2hlZCAicm0gLXJmIHN1YmRpciIgJiYKCXRlc3Rfd2hlbl9maW5pc2hlZCAidGVzdF9taWdodF9mYWlsIGdpdCByZWJhc2UgLS1hYm9ydCIgJiYKCW1rZGlyIHN1YmRpciAmJgoJZ2l0IHJlYmFzZSAteCAiKGNkIHN1YmRpciAmJiBnaXQgcmV2LXBhcnNlIC0tc2hvdy10b3BsZXZlbCkiIEhFQUReIFwKCQk+YWN0dWFsICYmCgkhIGdyZXAgIi9zdWJkaXIkIiBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIHdpdGggdGhlIGV4ZWMgY29tbWFuZCBjaGVja3MgdHJlZSBjbGVhbm5lc3MnICcKCWdpdCBjaGVja291dCBtYXN0ZXIgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZW52IEZBS0VfTElORVM9ImV4ZWNfZWNob19mb29fPmZpbGUxIDEiIGdpdCByZWJhc2UgLWkgSEVBRF4gJiYKCXRlc3RfY21wX3JldiBtYXN0ZXJeIEhFQUQgJiYKCWdpdCByZXNldCAtLWhhcmQgJiYKCWdpdCByZWJhc2UgLS1jb250aW51ZQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgd2l0aCBleGVjIG9mIGluZXhpc3RlbnQgY29tbWFuZCcgJwoJZ2l0IGNoZWNrb3V0IG1hc3RlciAmJgoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgcmViYXNlIC0tYWJvcnQiICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCXRlc3RfbXVzdF9mYWlsIGVudiBGQUtFX0xJTkVTPSJleGVjX3RoaXMtY29tbWFuZC1kb2VzLW5vdC1leGlzdCAxIiBcCglnaXQgcmViYXNlIC1pIEhFQUReID5hY3R1YWwgMj4mMSAmJgoJISBncmVwICJNYXliZSBnaXQtcmViYXNlIGlzIGJyb2tlbiIgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ25vIGNoYW5nZXMgYXJlIGEgbm9wJyAnCglnaXQgY2hlY2tvdXQgYnJhbmNoMiAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1pIEYgJiYKCXRlc3QgIiQoZ2l0IHN5bWJvbGljLXJlZiAtcSBIRUFEKSIgPSAicmVmcy9oZWFkcy9icmFuY2gyIiAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2UgSSkgPSAkKGdpdCByZXYtcGFyc2UgSEVBRCkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndGVzdCB0aGUgW2JyYW5jaF0gb3B0aW9uJyAnCglnaXQgY2hlY2tvdXQgLWIgZGVhZC1lbmQgJiYKCWdpdCBybSBmaWxlNiAmJgoJZ2l0IGNvbW1pdCAtbSAic3RvcCBoZXJlIiAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1pIEYgYnJhbmNoMiAmJgoJdGVzdCAiJChnaXQgc3ltYm9saWMtcmVmIC1xIEhFQUQpIiA9ICJyZWZzL2hlYWRzL2JyYW5jaDIiICYmCgl0ZXN0ICQoZ2l0IHJldi1wYXJzZSBJKSA9ICQoZ2l0IHJldi1wYXJzZSBicmFuY2gyKSAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2UgSSkgPSAkKGdpdCByZXYtcGFyc2UgSEVBRCkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndGVzdCAtLW9udG8gPGJyYW5jaD4nICcKCWdpdCBjaGVja291dCAtYiB0ZXN0LW9udG8gYnJhbmNoMiAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1pIC0tb250byBicmFuY2gxIEYgJiYKCXRlc3QgIiQoZ2l0IHN5bWJvbGljLXJlZiAtcSBIRUFEKSIgPSAicmVmcy9oZWFkcy90ZXN0LW9udG8iICYmCgl0ZXN0ICQoZ2l0IHJldi1wYXJzZSBIRUFEXikgPSAkKGdpdCByZXYtcGFyc2UgYnJhbmNoMSkgJiYKCXRlc3QgJChnaXQgcmV2LXBhcnNlIEkpID0gJChnaXQgcmV2LXBhcnNlIGJyYW5jaDIpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSBvbiB0b3Agb2YgYSBub24tY29uZmxpY3RpbmcgY29tbWl0JyAnCglnaXQgY2hlY2tvdXQgYnJhbmNoMSAmJgoJZ2l0IHRhZyBvcmlnaW5hbC1icmFuY2gxICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCWdpdCByZWJhc2UgLWkgYnJhbmNoMiAmJgoJdGVzdCBmaWxlNiA9ICQoZ2l0IGRpZmYgLS1uYW1lLW9ubHkgb3JpZ2luYWwtYnJhbmNoMSkgJiYKCXRlc3QgIiQoZ2l0IHN5bWJvbGljLXJlZiAtcSBIRUFEKSIgPSAicmVmcy9oZWFkcy9icmFuY2gxIiAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2UgSSkgPSAkKGdpdCByZXYtcGFyc2UgYnJhbmNoMikgJiYKCXRlc3QgJChnaXQgcmV2LXBhcnNlIEkpID0gJChnaXQgcmV2LXBhcnNlIEhFQUR+MikKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmVmbG9nIGZvciB0aGUgYnJhbmNoIHNob3dzIHN0YXRlIGJlZm9yZSByZWJhc2UnICcKCXRlc3QgJChnaXQgcmV2LXBhcnNlIGJyYW5jaDFAezF9KSA9ICQoZ2l0IHJldi1wYXJzZSBvcmlnaW5hbC1icmFuY2gxKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWZsb2cgZm9yIHRoZSBicmFuY2ggc2hvd3MgY29ycmVjdCBmaW5pc2ggbWVzc2FnZScgJwoJcHJpbnRmICJyZWJhc2UgLWkgKGZpbmlzaCk6IHJlZnMvaGVhZHMvYnJhbmNoMSBvbnRvICVzXG4iIFwKCQkiJChnaXQgcmV2LXBhcnNlIGJyYW5jaDIpIiA+ZXhwZWN0ZWQgJiYKCWdpdCBsb2cgLWcgLS1wcmV0dHk9JWdzIC0xIHJlZnMvaGVhZHMvYnJhbmNoMSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZXhjaGFuZ2UgdHdvIGNvbW1pdHMnICcKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMiAxIiBnaXQgcmViYXNlIC1pIEhFQUR+MiAmJgoJdGVzdCBIID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUReIHwgc2VkIC1uZSBcJHApICYmCgl0ZXN0IEcgPSAkKGdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IHNlZCAtbmUgXCRwKQonCgpjYXQgPiBleHBlY3QgPDwgRU9GCmRpZmYgLS1naXQgYS9maWxlMSBiL2ZpbGUxCmluZGV4IGY3MGYxMGUuLmZkNzkyMzUgMTAwNjQ0Ci0tLSBhL2ZpbGUxCisrKyBiL2ZpbGUxCkBAIC0xICsxIEBACi1BCitHCkVPRgoKY2F0ID4gZXhwZWN0MiA8PCBFT0YKPDw8PDw8PCBIRUFECkQKPT09PT09PQpHCj4+Pj4+Pj4gNWQxOGU1NC4uLiBHCkVPRgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RvcCBvbiBjb25mbGljdGluZyBwaWNrJyAnCglnaXQgdGFnIG5ldy1icmFuY2gxICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZWJhc2UgLWkgbWFzdGVyICYmCgl0ZXN0ICIkKGdpdCByZXYtcGFyc2UgSEVBRH4zKSIgPSAiJChnaXQgcmV2LXBhcnNlIG1hc3RlcikiICYmCgl0ZXN0X2NtcCBleHBlY3QgLmdpdC9yZWJhc2UtbWVyZ2UvcGF0Y2ggJiYKCXRlc3RfY21wIGV4cGVjdDIgZmlsZTEgJiYKCXRlc3QgIiQoZ2l0IGRpZmYgLS1uYW1lLXN0YXR1cyB8CgkJc2VkIC1uIC1lICIvXlUvcy9eVVteYS16XSovL3AiKSIgPSBmaWxlMSAmJgoJdGVzdCA0ID0gJChncmVwIC12ICJeIyIgPCAuZ2l0L3JlYmFzZS1tZXJnZS9kb25lIHwgd2MgLWwpICYmCgl0ZXN0IDAgPSAkKGdyZXAgLWMgIl5bXiNdIiA8IC5naXQvcmViYXNlLW1lcmdlL2dpdC1yZWJhc2UtdG9kbykKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2hvdyBjb25mbGljdGVkIHBhdGNoJyAnCglHSVRfVFJBQ0U9MSBnaXQgcmViYXNlIC0tc2hvdy1jdXJyZW50LXBhdGNoID4vZGV2L251bGwgMj5zdGRlcnIgJiYKCWdyZXAgInNob3cuKlJFQkFTRV9IRUFEIiBzdGRlcnIgJiYKCSMgdGhlIG9yaWdpbmFsIHN0b3BwZWQtc2hhMSBpcyBhYmJyZXZpYXRlZAoJc3RvcHBlZF9zaGExPSIkKGdpdCByZXYtcGFyc2UgJChjYXQgIi5naXQvcmViYXNlLW1lcmdlL3N0b3BwZWQtc2hhIikpIiAmJgoJdGVzdCAiJChnaXQgcmV2LXBhcnNlIFJFQkFTRV9IRUFEKSIgPSAiJHN0b3BwZWRfc2hhMSIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnYWJvcnQnICcKCWdpdCByZWJhc2UgLS1hYm9ydCAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2UgbmV3LWJyYW5jaDEpID0gJChnaXQgcmV2LXBhcnNlIEhFQUQpICYmCgl0ZXN0ICIkKGdpdCBzeW1ib2xpYy1yZWYgLXEgSEVBRCkiID0gInJlZnMvaGVhZHMvYnJhbmNoMSIgJiYKCXRlc3RfcGF0aF9pc19taXNzaW5nIC5naXQvcmViYXNlLW1lcmdlCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2Fib3J0IHdpdGggZXJyb3Igd2hlbiBuZXcgYmFzZSBjYW5ub3QgYmUgY2hlY2tlZCBvdXQnICcKCWdpdCBybSAtLWNhY2hlZCBmaWxlMSAmJgoJZ2l0IGNvbW1pdCAtbSAicmVtb3ZlIGZpbGUgaW4gYmFzZSIgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtaSBtYXN0ZXIgPiBvdXRwdXQgMj4mMSAmJgoJdGVzdF9pMThuZ3JlcCAiVGhlIGZvbGxvd2luZyB1bnRyYWNrZWQgd29ya2luZyB0cmVlIGZpbGVzIHdvdWxkIGJlIG92ZXJ3cml0dGVuIGJ5IGNoZWNrb3V0OiIgXAoJCW91dHB1dCAmJgoJdGVzdF9pMThuZ3JlcCAiZmlsZTEiIG91dHB1dCAmJgoJdGVzdF9wYXRoX2lzX21pc3NpbmcgLmdpdC9yZWJhc2UtbWVyZ2UgJiYKCWdpdCByZXNldCAtLWhhcmQgSEVBRF4KJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmV0YWluIGF1dGhvcnNoaXAnICcKCWVjaG8gQSA+IGZpbGU3ICYmCglnaXQgYWRkIGZpbGU3ICYmCgl0ZXN0X3RpY2sgJiYKCUdJVF9BVVRIT1JfTkFNRT0iVHdlcnAgU25vZyIgZ2l0IGNvbW1pdCAtbSAiZGlmZmVyZW50IGF1dGhvciIgJiYKCWdpdCB0YWcgdHdlcnAgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJZ2l0IHJlYmFzZSAtaSAtLW9udG8gbWFzdGVyIEhFQUReICYmCglnaXQgc2hvdyBIRUFEIHwgZ3JlcCAiXkF1dGhvcjogVHdlcnAgU25vZyIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmV0YWluIGF1dGhvcnNoaXAgdy8gY29uZmxpY3RzJyAnCglvR0lUX0FVVEhPUl9OQU1FPSRHSVRfQVVUSE9SX05BTUUgJiYKCXRlc3Rfd2hlbl9maW5pc2hlZCAiR0lUX0FVVEhPUl9OQU1FPVwkb0dJVF9BVVRIT1JfTkFNRSIgJiYKCglnaXQgcmVzZXQgLS1oYXJkIHR3ZXJwICYmCgl0ZXN0X2NvbW1pdCBhIGNvbmZsaWN0IGEgY29uZmxpY3QtYSAmJgoJZ2l0IHJlc2V0IC0taGFyZCB0d2VycCAmJgoKCUdJVF9BVVRIT1JfTkFNRT1BdHRyaWJ1dGVNZSAmJgoJZXhwb3J0IEdJVF9BVVRIT1JfTkFNRSAmJgoJdGVzdF9jb21taXQgYiBjb25mbGljdCBiIGNvbmZsaWN0LWIgJiYKCUdJVF9BVVRIT1JfTkFNRT0kb0dJVF9BVVRIT1JfTkFNRSAmJgoKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtaSBjb25mbGljdC1hICYmCgllY2hvIHJlc29sdmVkID5jb25mbGljdCAmJgoJZ2l0IGFkZCBjb25mbGljdCAmJgoJZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCgl0ZXN0ICQoZ2l0IHJldi1wYXJzZSBjb25mbGljdC1hXjApID0gJChnaXQgcmV2LXBhcnNlIEhFQUReKSAmJgoJZ2l0IHNob3cgPm91dCAmJgoJZ3JlcCBBdHRyaWJ1dGVNZSBvdXQKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3F1YXNoJyAnCglnaXQgcmVzZXQgLS1oYXJkIHR3ZXJwICYmCgllY2hvIEIgPiBmaWxlNyAmJgoJdGVzdF90aWNrICYmCglHSVRfQVVUSE9SX05BTUU9Ik5pdGZvbCIgZ2l0IGNvbW1pdCAtbSAibml0Zm9sIiBmaWxlNyAmJgoJZWNobyAiKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIiAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSIxIHNxdWFzaCAyIiBFWFBFQ1RfSEVBREVSX0NPVU5UPTIgXAoJCWdpdCByZWJhc2UgLWkgLS1vbnRvIG1hc3RlciBIRUFEfjIgJiYKCXRlc3QgQiA9ICQoY2F0IGZpbGU3KSAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2UgSEVBRF4pID0gJChnaXQgcmV2LXBhcnNlIG1hc3RlcikKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmV0YWluIGF1dGhvcnNoaXAgd2hlbiBzcXVhc2hpbmcnICcKCWdpdCBzaG93IEhFQUQgfCBncmVwICJeQXV0aG9yOiBUd2VycCBTbm9nIgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICctcCBoYW5kbGVzICJubyBjaGFuZ2VzIiBncmFjZWZ1bGx5JyAnCglIRUFEPSQoZ2l0IHJldi1wYXJzZSBIRUFEKSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1pIC1wIEhFQUReICYmCglnaXQgdXBkYXRlLWluZGV4IC0tcmVmcmVzaCAmJgoJZ2l0IGRpZmYtZmlsZXMgLS1xdWlldCAmJgoJZ2l0IGRpZmYtaW5kZXggLS1xdWlldCAtLWNhY2hlZCBIRUFEIC0tICYmCgl0ZXN0ICRIRUFEID0gJChnaXQgcmV2LXBhcnNlIEhFQUQpCicKCnRlc3RfZXhwZWN0X2ZhaWx1cmUgJ2V4Y2hhbmdlIHR3byBjb21taXRzIHdpdGggLXAnICcKCWdpdCBjaGVja291dCBIICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9IjIgMSIgZ2l0IHJlYmFzZSAtaSAtcCBIRUFEfjIgJiYKCXRlc3QgSCA9ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEXiB8IHNlZCAtbmUgXCRwKSAmJgoJdGVzdCBHID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBzZWQgLW5lIFwkcCkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncHJlc2VydmUgbWVyZ2VzIHdpdGggLXAnICcKCWdpdCBjaGVja291dCAtYiB0by1iZS1wcmVzZXJ2ZWQgbWFzdGVyXiAmJgoJOiA+IHVucmVsYXRlZC1maWxlICYmCglnaXQgYWRkIHVucmVsYXRlZC1maWxlICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLW0gInVucmVsYXRlZCIgJiYKCWdpdCBjaGVja291dCAtYiBhbm90aGVyLWJyYW5jaCBtYXN0ZXIgJiYKCWVjaG8gQiA+IGZpbGUxICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLW0gSiBmaWxlMSAmJgoJdGVzdF90aWNrICYmCglnaXQgbWVyZ2UgdG8tYmUtcHJlc2VydmVkICYmCgllY2hvIEMgPiBmaWxlMSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1tIEsgZmlsZTEgJiYKCWVjaG8gRCA+IGZpbGUxICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLW0gTDEgZmlsZTEgJiYKCWdpdCBjaGVja291dCBIRUFEXiAmJgoJZWNobyAxID4gdW5yZWxhdGVkLWZpbGUgJiYKCXRlc3RfdGljayAmJgoJZ2l0IGNvbW1pdCAtbSBMMiB1bnJlbGF0ZWQtZmlsZSAmJgoJdGVzdF90aWNrICYmCglnaXQgbWVyZ2UgYW5vdGhlci1icmFuY2ggJiYKCWVjaG8gRSA+IGZpbGUxICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLW0gTSBmaWxlMSAmJgoJZ2l0IGNoZWNrb3V0IC1iIHRvLWJlLXJlYmFzZWQgJiYKCXRlc3RfdGljayAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1pIC1wIC0tb250byBicmFuY2gxIG1hc3RlciAmJgoJZ2l0IHVwZGF0ZS1pbmRleCAtLXJlZnJlc2ggJiYKCWdpdCBkaWZmLWZpbGVzIC0tcXVpZXQgJiYKCWdpdCBkaWZmLWluZGV4IC0tcXVpZXQgLS1jYWNoZWQgSEVBRCAtLSAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2UgSEVBRH42KSA9ICQoZ2l0IHJldi1wYXJzZSBicmFuY2gxKSAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2UgSEVBRH40XjIpID0gJChnaXQgcmV2LXBhcnNlIHRvLWJlLXByZXNlcnZlZCkgJiYKCXRlc3QgJChnaXQgcmV2LXBhcnNlIEhFQUReXjJeKSA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEXl5eKSAmJgoJdGVzdCAkKGdpdCBzaG93IEhFQUR+NTpmaWxlMSkgPSBCICYmCgl0ZXN0ICQoZ2l0IHNob3cgSEVBRH4zOmZpbGUxKSA9IEMgJiYKCXRlc3QgJChnaXQgc2hvdyBIRUFEOmZpbGUxKSA9IEUgJiYKCXRlc3QgJChnaXQgc2hvdyBIRUFEOnVucmVsYXRlZC1maWxlKSA9IDEKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZWRpdCBhbmNlc3RvciB3aXRoIC1wJyAnCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9IjEgMiBlZGl0IDMgNCIgZ2l0IHJlYmFzZSAtaSAtcCBIRUFEfjMgJiYKCWVjaG8gMiA+IHVucmVsYXRlZC1maWxlICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLW0gTDItbW9kaWZpZWQgLS1hbWVuZCB1bnJlbGF0ZWQtZmlsZSAmJgoJZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCglnaXQgdXBkYXRlLWluZGV4IC0tcmVmcmVzaCAmJgoJZ2l0IGRpZmYtZmlsZXMgLS1xdWlldCAmJgoJZ2l0IGRpZmYtaW5kZXggLS1xdWlldCAtLWNhY2hlZCBIRUFEIC0tICYmCgl0ZXN0ICQoZ2l0IHNob3cgSEVBRDp1bnJlbGF0ZWQtZmlsZSkgPSAyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJy0tY29udGludWUgdHJpZXMgdG8gY29tbWl0JyAnCgl0ZXN0X3RpY2sgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtaSAtLW9udG8gbmV3LWJyYW5jaDEgSEVBRF4gJiYKCWVjaG8gcmVzb2x2ZWQgPiBmaWxlMSAmJgoJZ2l0IGFkZCBmaWxlMSAmJgoJRkFLRV9DT01NSVRfTUVTU0FHRT0iY2hvdWV0dGUhIiBnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3QgJChnaXQgcmV2LXBhcnNlIEhFQUReKSA9ICQoZ2l0IHJldi1wYXJzZSBuZXctYnJhbmNoMSkgJiYKCWdpdCBzaG93IEhFQUQgfCBncmVwIGNob3VldHRlCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3ZlcmJvc2UgZmxhZyBpcyBoZWVkZWQsIGV2ZW4gYWZ0ZXIgLS1jb250aW51ZScgJwoJZ2l0IHJlc2V0IC0taGFyZCBtYXN0ZXJAezF9ICYmCgl0ZXN0X3RpY2sgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtdiAtaSAtLW9udG8gbmV3LWJyYW5jaDEgSEVBRF4gJiYKCWVjaG8gcmVzb2x2ZWQgPiBmaWxlMSAmJgoJZ2l0IGFkZCBmaWxlMSAmJgoJZ2l0IHJlYmFzZSAtLWNvbnRpbnVlID4gb3V0cHV0ICYmCglncmVwICJeIGZpbGUxIHwgMiArLSQiIG91dHB1dAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIENfTE9DQUxFX09VVFBVVCAnbXVsdGktc3F1YXNoIG9ubHkgZmlyZXMgdXAgZWRpdG9yIG9uY2UnICcKCWJhc2U9JChnaXQgcmV2LXBhcnNlIEhFQUR+NCkgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9DT01NSVRfQU1FTkQ9Ik9OQ0UiIEZBS0VfTElORVM9IjEgc3F1YXNoIDIgc3F1YXNoIDMgc3F1YXNoIDQiIFwKCQlFWFBFQ1RfSEVBREVSX0NPVU5UPTQgXAoJCWdpdCByZWJhc2UgLWkgJGJhc2UgJiYKCXRlc3QgJGJhc2UgPSAkKGdpdCByZXYtcGFyc2UgSEVBRF4pICYmCgl0ZXN0IDEgPSAkKGdpdCBzaG93IHwgZ3JlcCBPTkNFIHwgd2MgLWwpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgQ19MT0NBTEVfT1VUUFVUICdtdWx0aS1maXh1cCBkb2VzIG5vdCBmaXJlIHVwIGVkaXRvcicgJwoJZ2l0IGNoZWNrb3V0IC1iIG11bHRpLWZpeHVwIEUgJiYKCWJhc2U9JChnaXQgcmV2LXBhcnNlIEhFQUR+NCkgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9DT01NSVRfQU1FTkQ9Ik5FVkVSIiBGQUtFX0xJTkVTPSIxIGZpeHVwIDIgZml4dXAgMyBmaXh1cCA0IiBcCgkJZ2l0IHJlYmFzZSAtaSAkYmFzZSAmJgoJdGVzdCAkYmFzZSA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEXikgJiYKCXRlc3QgMCA9ICQoZ2l0IHNob3cgfCBncmVwIE5FVkVSIHwgd2MgLWwpICYmCglnaXQgY2hlY2tvdXQgdG8tYmUtcmViYXNlZCAmJgoJZ2l0IGJyYW5jaCAtRCBtdWx0aS1maXh1cAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjb21taXQgbWVzc2FnZSB1c2VkIGFmdGVyIGNvbmZsaWN0JyAnCglnaXQgY2hlY2tvdXQgLWIgY29uZmxpY3QtZml4dXAgY29uZmxpY3QtYnJhbmNoICYmCgliYXNlPSQoZ2l0IHJldi1wYXJzZSBIRUFEfjQpICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCXRlc3RfbXVzdF9mYWlsIGVudiBGQUtFX0xJTkVTPSIxIGZpeHVwIDMgZml4dXAgNCIgZ2l0IHJlYmFzZSAtaSAkYmFzZSAmJgoJZWNobyB0aHJlZSA+IGNvbmZsaWN0ICYmCglnaXQgYWRkIGNvbmZsaWN0ICYmCglGQUtFX0NPTU1JVF9BTUVORD0iT05DRSIgRVhQRUNUX0hFQURFUl9DT1VOVD0yIFwKCQlnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3QgJGJhc2UgPSAkKGdpdCByZXYtcGFyc2UgSEVBRF4pICYmCgl0ZXN0IDEgPSAkKGdpdCBzaG93IHwgZ3JlcCBPTkNFIHwgd2MgLWwpICYmCglnaXQgY2hlY2tvdXQgdG8tYmUtcmViYXNlZCAmJgoJZ2l0IGJyYW5jaCAtRCBjb25mbGljdC1maXh1cAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjb21taXQgbWVzc2FnZSByZXRhaW5lZCBhZnRlciBjb25mbGljdCcgJwoJZ2l0IGNoZWNrb3V0IC1iIGNvbmZsaWN0LXNxdWFzaCBjb25mbGljdC1icmFuY2ggJiYKCWJhc2U9JChnaXQgcmV2LXBhcnNlIEhFQUR+NCkgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZW52IEZBS0VfTElORVM9IjEgZml4dXAgMyBzcXVhc2ggNCIgZ2l0IHJlYmFzZSAtaSAkYmFzZSAmJgoJZWNobyB0aHJlZSA+IGNvbmZsaWN0ICYmCglnaXQgYWRkIGNvbmZsaWN0ICYmCglGQUtFX0NPTU1JVF9BTUVORD0iVFdJQ0UiIEVYUEVDVF9IRUFERVJfQ09VTlQ9MiBcCgkJZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCgl0ZXN0ICRiYXNlID0gJChnaXQgcmV2LXBhcnNlIEhFQUReKSAmJgoJdGVzdCAyID0gJChnaXQgc2hvdyB8IGdyZXAgVFdJQ0UgfCB3YyAtbCkgJiYKCWdpdCBjaGVja291dCB0by1iZS1yZWJhc2VkICYmCglnaXQgYnJhbmNoIC1EIGNvbmZsaWN0LXNxdWFzaAonCgpjYXQgPiBleHBlY3Qtc3F1YXNoLWZpeHVwIDw8IEVPRgpCCgpECgpPTkNFCkVPRgoKdGVzdF9leHBlY3Rfc3VjY2VzcyBDX0xPQ0FMRV9PVVRQVVQgJ3NxdWFzaCBhbmQgZml4dXAgZ2VuZXJhdGUgY29ycmVjdCBsb2cgbWVzc2FnZXMnICcKCWdpdCBjaGVja291dCAtYiBzcXVhc2gtZml4dXAgRSAmJgoJYmFzZT0kKGdpdCByZXYtcGFyc2UgSEVBRH40KSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0NPTU1JVF9BTUVORD0iT05DRSIgRkFLRV9MSU5FUz0iMSBmaXh1cCAyIHNxdWFzaCAzIGZpeHVwIDQiIFwKCQlFWFBFQ1RfSEVBREVSX0NPVU5UPTQgXAoJCWdpdCByZWJhc2UgLWkgJGJhc2UgJiYKCWdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IHNlZCAtZSAxLC9eXCQvZCA+IGFjdHVhbC1zcXVhc2gtZml4dXAgJiYKCXRlc3RfY21wIGV4cGVjdC1zcXVhc2gtZml4dXAgYWN0dWFsLXNxdWFzaC1maXh1cCAmJgoJZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEQHsyfSB8CgkJZ3JlcCAiXiMgVGhpcyBpcyBhIGNvbWJpbmF0aW9uIG9mIDMgY29tbWl0c1wuIiAgJiYKCWdpdCBjYXQtZmlsZSBjb21taXQgSEVBREB7M30gfAoJCWdyZXAgIl4jIFRoaXMgaXMgYSBjb21iaW5hdGlvbiBvZiAyIGNvbW1pdHNcLiIgICYmCglnaXQgY2hlY2tvdXQgdG8tYmUtcmViYXNlZCAmJgoJZ2l0IGJyYW5jaCAtRCBzcXVhc2gtZml4dXAKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBDX0xPQ0FMRV9PVVRQVVQgJ3NxdWFzaCBpZ25vcmVzIGNvbW1lbnRzJyAnCglnaXQgY2hlY2tvdXQgLWIgc2tpcC1jb21tZW50cyBFICYmCgliYXNlPSQoZ2l0IHJldi1wYXJzZSBIRUFEfjQpICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfQ09NTUlUX0FNRU5EPSJPTkNFIiBGQUtFX0xJTkVTPSIjIDEgIyBzcXVhc2ggMiAjIHNxdWFzaCAzICMgc3F1YXNoIDQgIyIgXAoJCUVYUEVDVF9IRUFERVJfQ09VTlQ9NCBcCgkJZ2l0IHJlYmFzZSAtaSAkYmFzZSAmJgoJdGVzdCAkYmFzZSA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEXikgJiYKCXRlc3QgMSA9ICQoZ2l0IHNob3cgfCBncmVwIE9OQ0UgfCB3YyAtbCkgJiYKCWdpdCBjaGVja291dCB0by1iZS1yZWJhc2VkICYmCglnaXQgYnJhbmNoIC1EIHNraXAtY29tbWVudHMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBDX0xPQ0FMRV9PVVRQVVQgJ3NxdWFzaCBpZ25vcmVzIGJsYW5rIGxpbmVzJyAnCglnaXQgY2hlY2tvdXQgLWIgc2tpcC1ibGFuay1saW5lcyBFICYmCgliYXNlPSQoZ2l0IHJldi1wYXJzZSBIRUFEfjQpICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfQ09NTUlUX0FNRU5EPSJPTkNFIiBGQUtFX0xJTkVTPSI+IDEgPiBzcXVhc2ggMiA+IHNxdWFzaCAzID4gc3F1YXNoIDQgPiIgXAoJCUVYUEVDVF9IRUFERVJfQ09VTlQ9NCBcCgkJZ2l0IHJlYmFzZSAtaSAkYmFzZSAmJgoJdGVzdCAkYmFzZSA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEXikgJiYKCXRlc3QgMSA9ICQoZ2l0IHNob3cgfCBncmVwIE9OQ0UgfCB3YyAtbCkgJiYKCWdpdCBjaGVja291dCB0by1iZS1yZWJhc2VkICYmCglnaXQgYnJhbmNoIC1EIHNraXAtYmxhbmstbGluZXMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3F1YXNoIHdvcmtzIGFzIGV4cGVjdGVkJyAnCglnaXQgY2hlY2tvdXQgLWIgc3F1YXNoLXdvcmtzIG5vLWNvbmZsaWN0LWJyYW5jaCAmJgoJb25lPSQoZ2l0IHJldi1wYXJzZSBIRUFEfjMpICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9IjEgcyAzIDIiIEVYUEVDVF9IRUFERVJfQ09VTlQ9MiBcCgkJZ2l0IHJlYmFzZSAtaSBIRUFEfjMgJiYKCXRlc3QgJG9uZSA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEfjIpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2ludGVycnVwdGVkIHNxdWFzaCB3b3JrcyBhcyBleHBlY3RlZCcgJwoJZ2l0IGNoZWNrb3V0IC1iIGludGVycnVwdGVkLXNxdWFzaCBjb25mbGljdC1icmFuY2ggJiYKCW9uZT0kKGdpdCByZXYtcGFyc2UgSEVBRH4zKSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCgl0ZXN0X211c3RfZmFpbCBlbnYgRkFLRV9MSU5FUz0iMSBzcXVhc2ggMyAyIiBnaXQgcmViYXNlIC1pIEhFQUR+MyAmJgoJdGVzdF93cml0ZV9saW5lcyBvbmUgdHdvIGZvdXIgPiBjb25mbGljdCAmJgoJZ2l0IGFkZCBjb25mbGljdCAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCgllY2hvIHJlc29sdmVkID4gY29uZmxpY3QgJiYKCWdpdCBhZGQgY29uZmxpY3QgJiYKCWdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJdGVzdCAkb25lID0gJChnaXQgcmV2LXBhcnNlIEhFQUR+MikKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnaW50ZXJydXB0ZWQgc3F1YXNoIHdvcmtzIGFzIGV4cGVjdGVkIChjYXNlIDIpJyAnCglnaXQgY2hlY2tvdXQgLWIgaW50ZXJydXB0ZWQtc3F1YXNoMiBjb25mbGljdC1icmFuY2ggJiYKCW9uZT0kKGdpdCByZXYtcGFyc2UgSEVBRH4zKSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCgl0ZXN0X211c3RfZmFpbCBlbnYgRkFLRV9MSU5FUz0iMyBzcXVhc2ggMSAyIiBnaXQgcmViYXNlIC1pIEhFQUR+MyAmJgoJdGVzdF93cml0ZV9saW5lcyBvbmUgZm91ciA+IGNvbmZsaWN0ICYmCglnaXQgYWRkIGNvbmZsaWN0ICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3Rfd3JpdGVfbGluZXMgb25lIHR3byBmb3VyID4gY29uZmxpY3QgJiYKCWdpdCBhZGQgY29uZmxpY3QgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJZWNobyByZXNvbHZlZCA+IGNvbmZsaWN0ICYmCglnaXQgYWRkIGNvbmZsaWN0ICYmCglnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3QgJG9uZSA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEfjIpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJy0tY29udGludWUgdHJpZXMgdG8gY29tbWl0LCBldmVuIGZvciAiZWRpdCInICcKCWVjaG8gdW5yZWxhdGVkID4gZmlsZTcgJiYKCWdpdCBhZGQgZmlsZTcgJiYKCXRlc3RfdGljayAmJgoJZ2l0IGNvbW1pdCAtbSAidW5yZWxhdGVkIGNoYW5nZSIgJiYKCXBhcmVudD0kKGdpdCByZXYtcGFyc2UgSEVBRF4pICYmCgl0ZXN0X3RpY2sgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iZWRpdCAxIiBnaXQgcmViYXNlIC1pIEhFQUReICYmCgllY2hvIGVkaXRlZCA+IGZpbGU3ICYmCglnaXQgYWRkIGZpbGU3ICYmCglGQUtFX0NPTU1JVF9NRVNTQUdFPSJjaG91ZXR0ZSEiIGdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJdGVzdCBlZGl0ZWQgPSAkKGdpdCBzaG93IEhFQUQ6ZmlsZTcpICYmCglnaXQgc2hvdyBIRUFEIHwgZ3JlcCBjaG91ZXR0ZSAmJgoJdGVzdCAkcGFyZW50ID0gJChnaXQgcmV2LXBhcnNlIEhFQUReKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhYm9ydGVkIC0tY29udGludWUgZG9lcyBub3Qgc3F1YXNoIGNvbW1pdHMgYWZ0ZXIgImVkaXQiJyAnCglvbGQ9JChnaXQgcmV2LXBhcnNlIEhFQUQpICYmCgl0ZXN0X3RpY2sgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iZWRpdCAxIiBnaXQgcmViYXNlIC1pIEhFQUReICYmCgllY2hvICJlZGl0ZWQgYWdhaW4iID4gZmlsZTcgJiYKCWdpdCBhZGQgZmlsZTcgJiYKCXRlc3RfbXVzdF9mYWlsIGVudiBGQUtFX0NPTU1JVF9NRVNTQUdFPSIgIiBnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3QgJG9sZCA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEKSAmJgoJZ2l0IHJlYmFzZSAtLWFib3J0CicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2F1dG8tYW1lbmQgb25seSBlZGl0ZWQgY29tbWl0cyBhZnRlciAiZWRpdCInICcKCXRlc3RfdGljayAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSJlZGl0IDEiIGdpdCByZWJhc2UgLWkgSEVBRF4gJiYKCWVjaG8gImVkaXRlZCBhZ2FpbiIgPiBmaWxlNyAmJgoJZ2l0IGFkZCBmaWxlNyAmJgoJRkFLRV9DT01NSVRfTUVTU0FHRT0iZWRpdGVkIGZpbGU3IGFnYWluIiBnaXQgY29tbWl0ICYmCgllY2hvICJhbmQgYWdhaW4iID4gZmlsZTcgJiYKCWdpdCBhZGQgZmlsZTcgJiYKCXRlc3RfdGljayAmJgoJdGVzdF9tdXN0X2ZhaWwgZW52IEZBS0VfQ09NTUlUX01FU1NBR0U9ImFuZCBhZ2FpbiIgZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCglnaXQgcmViYXNlIC0tYWJvcnQKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnY2xlYW4gZXJyb3IgYWZ0ZXIgZmFpbGVkICJleGVjIicgJwoJdGVzdF90aWNrICYmCgl0ZXN0X3doZW5fZmluaXNoZWQgImdpdCByZWJhc2UgLS1hYm9ydCB8fCA6IiAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCgl0ZXN0X211c3RfZmFpbCBlbnYgRkFLRV9MSU5FUz0iMSBleGVjX2ZhbHNlIiBnaXQgcmViYXNlIC1pIEhFQUReICYmCgllY2hvICJlZGl0ZWQgYWdhaW4iID4gZmlsZTcgJiYKCWdpdCBhZGQgZmlsZTcgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZWJhc2UgLS1jb250aW51ZSAyPmVycm9yICYmCgl0ZXN0X2kxOG5ncmVwICJ5b3UgaGF2ZSBzdGFnZWQgY2hhbmdlcyBpbiB5b3VyIHdvcmtpbmcgdHJlZSIgZXJyb3IKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIGEgZGV0YWNoZWQgSEVBRCcgJwoJZ3JhbmRwYXJlbnQ9JChnaXQgcmV2LXBhcnNlIEhFQUR+MikgJiYKCWdpdCBjaGVja291dCAkKGdpdCByZXYtcGFyc2UgSEVBRCkgJiYKCXRlc3RfdGljayAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSIyIDEiIGdpdCByZWJhc2UgLWkgSEVBRH4yICYmCgl0ZXN0ICRncmFuZHBhcmVudCA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEfjIpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSBhIGNvbW1pdCB2aW9sYXRpbmcgcHJlLWNvbW1pdCcgJwoKCW1rZGlyIC1wIC5naXQvaG9va3MgJiYKCXdyaXRlX3NjcmlwdCAuZ2l0L2hvb2tzL3ByZS1jb21taXQgPDwtXEVPRiAmJgoJdGVzdCAteiAiJChnaXQgZGlmZiAtLWNhY2hlZCAtLWNoZWNrKSIKCUVPRgoJZWNobyAibW9uZGUhICIgPj4gZmlsZTEgJiYKCXRlc3RfdGljayAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IGNvbW1pdCAtbSBkb2VzbnQtdmVyaWZ5IGZpbGUxICYmCglnaXQgY29tbWl0IC1tIGRvZXNudC12ZXJpZnkgLS1uby12ZXJpZnkgZmlsZTEgJiYKCXRlc3RfdGljayAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPTIgZ2l0IHJlYmFzZSAtaSBIRUFEfjIKCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSB3aXRoIGEgZmlsZSBuYW1lZCBIRUFEIGluIHdvcmt0cmVlJyAnCgoJcm0gLWZyIC5naXQvaG9va3MgJiYKCWdpdCByZXNldCAtLWhhcmQgJiYKCWdpdCBjaGVja291dCAtYiBicmFuY2gzIEEgJiYKCgkoCgkJR0lUX0FVVEhPUl9OQU1FPSJTcXVhc2hlZCBBd2F5IiAmJgoJCWV4cG9ydCBHSVRfQVVUSE9SX05BTUUgJiYKCQk+SEVBRCAmJgoJCWdpdCBhZGQgSEVBRCAmJgoJCWdpdCBjb21taXQgLW0gIkFkZCBoZWFkIiAmJgoJCT5CT0RZICYmCgkJZ2l0IGFkZCBCT0RZICYmCgkJZ2l0IGNvbW1pdCAtbSAiQWRkIGJvZHkiCgkpICYmCgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSIxIHNxdWFzaCAyIiBnaXQgcmViYXNlIC1pIHRvLWJlLXJlYmFzZWQgJiYKCXRlc3QgIiQoZ2l0IHNob3cgLXMgLS1wcmV0dHk9Zm9ybWF0OiVhbikiID0gIlNxdWFzaGVkIEF3YXkiCgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdkbyAibm9vcCIgd2hlbiB0aGVyZSBpcyBub3RoaW5nIHRvIGNoZXJyeS1waWNrJyAnCgoJZ2l0IGNoZWNrb3V0IC1iIGJyYW5jaDQgSEVBRCAmJgoJR0lUX0VESVRPUj06IGdpdCBjb21taXQgLS1hbWVuZCBcCgkJLS1hdXRob3I9IlNvbWVib2R5IGVsc2UgPHNvbWVib2R5QGVsc2UuY29tPiIgJiYKCXRlc3QgJChnaXQgcmV2LXBhcnNlIGJyYW5jaDMpICE9ICQoZ2l0IHJldi1wYXJzZSBicmFuY2g0KSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1pIGJyYW5jaDMgJiYKCXRlc3QgJChnaXQgcmV2LXBhcnNlIGJyYW5jaDMpID0gJChnaXQgcmV2LXBhcnNlIGJyYW5jaDQpCgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgcmViYXNlIHNldHVwJyAnCglnaXQgY2hlY2tvdXQgQSAmJgoJbWtkaXIgc3ViICYmCgkoCgkJY2Qgc3ViICYmIGdpdCBpbml0ICYmID5lbGlmICYmCgkJZ2l0IGFkZCBlbGlmICYmIGdpdCBjb21taXQgLW0gInN1Ym1vZHVsZSBpbml0aWFsIgoJKSAmJgoJZWNobyAxID5maWxlMSAmJgoJZ2l0IGFkZCBmaWxlMSBzdWIgJiYKCXRlc3RfdGljayAmJgoJZ2l0IGNvbW1pdCAtbSAiT25lIiAmJgoJZWNobyAyID5maWxlMSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1hIC1tICJUd28iICYmCgkoCgkJY2Qgc3ViICYmIGVjaG8gMyA+ZWxpZiAmJgoJCWdpdCBjb21taXQgLWEgLW0gInN1Ym1vZHVsZSBzZWNvbmQiCgkpICYmCgl0ZXN0X3RpY2sgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJZ2l0IGNvbW1pdCAtYSAtbSAiVGhyZWUgY2hhbmdlcyBzdWJtb2R1bGUiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSByZWJhc2UgLWknICcKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMSBzcXVhc2ggMiAzIiBnaXQgcmViYXNlIC1pIEEKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIGNvbmZsaWN0IHNldHVwJyAnCglnaXQgdGFnIHN1Ym1vZHVsZS1iYXNlICYmCglnaXQgY2hlY2tvdXQgSEVBRF4gJiYKCSgKCQljZCBzdWIgJiYgZ2l0IGNoZWNrb3V0IEhFQUReICYmIGVjaG8gNCA+ZWxpZiAmJgoJCWdpdCBhZGQgZWxpZiAmJiBnaXQgY29tbWl0IC1tICJzdWJtb2R1bGUgY29uZmxpY3QiCgkpICYmCglnaXQgYWRkIHN1YiAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1tICJDb25mbGljdCBpbiBzdWJtb2R1bGUiICYmCglnaXQgdGFnIHN1Ym1vZHVsZS10b3BpYwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgY29udGludWUgd2l0aCBvbmx5IHN1Ym1vZHVsZSBzdGFnZWQnICcKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtaSBzdWJtb2R1bGUtYmFzZSAmJgoJZ2l0IGFkZCBzdWIgJiYKCWdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2Ugc3VibW9kdWxlLWJhc2UpICE9ICQoZ2l0IHJldi1wYXJzZSBIRUFEKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgY29udGludWUgd2l0aCB1bnN0YWdlZCBzdWJtb2R1bGUnICcKCWdpdCBjaGVja291dCBzdWJtb2R1bGUtdG9waWMgJiYKCWdpdCByZXNldCAtLWhhcmQgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtaSBzdWJtb2R1bGUtYmFzZSAmJgoJZ2l0IHJlc2V0ICYmCglnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3QgJChnaXQgcmV2LXBhcnNlIHN1Ym1vZHVsZS1iYXNlKSA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhdm9pZCB1bm5lY2Vzc2FyeSByZXNldCcgJwoJZ2l0IGNoZWNrb3V0IG1hc3RlciAmJgoJZ2l0IHJlc2V0IC0taGFyZCAmJgoJdGVzdC10b29sIGNobXRpbWUgPTEyMzQ1Njc4OSBmaWxlMyAmJgoJZ2l0IHVwZGF0ZS1pbmRleCAtLXJlZnJlc2ggJiYKCUhFQUQ9JChnaXQgcmV2LXBhcnNlIEhFQUQpICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCWdpdCByZWJhc2UgLWkgSEVBRH40ICYmCgl0ZXN0ICRIRUFEID0gJChnaXQgcmV2LXBhcnNlIEhFQUQpICYmCglNVElNRT0kKHRlc3QtdG9vbCBjaG10aW1lIC0tZ2V0IGZpbGUzKSAmJgoJdGVzdCAxMjM0NTY3ODkgPSAkTVRJTUUKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmV3b3JkJyAnCglnaXQgY2hlY2tvdXQgLWIgcmV3b3JkLWJyYW5jaCBtYXN0ZXIgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMSAyIDMgcmV3b3JkIDQiIEZBS0VfQ09NTUlUX01FU1NBR0U9IkUgY2hhbmdlZCIgZ2l0IHJlYmFzZSAtaSBBICYmCglnaXQgc2hvdyBIRUFEIHwgZ3JlcCAiRSBjaGFuZ2VkIiAmJgoJdGVzdCAkKGdpdCByZXYtcGFyc2UgbWFzdGVyKSAhPSAkKGdpdCByZXYtcGFyc2UgSEVBRCkgJiYKCXRlc3QgJChnaXQgcmV2LXBhcnNlIG1hc3Rlcl4pID0gJChnaXQgcmV2LXBhcnNlIEhFQUReKSAmJgoJRkFLRV9MSU5FUz0iMSAyIHJld29yZCAzIDQiIEZBS0VfQ09NTUlUX01FU1NBR0U9IkQgY2hhbmdlZCIgZ2l0IHJlYmFzZSAtaSBBICYmCglnaXQgc2hvdyBIRUFEXiB8IGdyZXAgIkQgY2hhbmdlZCIgJiYKCUZBS0VfTElORVM9InJld29yZCAxIDIgMyA0IiBGQUtFX0NPTU1JVF9NRVNTQUdFPSJCIGNoYW5nZWQiIGdpdCByZWJhc2UgLWkgQSAmJgoJZ2l0IHNob3cgSEVBRH4zIHwgZ3JlcCAiQiBjaGFuZ2VkIiAmJgoJRkFLRV9MSU5FUz0iMSByIDIgcGljayAzIHAgNCIgRkFLRV9DT01NSVRfTUVTU0FHRT0iQyBjaGFuZ2VkIiBnaXQgcmViYXNlIC1pIEEgJiYKCWdpdCBzaG93IEhFQUR+MiB8IGdyZXAgIkMgY2hhbmdlZCIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIGNhbiBjb3B5IG5vdGVzJyAnCglnaXQgY29uZmlnIG5vdGVzLnJld3JpdGUucmViYXNlIHRydWUgJiYKCWdpdCBjb25maWcgbm90ZXMucmV3cml0ZVJlZiAicmVmcy9ub3Rlcy8qIiAmJgoJdGVzdF9jb21taXQgbjEgJiYKCXRlc3RfY29tbWl0IG4yICYmCgl0ZXN0X2NvbW1pdCBuMyAmJgoJZ2l0IG5vdGVzIGFkZCAtbSJhIG5vdGUiIG4zICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCWdpdCByZWJhc2UgLWkgLS1vbnRvIG4xIG4yICYmCgl0ZXN0ICJhIG5vdGUiID0gIiQoZ2l0IG5vdGVzIHNob3cgSEVBRCkiCicKCmNhdCA+ZXhwZWN0IDw8RU9GCmFuIGVhcmxpZXIgbm90ZQoKYSBub3RlCkVPRgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIGNhbiBjb3B5IG5vdGVzIG92ZXIgYSBmaXh1cCcgJwoJZ2l0IHJlc2V0IC0taGFyZCBuMyAmJgoJZ2l0IG5vdGVzIGFkZCAtbSJhbiBlYXJsaWVyIG5vdGUiIG4yICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUdJVF9OT1RFU19SRVdSSVRFX01PREU9Y29uY2F0ZW5hdGUgRkFLRV9MSU5FUz0iMSBmIDIiIGdpdCByZWJhc2UgLWkgbjEgJiYKCWdpdCBub3RlcyBzaG93ID4gb3V0cHV0ICYmCgl0ZXN0X2NtcCBleHBlY3Qgb3V0cHV0CicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSB3aGlsZSBkZXRhY2hpbmcgSEVBRCcgJwoJZ2l0IHN5bWJvbGljLXJlZiBIRUFEICYmCglncmFuZHBhcmVudD0kKGdpdCByZXYtcGFyc2UgSEVBRH4yKSAmJgoJdGVzdF90aWNrICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9IjIgMSIgZ2l0IHJlYmFzZSAtaSBIRUFEfjIgSEVBRF4wICYmCgl0ZXN0ICRncmFuZHBhcmVudCA9ICQoZ2l0IHJldi1wYXJzZSBIRUFEfjIpICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgc3ltYm9saWMtcmVmIEhFQUQKJwoKdGVzdF90aWNrICMgRW5zdXJlIHRoYXQgdGhlIHJlYmFzZWQgY29tbWl0cyBnZXQgYSBkaWZmZXJlbnQgdGltZXN0YW1wLgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdhbHdheXMgY2hlcnJ5LXBpY2sgd2l0aCAtLW5vLWZmJyAnCglnaXQgY2hlY2tvdXQgbm8tZmYtYnJhbmNoICYmCglnaXQgdGFnIG9yaWdpbmFsLW5vLWZmLWJyYW5jaCAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1pIC0tbm8tZmYgQSAmJgoJZm9yIHAgaW4gMCAxIDIKCWRvCgkJdGVzdCAhICQoZ2l0IHJldi1wYXJzZSBIRUFEfiRwKSA9ICQoZ2l0IHJldi1wYXJzZSBvcmlnaW5hbC1uby1mZi1icmFuY2h+JHApICYmCgkJZ2l0IGRpZmYgSEVBRH4kcCBvcmlnaW5hbC1uby1mZi1icmFuY2h+JHAgPiBvdXQgJiYKCQl0ZXN0X211c3RfYmVfZW1wdHkgb3V0Cglkb25lICYmCgl0ZXN0ICQoZ2l0IHJldi1wYXJzZSBIRUFEfjMpID0gJChnaXQgcmV2LXBhcnNlIG9yaWdpbmFsLW5vLWZmLWJyYW5jaH4zKSAmJgoJZ2l0IGRpZmYgSEVBRH4zIG9yaWdpbmFsLW5vLWZmLWJyYW5jaH4zID4gb3V0ICYmCgl0ZXN0X211c3RfYmVfZW1wdHkgb3V0CicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3NldCB1cCBjb21taXRzIHdpdGggZnVubnkgbWVzc2FnZXMnICcKCWdpdCBjaGVja291dCAtYiBmdW5ueSBBICYmCgllY2hvID4+ZmlsZTEgJiYKCXRlc3RfdGljayAmJgoJZ2l0IGNvbW1pdCAtYSAtbSAiZW5kIHdpdGggc2xhc2hcXCIgJiYKCWVjaG8gPj5maWxlMSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1hIC1tICJzb21ldGhpbmcgKFwwMDApIHRoYXQgbG9va3MgbGlrZSBvY3RhbCIgJiYKCWVjaG8gPj5maWxlMSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1hIC1tICJzb21ldGhpbmcgKFxuKSB0aGF0IGxvb2tzIGxpa2UgYSBuZXdsaW5lIiAmJgoJZWNobyA+PmZpbGUxICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLWEgLW0gImFub3RoZXIgY29tbWl0IgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UtaSBoaXN0b3J5IHdpdGggZnVubnkgbWVzc2FnZXMnICcKCWdpdCByZXYtbGlzdCBBLi5mdW5ueSA+ZXhwZWN0ICYmCgl0ZXN0X3RpY2sgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMSAyIDMgNCIgZ2l0IHJlYmFzZSAtaSBBICYmCglnaXQgcmV2LWxpc3QgQS4uID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncHJlcGFyZSBmb3IgcmViYXNlIC1pIC0tZXhlYycgJwoJZ2l0IGNoZWNrb3V0IG1hc3RlciAmJgoJZ2l0IGNoZWNrb3V0IC1iIGV4ZWN1dGUgJiYKCXRlc3RfY29tbWl0IG9uZV9leGVjIG1haW4udHh0IG9uZV9leGVjICYmCgl0ZXN0X2NvbW1pdCB0d29fZXhlYyBtYWluLnR4dCB0d29fZXhlYyAmJgoJdGVzdF9jb21taXQgdGhyZWVfZXhlYyBtYWluLnR4dCB0aHJlZV9leGVjCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3J1bm5pbmcgImdpdCByZWJhc2UgLWkgLS1leGVjIGdpdCBzaG93IEhFQUQiJyAnCglzZXRfZmFrZV9lZGl0b3IgJiYKCWdpdCByZWJhc2UgLWkgLS1leGVjICJnaXQgc2hvdyBIRUFEIiBIRUFEfjIgPmFjdHVhbCAmJgoJKAoJCUZBS0VfTElORVM9IjEgZXhlY19naXRfc2hvd19IRUFEIDIgZXhlY19naXRfc2hvd19IRUFEIiAmJgoJCWV4cG9ydCBGQUtFX0xJTkVTICYmCgkJZ2l0IHJlYmFzZSAtaSBIRUFEfjIgPmV4cGVjdAoJKSAmJgoJc2VkIC1lICIxLDlkIiBleHBlY3QgPmV4cGVjdGVkICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncnVubmluZyAiZ2l0IHJlYmFzZSAtLWV4ZWMgZ2l0IHNob3cgSEVBRCAtaSInICcKCWdpdCByZXNldCAtLWhhcmQgZXhlY3V0ZSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC0tZXhlYyAiZ2l0IHNob3cgSEVBRCIgLWkgSEVBRH4yID5hY3R1YWwgJiYKCSgKCQlGQUtFX0xJTkVTPSIxIGV4ZWNfZ2l0X3Nob3dfSEVBRCAyIGV4ZWNfZ2l0X3Nob3dfSEVBRCIgJiYKCQlleHBvcnQgRkFLRV9MSU5FUyAmJgoJCWdpdCByZWJhc2UgLWkgSEVBRH4yID5leHBlY3QKCSkgJiYKCXNlZCAtZSAiMSw5ZCIgZXhwZWN0ID5leHBlY3RlZCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3J1bm5pbmcgImdpdCByZWJhc2UgLWl4IGdpdCBzaG93IEhFQUQiJyAnCglnaXQgcmVzZXQgLS1oYXJkIGV4ZWN1dGUgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJZ2l0IHJlYmFzZSAtaXggImdpdCBzaG93IEhFQUQiIEhFQUR+MiA+YWN0dWFsICYmCgkoCgkJRkFLRV9MSU5FUz0iMSBleGVjX2dpdF9zaG93X0hFQUQgMiBleGVjX2dpdF9zaG93X0hFQUQiICYmCgkJZXhwb3J0IEZBS0VfTElORVMgJiYKCQlnaXQgcmViYXNlIC1pIEhFQUR+MiA+ZXhwZWN0CgkpICYmCglzZWQgLWUgIjEsOWQiIGV4cGVjdCA+ZXhwZWN0ZWQgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1peCB3aXRoIHNldmVyYWwgPENNRD4nICcKCWdpdCByZXNldCAtLWhhcmQgZXhlY3V0ZSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1peCAiZ2l0IHNob3cgSEVBRDsgcHdkIiBIRUFEfjIgPmFjdHVhbCAmJgoJKAoJCUZBS0VfTElORVM9IjEgZXhlY19naXRfc2hvd19IRUFEO19wd2QgMiBleGVjX2dpdF9zaG93X0hFQUQ7X3B3ZCIgJiYKCQlleHBvcnQgRkFLRV9MSU5FUyAmJgoJCWdpdCByZWJhc2UgLWkgSEVBRH4yID5leHBlY3QKCSkgJiYKCXNlZCAtZSAiMSw5ZCIgZXhwZWN0ID5leHBlY3RlZCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaXggd2l0aCBzZXZlcmFsIGluc3RhbmNlcyBvZiAtLWV4ZWMnICcKCWdpdCByZXNldCAtLWhhcmQgZXhlY3V0ZSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglnaXQgcmViYXNlIC1pIC0tZXhlYyAiZ2l0IHNob3cgSEVBRCIgLS1leGVjICJwd2QiIEhFQUR+MiA+YWN0dWFsICYmCgkoCgkJRkFLRV9MSU5FUz0iMSBleGVjX2dpdF9zaG93X0hFQUQgZXhlY19wd2QgMgoJCQkJZXhlY19naXRfc2hvd19IRUFEIGV4ZWNfcHdkIiAmJgoJCWV4cG9ydCBGQUtFX0xJTkVTICYmCgkJZ2l0IHJlYmFzZSAtaSBIRUFEfjIgPmV4cGVjdAoJKSAmJgoJc2VkIC1lICIxLDExZCIgZXhwZWN0ID5leHBlY3RlZCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgQ19MT0NBTEVfT1VUUFVUICdyZWJhc2UgLWl4IHdpdGggLS1hdXRvc3F1YXNoJyAnCglnaXQgcmVzZXQgLS1oYXJkIGV4ZWN1dGUgJiYKCWdpdCBjaGVja291dCAtYiBhdXRvc3F1YXNoICYmCgllY2hvIHNlY29uZCA+c2Vjb25kLnR4dCAmJgoJZ2l0IGFkZCBzZWNvbmQudHh0ICYmCglnaXQgY29tbWl0IC1tICJmaXh1cCEgdHdvX2V4ZWMiICYmCgllY2hvIGJpcyA+YmlzLnR4dCAmJgoJZ2l0IGFkZCBiaXMudHh0ICYmCglnaXQgY29tbWl0IC1tICJmaXh1cCEgdHdvX2V4ZWMiICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCSgKCQlnaXQgY2hlY2tvdXQgLWIgYXV0b3NxdWFzaF9hY3R1YWwgJiYKCQlnaXQgcmViYXNlIC1pIC0tZXhlYyAiZ2l0IHNob3cgSEVBRCIgLS1hdXRvc3F1YXNoIEhFQUR+NCA+YWN0dWFsCgkpICYmCglnaXQgY2hlY2tvdXQgYXV0b3NxdWFzaCAmJgoJKAoJCWdpdCBjaGVja291dCAtYiBhdXRvc3F1YXNoX2V4cGVjdGVkICYmCgkJRkFLRV9MSU5FUz0iMSBmaXh1cCAzIGZpeHVwIDQgZXhlY19naXRfc2hvd19IRUFEIDIgZXhlY19naXRfc2hvd19IRUFEIiAmJgoJCWV4cG9ydCBGQUtFX0xJTkVTICYmCgkJZ2l0IHJlYmFzZSAtaSBIRUFEfjQgPmV4cGVjdAoJKSAmJgoJc2VkIC1lICIxLDEzZCIgZXhwZWN0ID5leHBlY3RlZCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtLWV4ZWMgd29ya3Mgd2l0aG91dCAtaSAnICcKCWdpdCByZXNldCAtLWhhcmQgZXhlY3V0ZSAmJgoJcm0gLXJmIGV4ZWNfb3V0cHV0ICYmCglFRElUT1I9ImVjaG8gPmludm9rZWRfZWRpdG9yIiBnaXQgcmViYXNlIC0tZXhlYyAiZWNobyBhIGxpbmUgPj5leGVjX291dHB1dCIgIEhFQUR+MiAyPmFjdHVhbCAmJgoJdGVzdF9pMThuZ3JlcCAgIlN1Y2Nlc3NmdWxseSByZWJhc2VkIGFuZCB1cGRhdGVkIiBhY3R1YWwgJiYKCXRlc3RfbGluZV9jb3VudCA9IDIgZXhlY19vdXRwdXQgJiYKCXRlc3RfcGF0aF9pc19taXNzaW5nIGludm9rZWRfZWRpdG9yCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSAtLWV4ZWMgd2l0aG91dCA8Q01EPicgJwoJZ2l0IHJlc2V0IC0taGFyZCBleGVjdXRlICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZWJhc2UgLWkgLS1leGVjIDI+YWN0dWFsICYmCgl0ZXN0X2kxOG5ncmVwICJyZXF1aXJlcyBhIHZhbHVlIiBhY3R1YWwgJiYKCWdpdCBjaGVja291dCBtYXN0ZXIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIC0tcm9vdCByZS1vcmRlciBhbmQgZHJvcCBjb21taXRzJyAnCglnaXQgY2hlY2tvdXQgRSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSIzIDEgMiA1IiBnaXQgcmViYXNlIC1pIC0tcm9vdCAmJgoJdGVzdCBFID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBzZWQgLW5lIFwkcCkgJiYKCXRlc3QgQiA9ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEXiB8IHNlZCAtbmUgXCRwKSAmJgoJdGVzdCBBID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUReXiB8IHNlZCAtbmUgXCRwKSAmJgoJdGVzdCBDID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUReXl4gfCBzZWQgLW5lIFwkcCkgJiYKCXRlc3QgMCA9ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEXl5eIHwgZ3JlcCAtYyBecGFyZW50XCApCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSAtLXJvb3QgcmV0YWluIHJvb3QgY29tbWl0IGF1dGhvciBhbmQgbWVzc2FnZScgJwoJZ2l0IGNoZWNrb3V0IEEgJiYKCWVjaG8gQiA+ZmlsZTcgJiYKCWdpdCBhZGQgZmlsZTcgJiYKCUdJVF9BVVRIT1JfTkFNRT0iVHdlcnAgU25vZyIgZ2l0IGNvbW1pdCAtbSAiZGlmZmVyZW50IGF1dGhvciIgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMiIgZ2l0IHJlYmFzZSAtaSAtLXJvb3QgJiYKCWdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IGdyZXAgLXEgIl5hdXRob3IgVHdlcnAgU25vZyIgJiYKCWdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IGdyZXAgLXEgIl5kaWZmZXJlbnQgYXV0aG9yJCIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIC0tcm9vdCB0ZW1wb3Jhcnkgc2VudGluZWwgY29tbWl0JyAnCglnaXQgY2hlY2tvdXQgQiAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCgl0ZXN0X211c3RfZmFpbCBlbnYgRkFLRV9MSU5FUz0iMiIgZ2l0IHJlYmFzZSAtaSAtLXJvb3QgJiYKCWdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IGdyZXAgIl50cmVlIDRiODI1ZGM2NDJjYiIgJiYKCWdpdCByZWJhc2UgLS1hYm9ydAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgLS1yb290IGZpeHVwIHJvb3QgY29tbWl0JyAnCglnaXQgY2hlY2tvdXQgQiAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSIxIGZpeHVwIDIiIGdpdCByZWJhc2UgLWkgLS1yb290ICYmCgl0ZXN0IEEgPSAkKGdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IHNlZCAtbmUgXCRwKSAmJgoJdGVzdCBCID0gJChnaXQgc2hvdyBIRUFEOmZpbGUxKSAmJgoJdGVzdCAwID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBncmVwIC1jIF5wYXJlbnRcICkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIC0tcm9vdCByZXdvcmQgcm9vdCBjb21taXQnICcKCXRlc3Rfd2hlbl9maW5pc2hlZCAidGVzdF9taWdodF9mYWlsIGdpdCByZWJhc2UgLS1hYm9ydCIgJiYKCWdpdCBjaGVja291dCAtYiByZXdvcmQtcm9vdC1icmFuY2ggbWFzdGVyICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9InJld29yZCAxIDIiIEZBS0VfQ09NTUlUX01FU1NBR0U9IkEgY2hhbmdlZCIgXAoJZ2l0IHJlYmFzZSAtaSAtLXJvb3QgJiYKCWdpdCBzaG93IEhFQUReIHwgZ3JlcCAiQSBjaGFuZ2VkIiAmJgoJdGVzdCAteiAiJChnaXQgc2hvdyAtcyAtLWZvcm1hdD0lcCBIRUFEXikiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSAtLXJvb3Qgd2hlbiByb290IGhhcyB1bnRyYWNrZWQgZmlsZSBjb25maWxjdCcgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJyZXNldF9yZWJhc2UiICYmCglnaXQgY2hlY2tvdXQgLWIgZmFpbGluZy1yb290LXBpY2sgQSAmJgoJZWNobyB4ID5maWxlMiAmJgoJZ2l0IHJtIGZpbGUxICYmCglnaXQgY29tbWl0IC1tICJyZW1vdmUgZmlsZSAxIGFkZCBmaWxlIDIiICYmCgllY2hvIHogPmZpbGUxICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCXRlc3RfbXVzdF9mYWlsIGVudiBGQUtFX0xJTkVTPSIxIDIiIGdpdCByZWJhc2UgLWkgLS1yb290ICYmCglybSBmaWxlMSAmJgoJZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCgl0ZXN0ICIkKGdpdCBsb2cgLTEgLS1mb3JtYXQ9JUIpIiA9ICJyZW1vdmUgZmlsZSAxIGFkZCBmaWxlIDIiICYmCgl0ZXN0ICIkKGdpdCByZXYtbGlzdCAtLWNvdW50IEhFQUQpIiA9IDIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIC0tcm9vdCByZXdvcmQgcm9vdCB3aGVuIHJvb3QgaGFzIHVudHJhY2tlZCBmaWxlIGNvbmZsaWN0JyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInJlc2V0X3JlYmFzZSIgJiYKCWVjaG8gej5maWxlMSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCgl0ZXN0X211c3RfZmFpbCBlbnYgRkFLRV9MSU5FUz0icmV3b3JkIDEgMiIgXAoJCUZBS0VfQ09NTUlUX01FU1NBR0U9Ik1vZGlmaWVkIEEiIGdpdCByZWJhc2UgLWkgLS1yb290ICYmCglybSBmaWxlMSAmJgoJRkFLRV9DT01NSVRfTUVTU0FHRT0iUmV3b3JkZWQgQSIgZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCgl0ZXN0ICIkKGdpdCBsb2cgLTEgLS1mb3JtYXQ9JUIgSEVBRF4pIiA9ICJSZXdvcmRlZCBBIiAmJgoJdGVzdCAiJChnaXQgcmV2LWxpc3QgLS1jb3VudCBIRUFEKSIgPSAyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgQ19MT0NBTEVfT1VUUFVUICdyZWJhc2UgLS1lZGl0LXRvZG8gZG9lcyBub3Qgd29yayBvbiBub24taW50ZXJhY3RpdmUgcmViYXNlJyAnCglnaXQgY2hlY2tvdXQgcmV3b3JkLXJvb3QtYnJhbmNoICYmCglnaXQgcmVzZXQgLS1oYXJkICYmCglnaXQgY2hlY2tvdXQgY29uZmxpY3QtYnJhbmNoICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZWJhc2UgLS1vbnRvIEhFQUR+MiBIRUFEfiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IHJlYmFzZSAtLWVkaXQtdG9kbyAmJgoJZ2l0IHJlYmFzZSAtLWFib3J0CicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtLWVkaXQtdG9kbyBjYW4gYmUgdXNlZCB0byBtb2RpZnkgdG9kbycgJwoJZ2l0IHJlc2V0IC0taGFyZCAmJgoJZ2l0IGNoZWNrb3V0IG5vLWNvbmZsaWN0LWJyYW5jaF4wICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9ImVkaXQgMSAyIDMiIGdpdCByZWJhc2UgLWkgSEVBRH4zICYmCglGQUtFX0xJTkVTPSIyIDEiIGdpdCByZWJhc2UgLS1lZGl0LXRvZG8gJiYKCWdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJdGVzdCBNID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUReIHwgc2VkIC1uZSBcJHApICYmCgl0ZXN0IEwgPSAkKGdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IHNlZCAtbmUgXCRwKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgcHJvZHVjZXMgcmVhZGFibGUgcmVmbG9nJyAnCglnaXQgcmVzZXQgLS1oYXJkICYmCglnaXQgYnJhbmNoIC1mIGJyYW5jaC1yZWZsb2ctdGVzdCBIICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCWdpdCByZWJhc2UgLWkgLS1vbnRvIEkgRiBicmFuY2gtcmVmbG9nLXRlc3QgJiYKCWNhdCA+ZXhwZWN0IDw8LVxFT0YgJiYKCXJlYmFzZSAtaSAoZmluaXNoKTogcmV0dXJuaW5nIHRvIHJlZnMvaGVhZHMvYnJhbmNoLXJlZmxvZy10ZXN0CglyZWJhc2UgLWkgKHBpY2spOiBICglyZWJhc2UgLWkgKHBpY2spOiBHCglyZWJhc2UgLWkgKHN0YXJ0KTogY2hlY2tvdXQgSQoJRU9GCglnaXQgcmVmbG9nIC1uNCBIRUFEIHwKCXNlZCAicy9bXjpdKjogLy8iID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIHJlc3BlY3RzIGNvcmUuY29tbWVudGNoYXInICcKCWdpdCByZXNldCAtLWhhcmQgJiYKCWdpdCBjaGVja291dCBFXjAgJiYKCXRlc3RfY29uZmlnIGNvcmUuY29tbWVudGNoYXIgIlxcIiAmJgoJd3JpdGVfc2NyaXB0IHJlbW92ZS1hbGwtYnV0LWZpcnN0LnNoIDw8LVxFT0YgJiYKCXNlZCAtZSAiMixcJHMvXi9cXFxcLyIgIiQxIiA+IiQxLnRtcCIgJiYKCW12ICIkMS50bXAiICIkMSIKCUVPRgoJdGVzdF9zZXRfZWRpdG9yICIkKHB3ZCkvcmVtb3ZlLWFsbC1idXQtZmlyc3Quc2giICYmCglnaXQgcmViYXNlIC1pIEIgJiYKCXRlc3QgQiA9ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEXiB8IHNlZCAtbmUgXCRwKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgcmVzcGVjdHMgY29yZS5jb21tZW50Y2hhcj1hdXRvJyAnCgl0ZXN0X2NvbmZpZyBjb3JlLmNvbW1lbnRjaGFyIGF1dG8gJiYKCXdyaXRlX3NjcmlwdCBjb3B5LWVkaXQtc2NyaXB0LnNoIDw8LVxFT0YgJiYKCWNwICIkMSIgZWRpdC1zY3JpcHQKCUVPRgoJdGVzdF9zZXRfZWRpdG9yICIkKHB3ZCkvY29weS1lZGl0LXNjcmlwdC5zaCIgJiYKCXRlc3Rfd2hlbl9maW5pc2hlZCAiZ2l0IHJlYmFzZSAtLWFib3J0IHx8IDoiICYmCglnaXQgcmViYXNlIC1pIEhFQUReICYmCgl0ZXN0IC16ICIkKGdyZXAgLXZlICJeIyIgLWUgIl5cJCIgLWUgIl5waWNrIiBlZGl0LXNjcmlwdCkiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSwgd2l0aCA8b250bz4gYW5kIDx1cHN0cmVhbT4gc3BlY2lmaWVkIGFzIDovcXV1eGVyeScgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgYnJhbmNoIC1EIHRvcmViYXNlIiAmJgoJZ2l0IGNoZWNrb3V0IC1iIHRvcmViYXNlIGJyYW5jaDEgJiYKCXVwc3RyZWFtPSQoZ2l0IHJldi1wYXJzZSAiOi9KIikgJiYKCW9udG89JChnaXQgcmV2LXBhcnNlICI6L0EiKSAmJgoJZ2l0IHJlYmFzZSAtLW9udG8gJG9udG8gJHVwc3RyZWFtICYmCglnaXQgcmVzZXQgLS1oYXJkIGJyYW5jaDEgJiYKCWdpdCByZWJhc2UgLS1vbnRvICI6L0EiICI6L0oiICYmCglnaXQgY2hlY2tvdXQgYnJhbmNoMQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgd2l0aCAtLXN0cmF0ZWd5IGFuZCAtWCcgJwoJZ2l0IGNoZWNrb3V0IC1iIGNvbmZsaWN0LW1lcmdlLXVzZS10aGVpcnMgY29uZmxpY3QtYnJhbmNoICYmCglnaXQgcmVzZXQgLS1oYXJkIEhFQUReICYmCgllY2hvIGZpdmUgPmNvbmZsaWN0ICYmCgllY2hvIFogPmZpbGUxICYmCglnaXQgY29tbWl0IC1hIC1tICJvbmUgZmlsZSBjb25mbGljdCIgJiYKCUVESVRPUj10cnVlIGdpdCByZWJhc2UgLWkgLS1zdHJhdGVneT1yZWN1cnNpdmUgLVhvdXJzIGNvbmZsaWN0LWJyYW5jaCAmJgoJdGVzdCAkKGdpdCBzaG93IGNvbmZsaWN0LWJyYW5jaDpjb25mbGljdCkgPSAkKGNhdCBjb25mbGljdCkgJiYKCXRlc3QgJChjYXQgZmlsZTEpID0gWgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdpbnRlcnJ1cHRlZCByZWJhc2UgLWkgd2l0aCAtLXN0cmF0ZWd5IGFuZCAtWCcgJwoJZ2l0IGNoZWNrb3V0IC1iIGNvbmZsaWN0LW1lcmdlLXVzZS10aGVpcnMtaW50ZXJydXB0ZWQgY29uZmxpY3QtYnJhbmNoICYmCglnaXQgcmVzZXQgLS1oYXJkIEhFQUReICYmCgk+YnJlYWtwb2ludCAmJgoJZ2l0IGFkZCBicmVha3BvaW50ICYmCglnaXQgY29tbWl0IC1tICJicmVha3BvaW50IGZvciBpbnRlcmFjdGl2ZSBtb2RlIiAmJgoJZWNobyBmaXZlID5jb25mbGljdCAmJgoJZWNobyBaID5maWxlMSAmJgoJZ2l0IGNvbW1pdCAtYSAtbSAib25lIGZpbGUgY29uZmxpY3QiICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9ImVkaXQgMSAyIiBnaXQgcmViYXNlIC1pIC0tc3RyYXRlZ3k9cmVjdXJzaXZlIC1Yb3VycyBjb25mbGljdC1icmFuY2ggJiYKCWdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJdGVzdCAkKGdpdCBzaG93IGNvbmZsaWN0LWJyYW5jaDpjb25mbGljdCkgPSAkKGNhdCBjb25mbGljdCkgJiYKCXRlc3QgJChjYXQgZmlsZTEpID0gWgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgZXJyb3Igb24gY29tbWl0cyB3aXRoIFwgaW4gbWVzc2FnZScgJwoJY3VycmVudF9oZWFkPSQoZ2l0IHJldi1wYXJzZSBIRUFEKSAmJgoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgcmViYXNlIC0tYWJvcnQ7IGdpdCByZXNldCAtLWhhcmQgJGN1cnJlbnRfaGVhZDsgcm0gLWYgZXJyb3IiICYmCgl0ZXN0X2NvbW1pdCBUTy1SRU1PVkUgd2lsbC1jb25mbGljdCBvbGQtY29udGVudCAmJgoJdGVzdF9jb21taXQgIlx0ZW1wIiB3aWxsLWNvbmZsaWN0IG5ldy1jb250ZW50IGR1bW15ICYmCgl0ZXN0X211c3RfZmFpbCBlbnYgRURJVE9SPXRydWUgZ2l0IHJlYmFzZSAtaSBIRUFEXiAtLW9udG8gSEVBRF5eIDI+ZXJyb3IgJiYKCXRlc3RfZXhwZWN0X2NvZGUgMSBncmVwICAiCWVtcCIgZXJyb3IKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2hvcnQgU0hBLTEgc2V0dXAnICcKCXRlc3Rfd2hlbl9maW5pc2hlZCAiZ2l0IGNoZWNrb3V0IG1hc3RlciIgJiYKCWdpdCBjaGVja291dCAtLW9ycGhhbiBjb2xsaWRlICYmCglnaXQgcm0gLXJmIC4gJiYKCSgKCXVuc2V0IHRlc3RfdGljayAmJgoJdGVzdF9jb21taXQgY29sbGlkZTEgY29sbGlkZSAmJgoJdGVzdF9jb21taXQgLS1ub3RpY2sgY29sbGlkZTIgY29sbGlkZSAmJgoJdGVzdF9jb21taXQgLS1ub3RpY2sgY29sbGlkZTMgY29sbGlkZQoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzaG9ydCBTSEEtMSBjb2xsaWRlJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInJlc2V0X3JlYmFzZSAmJiBnaXQgY2hlY2tvdXQgbWFzdGVyIiAmJgoJZ2l0IGNoZWNrb3V0IGNvbGxpZGUgJiYKCSgKCXVuc2V0IHRlc3RfdGljayAmJgoJdGVzdF90aWNrICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfQ09NTUlUX01FU1NBR0U9ImNvbGxpZGUyIGFjNGYyZWUiIFwKCUZBS0VfTElORVM9InJld29yZCAxIDIiIGdpdCByZWJhc2UgLWkgSEVBRH4yCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3Jlc3BlY3QgY29yZS5hYmJyZXYnICcKCWdpdCBjb25maWcgY29yZS5hYmJyZXYgMTIgJiYKCXNldF9jYXRfdG9kb19lZGl0b3IgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZWJhc2UgLWkgSEVBRH40ID50b2RvLWxpc3QgJiYKCXRlc3QgNCA9ICQoZ3JlcCAtYyAicGljayBbMC05YS1mXVx7MTIsXH0iIHRvZG8tbGlzdCkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndG9kbyBjb3VudCcgJwoJd3JpdGVfc2NyaXB0IGR1bXAtcmF3LnNoIDw8LVxFT0YgJiYKCQljYXQgIiQxIgoJRU9GCgl0ZXN0X3NldF9lZGl0b3IgIiQocHdkKS9kdW1wLXJhdy5zaCIgJiYKCWdpdCByZWJhc2UgLWkgSEVBRH40ID5hY3R1YWwgJiYKCXRlc3RfaTE4bmdyZXAgIl4jIFJlYmFzZSAuLiogb250byAuLiogKFswLTldIiBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIGNvbW1pdHMgdGhhdCBvdmVyd3JpdGUgdW50cmFja2VkIGZpbGVzIChwaWNrKScgJwoJZ2l0IGNoZWNrb3V0IC0tZm9yY2UgYnJhbmNoMiAmJgoJZ2l0IGNsZWFuIC1mICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9ImVkaXQgMSAyIiBnaXQgcmViYXNlIC1pIEEgJiYKCXRlc3RfY21wX3JldiBIRUFEIEYgJiYKCXRlc3RfcGF0aF9pc19taXNzaW5nIGZpbGU2ICYmCgk+ZmlsZTYgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJdGVzdF9jbXBfcmV2IEhFQUQgRiAmJgoJcm0gZmlsZTYgJiYKCWdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJdGVzdF9jbXBfcmV2IEhFQUQgSQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgY29tbWl0cyB0aGF0IG92ZXJ3cml0ZSB1bnRyYWNrZWQgZmlsZXMgKHNxdWFzaCknICcKCWdpdCBjaGVja291dCAtLWZvcmNlIGJyYW5jaDIgJiYKCWdpdCBjbGVhbiAtZiAmJgoJZ2l0IHRhZyBvcmlnaW5hbC1icmFuY2gyICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9ImVkaXQgMSBzcXVhc2ggMiIgZ2l0IHJlYmFzZSAtaSBBICYmCgl0ZXN0X2NtcF9yZXYgSEVBRCBGICYmCgl0ZXN0X3BhdGhfaXNfbWlzc2luZyBmaWxlNiAmJgoJPmZpbGU2ICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3RfY21wX3JldiBIRUFEIEYgJiYKCXJtIGZpbGU2ICYmCglnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3QgJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBzZWQgLW5lIFwkcCkgPSBJICYmCglnaXQgcmVzZXQgLS1oYXJkIG9yaWdpbmFsLWJyYW5jaDIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIGNvbW1pdHMgdGhhdCBvdmVyd3JpdGUgdW50cmFja2VkIGZpbGVzIChubyBmZiknICcKCWdpdCBjaGVja291dCAtLWZvcmNlIGJyYW5jaDIgJiYKCWdpdCBjbGVhbiAtZiAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSJlZGl0IDEgMiIgZ2l0IHJlYmFzZSAtaSAtLW5vLWZmIEEgJiYKCXRlc3QgJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBzZWQgLW5lIFwkcCkgPSBGICYmCgl0ZXN0X3BhdGhfaXNfbWlzc2luZyBmaWxlNiAmJgoJPmZpbGU2ICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3QgJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBzZWQgLW5lIFwkcCkgPSBGICYmCglybSBmaWxlNiAmJgoJZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCgl0ZXN0ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEIHwgc2VkIC1uZSBcJHApID0gSQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLS1jb250aW51ZSByZW1vdmVzIENIRVJSWV9QSUNLX0hFQUQnICcKCWdpdCBjaGVja291dCAtYiBjb21taXQtdG8tc2tpcCAmJgoJZm9yIGRvdWJsZSBpbiBYIDMgMQoJZG8KCQl0ZXN0X3NlcSA1IHwgc2VkICJzLyRkb3VibGUvJiYvIiA+c2VxICYmCgkJZ2l0IGFkZCBzZXEgJiYKCQl0ZXN0X3RpY2sgJiYKCQlnaXQgY29tbWl0IC1tIHNlcS0kZG91YmxlCglkb25lICYmCglnaXQgdGFnIHNlcS1vbnRvICYmCglnaXQgcmVzZXQgLS1oYXJkIEhFQUR+MiAmJgoJZ2l0IGNoZXJyeS1waWNrIHNlcS1vbnRvICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCXRlc3RfbXVzdF9mYWlsIGVudiBGQUtFX0xJTkVTPSBnaXQgcmViYXNlIC1pIHNlcS1vbnRvICYmCgl0ZXN0IC1kIC5naXQvcmViYXNlLW1lcmdlICYmCglnaXQgcmViYXNlIC0tY29udGludWUgJiYKCWdpdCBkaWZmIC0tZXhpdC1jb2RlIHNlcS1vbnRvICYmCgl0ZXN0ICEgLWQgLmdpdC9yZWJhc2UtbWVyZ2UgJiYKCXRlc3QgISAtZiAuZ2l0L0NIRVJSWV9QSUNLX0hFQUQKJwoKcmViYXNlX3NldHVwX2FuZF9jbGVhbiAoKSB7Cgl0ZXN0X3doZW5fZmluaXNoZWQgIgoJCWdpdCBjaGVja291dCBtYXN0ZXIgJiYKCQl0ZXN0X21pZ2h0X2ZhaWwgZ2l0IGJyYW5jaCAtRCAkMSAmJgoJCXRlc3RfbWlnaHRfZmFpbCBnaXQgcmViYXNlIC0tYWJvcnQKCSIgJiYKCWdpdCBjaGVja291dCAtYiAkMSAkezI6LW1hc3Rlcn0KfQoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZHJvcCcgJwoJcmViYXNlX3NldHVwX2FuZF9jbGVhbiBkcm9wLXRlc3QgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMSBkcm9wIDIgMyBkIDQgNSIgZ2l0IHJlYmFzZSAtaSAtLXJvb3QgJiYKCXRlc3QgRSA9ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEIHwgc2VkIC1uZSBcJHApICYmCgl0ZXN0IEMgPSAkKGdpdCBjYXQtZmlsZSBjb21taXQgSEVBRF4gfCBzZWQgLW5lIFwkcCkgJiYKCXRlc3QgQSA9ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEXl4gfCBzZWQgLW5lIFwkcCkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmViYXNlIC1pIHJlc3BlY3RzIHJlYmFzZS5taXNzaW5nQ29tbWl0c0NoZWNrID0gaWdub3JlJyAnCgl0ZXN0X2NvbmZpZyByZWJhc2UubWlzc2luZ0NvbW1pdHNDaGVjayBpZ25vcmUgJiYKCXJlYmFzZV9zZXR1cF9hbmRfY2xlYW4gbWlzc2luZy1jb21taXQgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMSAyIDMgNCIgXAoJCWdpdCByZWJhc2UgLWkgLS1yb290IDI+YWN0dWFsICYmCgl0ZXN0IEQgPSAkKGdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IHNlZCAtbmUgXCRwKSAmJgoJdGVzdF9pMThuZ3JlcCBcCgkJIlN1Y2Nlc3NmdWxseSByZWJhc2VkIGFuZCB1cGRhdGVkIHJlZnMvaGVhZHMvbWlzc2luZy1jb21taXQiIFwKCQlhY3R1YWwKJwoKY2F0ID5leHBlY3QgPDxFT0YKV2FybmluZzogc29tZSBjb21taXRzIG1heSBoYXZlIGJlZW4gZHJvcHBlZCBhY2NpZGVudGFsbHkuCkRyb3BwZWQgY29tbWl0cyAobmV3ZXIgdG8gb2xkZXIpOgogLSAkKGdpdCByZXYtbGlzdCAtLXByZXR0eT1vbmVsaW5lIC0tYWJicmV2LWNvbW1pdCAtMSBtYXN0ZXIpClRvIGF2b2lkIHRoaXMgbWVzc2FnZSwgdXNlICJkcm9wIiB0byBleHBsaWNpdGx5IHJlbW92ZSBhIGNvbW1pdC4KClVzZSAnZ2l0IGNvbmZpZyByZWJhc2UubWlzc2luZ0NvbW1pdHNDaGVjaycgdG8gY2hhbmdlIHRoZSBsZXZlbCBvZiB3YXJuaW5ncy4KVGhlIHBvc3NpYmxlIGJlaGF2aW91cnMgYXJlOiBpZ25vcmUsIHdhcm4sIGVycm9yLgoKUmViYXNpbmcgKDEvNCkKUmViYXNpbmcgKDIvNCkKUmViYXNpbmcgKDMvNCkKUmViYXNpbmcgKDQvNCkKU3VjY2Vzc2Z1bGx5IHJlYmFzZWQgYW5kIHVwZGF0ZWQgcmVmcy9oZWFkcy9taXNzaW5nLWNvbW1pdC4KRU9GCgpjcl90b19ubCAoKSB7Cgl0ciAnXDAxNScgJ1wwMTInCn0KCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSByZXNwZWN0cyByZWJhc2UubWlzc2luZ0NvbW1pdHNDaGVjayA9IHdhcm4nICcKCXRlc3RfY29uZmlnIHJlYmFzZS5taXNzaW5nQ29tbWl0c0NoZWNrIHdhcm4gJiYKCXJlYmFzZV9zZXR1cF9hbmRfY2xlYW4gbWlzc2luZy1jb21taXQgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJRkFLRV9MSU5FUz0iMSAyIDMgNCIgXAoJCWdpdCByZWJhc2UgLWkgLS1yb290IDI+YWN0dWFsLjIgJiYKCWNyX3RvX25sIDxhY3R1YWwuMiA+YWN0dWFsICYmCgl0ZXN0X2kxOG5jbXAgZXhwZWN0IGFjdHVhbCAmJgoJdGVzdCBEID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBzZWQgLW5lIFwkcCkKJwoKY2F0ID5leHBlY3QgPDxFT0YKV2FybmluZzogc29tZSBjb21taXRzIG1heSBoYXZlIGJlZW4gZHJvcHBlZCBhY2NpZGVudGFsbHkuCkRyb3BwZWQgY29tbWl0cyAobmV3ZXIgdG8gb2xkZXIpOgogLSAkKGdpdCByZXYtbGlzdCAtLXByZXR0eT1vbmVsaW5lIC0tYWJicmV2LWNvbW1pdCAtMSBtYXN0ZXIpCiAtICQoZ2l0IHJldi1saXN0IC0tcHJldHR5PW9uZWxpbmUgLS1hYmJyZXYtY29tbWl0IC0xIG1hc3Rlcn4yKQpUbyBhdm9pZCB0aGlzIG1lc3NhZ2UsIHVzZSAiZHJvcCIgdG8gZXhwbGljaXRseSByZW1vdmUgYSBjb21taXQuCgpVc2UgJ2dpdCBjb25maWcgcmViYXNlLm1pc3NpbmdDb21taXRzQ2hlY2snIHRvIGNoYW5nZSB0aGUgbGV2ZWwgb2Ygd2FybmluZ3MuClRoZSBwb3NzaWJsZSBiZWhhdmlvdXJzIGFyZTogaWdub3JlLCB3YXJuLCBlcnJvci4KCllvdSBjYW4gZml4IHRoaXMgd2l0aCAnZ2l0IHJlYmFzZSAtLWVkaXQtdG9kbycgYW5kIHRoZW4gcnVuICdnaXQgcmViYXNlIC0tY29udGludWUnLgpPciB5b3UgY2FuIGFib3J0IHRoZSByZWJhc2Ugd2l0aCAnZ2l0IHJlYmFzZSAtLWFib3J0Jy4KRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWJhc2UgLWkgcmVzcGVjdHMgcmViYXNlLm1pc3NpbmdDb21taXRzQ2hlY2sgPSBlcnJvcicgJwoJdGVzdF9jb25maWcgcmViYXNlLm1pc3NpbmdDb21taXRzQ2hlY2sgZXJyb3IgJiYKCXJlYmFzZV9zZXR1cF9hbmRfY2xlYW4gbWlzc2luZy1jb21taXQgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZW52IEZBS0VfTElORVM9IjEgMiA0IiBcCgkJZ2l0IHJlYmFzZSAtaSAtLXJvb3QgMj5hY3R1YWwgJiYKCXRlc3RfaTE4bmNtcCBleHBlY3QgYWN0dWFsICYmCgljcCAuZ2l0L3JlYmFzZS1tZXJnZS9naXQtcmViYXNlLXRvZG8uYmFja3VwIFwKCQkuZ2l0L3JlYmFzZS1tZXJnZS9naXQtcmViYXNlLXRvZG8gJiYKCUZBS0VfTElORVM9IjEgMiBkcm9wIDMgNCBkcm9wIDUiIFwKCQlnaXQgcmViYXNlIC0tZWRpdC10b2RvICYmCglnaXQgcmViYXNlIC0tY29udGludWUgJiYKCXRlc3QgRCA9ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEIHwgc2VkIC1uZSBcJHApICYmCgl0ZXN0IEIgPSAkKGdpdCBjYXQtZmlsZSBjb21taXQgSEVBRF4gfCBzZWQgLW5lIFwkcCkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmVzcGVjdHMgcmViYXNlLmFiYnJldmlhdGVDb21tYW5kcyB3aXRoIGZpeHVwLCBzcXVhc2ggYW5kIGV4ZWMnICcKCXJlYmFzZV9zZXR1cF9hbmRfY2xlYW4gYWJicmV2Y21kICYmCgl0ZXN0X2NvbW1pdCAiZmlyc3QiIGZpbGUxLnR4dCAiZmlyc3QgbGluZSIgZmlyc3QgJiYKCXRlc3RfY29tbWl0ICJzZWNvbmQiIGZpbGUxLnR4dCAiYW5vdGhlciBsaW5lIiBzZWNvbmQgJiYKCXRlc3RfY29tbWl0ICJmaXh1cCEgZmlyc3QiIGZpbGUyLnR4dCAiZmlyc3QgbGluZSBhZ2FpbiIgZmlyc3RfZml4dXAgJiYKCXRlc3RfY29tbWl0ICJzcXVhc2ghIHNlY29uZCIgZmlsZTEudHh0ICJhbm90aGVyIGxpbmUgaGVyZSIgc2Vjb25kX3NxdWFzaCAmJgoJY2F0ID5leHBlY3RlZCA8PC1FT0YgJiYKCXAgJChnaXQgcmV2LWxpc3QgLS1hYmJyZXYtY29tbWl0IC0xIGZpcnN0KSBmaXJzdAoJZiAkKGdpdCByZXYtbGlzdCAtLWFiYnJldi1jb21taXQgLTEgZmlyc3RfZml4dXApIGZpeHVwISBmaXJzdAoJeCBnaXQgc2hvdyBIRUFECglwICQoZ2l0IHJldi1saXN0IC0tYWJicmV2LWNvbW1pdCAtMSBzZWNvbmQpIHNlY29uZAoJcyAkKGdpdCByZXYtbGlzdCAtLWFiYnJldi1jb21taXQgLTEgc2Vjb25kX3NxdWFzaCkgc3F1YXNoISBzZWNvbmQKCXggZ2l0IHNob3cgSEVBRAoJRU9GCglnaXQgY2hlY2tvdXQgYWJicmV2Y21kICYmCglzZXRfY2F0X3RvZG9fZWRpdG9yICYmCgl0ZXN0X2NvbmZpZyByZWJhc2UuYWJicmV2aWF0ZUNvbW1hbmRzIHRydWUgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCByZWJhc2UgLWkgLS1leGVjICJnaXQgc2hvdyBIRUFEIiBcCgkJLS1hdXRvc3F1YXNoIG1hc3RlciA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3RhdGljIGNoZWNrIG9mIGJhZCBjb21tYW5kJyAnCglyZWJhc2Vfc2V0dXBfYW5kX2NsZWFuIGJhZC1jbWQgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZW52IEZBS0VfTElORVM9IjEgMiAzIGJhZCA0IDUiIFwKCQlnaXQgcmViYXNlIC1pIC0tcm9vdCAyPmFjdHVhbCAmJgoJdGVzdF9pMThuZ3JlcCAiYmFkY21kICQoZ2l0IHJldi1saXN0IC0tb25lbGluZSAtMSBtYXN0ZXJ+MSkiIGFjdHVhbCAmJgoJdGVzdF9pMThuZ3JlcCAiWW91IGNhbiBmaXggdGhpcyB3aXRoIC5naXQgcmViYXNlIC0tZWRpdC10b2RvLi4iIGFjdHVhbCAmJgoJRkFLRV9MSU5FUz0iMSAyIDMgZHJvcCA0IDUiIGdpdCByZWJhc2UgLS1lZGl0LXRvZG8gJiYKCWdpdCByZWJhc2UgLS1jb250aW51ZSAmJgoJdGVzdCBFID0gJChnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBzZWQgLW5lIFwkcCkgJiYKCXRlc3QgQyA9ICQoZ2l0IGNhdC1maWxlIGNvbW1pdCBIRUFEXiB8IHNlZCAtbmUgXCRwKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd0YWJzIGFuZCBzcGFjZXMgYXJlIGFjY2VwdGVkIGluIHRoZSB0b2RvbGlzdCcgJwoJcmViYXNlX3NldHVwX2FuZF9jbGVhbiBpbmRlbnRlZC1jb21tZW50ICYmCgl3cml0ZV9zY3JpcHQgYWRkLWluZGVudC5zaCA8PC1cRU9GICYmCgkoCgkJIyBUdXJuIHNpbmdsZSBzcGFjZXMgaW50byBzcGFjZS90YWIgbWl4CgkJc2VkICIxcy8gLwkvZzsgMnMvIC8gIC9nOyAzcy8gLyAJL2ciICIkMSIKCQlwcmludGYgIlxuXHQjIGNvbW1lbnRcbiAjbW9yZVxuXHQgIyBjb21tZW50XG4iCgkpID4iJDEubmV3IgoJbXYgIiQxLm5ldyIgIiQxIgoJRU9GCgl0ZXN0X3NldF9lZGl0b3IgIiQocHdkKS9hZGQtaW5kZW50LnNoIiAmJgoJZ2l0IHJlYmFzZSAtaSBIRUFEXl5eICYmCgl0ZXN0IEUgPSAkKGdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IHNlZCAtbmUgXCRwKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdGF0aWMgY2hlY2sgb2YgYmFkIFNIQS0xJyAnCglyZWJhc2Vfc2V0dXBfYW5kX2NsZWFuIGJhZC1zaGEgJiYKCXNldF9mYWtlX2VkaXRvciAmJgoJdGVzdF9tdXN0X2ZhaWwgZW52IEZBS0VfTElORVM9IjEgMiBlZGl0IGZha2VzaGEgMyA0IDUgIyIgXAoJCWdpdCByZWJhc2UgLWkgLS1yb290IDI+YWN0dWFsICYmCgl0ZXN0X2kxOG5ncmVwICJlZGl0IFhYWFhYWFggRmFsc2UgY29tbWl0IiBhY3R1YWwgJiYKCXRlc3RfaTE4bmdyZXAgIllvdSBjYW4gZml4IHRoaXMgd2l0aCAuZ2l0IHJlYmFzZSAtLWVkaXQtdG9kby4uIiBhY3R1YWwgJiYKCUZBS0VfTElORVM9IjEgMiA0IDUgNiIgZ2l0IHJlYmFzZSAtLWVkaXQtdG9kbyAmJgoJZ2l0IHJlYmFzZSAtLWNvbnRpbnVlICYmCgl0ZXN0IEUgPSAkKGdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IHNlZCAtbmUgXCRwKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdlZGl0b3Igc2F2ZXMgYXMgQ1IvTEYnICcKCWdpdCBjaGVja291dCAtYiB3aXRoLWNybGYgJiYKCXdyaXRlX3NjcmlwdCBhZGQtY3JzLnNoIDw8LVxFT0YgJiYKCXNlZCAtZSAicy9cJC9RLyIgPCIkMSIgfCB0ciBRICJcXDAxNSIgPiIkMSIubmV3ICYmCgltdiAtZiAiJDEiLm5ldyAiJDEiCglFT0YKCSgKCQl0ZXN0X3NldF9lZGl0b3IgIiQocHdkKS9hZGQtY3JzLnNoIiAmJgoJCWdpdCByZWJhc2UgLWkgSEVBRF4KCSkKJwoKU1E9IiciCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSAtLWdwZy1zaWduPTxrZXktaWQ+JyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInRlc3RfbWlnaHRfZmFpbCBnaXQgcmViYXNlIC0tYWJvcnQiICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCUZBS0VfTElORVM9ImVkaXQgMSIgZ2l0IHJlYmFzZSAtaSAtLWdwZy1zaWduPSJcIlMgSSBHbmVyXCIiIEhFQUReIFwKCQk+b3V0IDI+ZXJyICYmCgl0ZXN0X2kxOG5ncmVwICIkU1EtU1wiUyBJIEduZXJcIiRTUSIgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlYmFzZSAtaSAtLWdwZy1zaWduPTxrZXktaWQ+IG92ZXJyaWRlcyBjb21taXQuZ3BnU2lnbicgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJ0ZXN0X21pZ2h0X2ZhaWwgZ2l0IHJlYmFzZSAtLWFib3J0IiAmJgoJdGVzdF9jb25maWcgY29tbWl0LmdwZ3NpZ24gdHJ1ZSAmJgoJc2V0X2Zha2VfZWRpdG9yICYmCglGQUtFX0xJTkVTPSJlZGl0IDEiIGdpdCByZWJhc2UgLWkgLS1ncGctc2lnbj0iXCJTIEkgR25lclwiIiBIRUFEXiBcCgkJPm91dCAyPmVyciAmJgoJdGVzdF9pMThuZ3JlcCAiJFNRLVNcIlMgSSBHbmVyXCIkU1EiIGVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd2YWxpZCBhdXRob3IgaGVhZGVyIGFmdGVyIC0tcm9vdCBzd2FwJyAnCglyZWJhc2Vfc2V0dXBfYW5kX2NsZWFuIGF1dGhvci1oZWFkZXIgbm8tY29uZmxpY3QtYnJhbmNoICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCWdpdCBjb21taXQgLS1hbWVuZCAtLWF1dGhvcj0iQXUgJHtTUX10aG9yIDxhdXRob3JAZXhhbXBsZS5jb20+IiAtLW5vLWVkaXQgJiYKCWdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IGdyZXAgXmF1dGhvciA+ZXhwZWN0ZWQgJiYKCUZBS0VfTElORVM9IjUgMSIgZ2l0IHJlYmFzZSAtaSAtLXJvb3QgJiYKCWdpdCBjYXQtZmlsZSBjb21taXQgSEVBRF4gfCBncmVwIF5hdXRob3IgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3ZhbGlkIGF1dGhvciBoZWFkZXIgd2hlbiBhdXRob3IgY29udGFpbnMgc2luZ2xlIHF1b3RlJyAnCglyZWJhc2Vfc2V0dXBfYW5kX2NsZWFuIGF1dGhvci1oZWFkZXIgbm8tY29uZmxpY3QtYnJhbmNoICYmCglzZXRfZmFrZV9lZGl0b3IgJiYKCWdpdCBjb21taXQgLS1hbWVuZCAtLWF1dGhvcj0iQXUgJHtTUX10aG9yIDxhdXRob3JAZXhhbXBsZS5jb20+IiAtLW5vLWVkaXQgJiYKCWdpdCBjYXQtZmlsZSBjb21taXQgSEVBRCB8IGdyZXAgXmF1dGhvciA+ZXhwZWN0ZWQgJiYKCUZBS0VfTElORVM9IjIiIGdpdCByZWJhc2UgLWkgSEVBRH4yICYmCglnaXQgY2F0LWZpbGUgY29tbWl0IEhFQUQgfCBncmVwIF5hdXRob3IgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZG9uZQo=",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2007 Johannes E. Schindelin\n#\n\ntest_description='git rebase interactive\n\nThis test runs git rebase \"interactively\", by faking an edit, and verifies\nthat the result still makes sense.\n\nInitial setup:\n\n     one - two - three - four (conflict-branch)\n   /\n A - B - C - D - E            (master)\n | \\\n |   F - G - H                (branch1)\n |     \\\n |\\      I                    (branch2)\n | \\\n |   J - K - L - M            (no-conflict-branch)\n  \\\n    N - O - P                 (no-ff-branch)\n\n where A, B, D and G all touch file1, and one, two, three, four all\n touch file \"conflict\".\n'\n. ./test-lib.sh\n\n. \"$TEST_DIRECTORY\"/lib-rebase.sh\n\n# WARNING: Modifications to the initial repository can change the SHA ID used\n# in the expect2 file for the 'stop on conflicting pick' test.\n\ntest_expect_success 'setup' '\n\ttest_commit A file1 &&\n\ttest_commit B file1 &&\n\ttest_commit C file2 &&\n\ttest_commit D file1 &&\n\ttest_commit E file3 &&\n\tgit checkout -b branch1 A &&\n\ttest_commit F file4 &&\n\ttest_commit G file1 &&\n\ttest_commit H file5 &&\n\tgit checkout -b branch2 F &&\n\ttest_commit I file6 &&\n\tgit checkout -b conflict-branch A &&\n\ttest_commit one conflict &&\n\ttest_commit two conflict &&\n\ttest_commit three conflict &&\n\ttest_commit four conflict &&\n\tgit checkout -b no-conflict-branch A &&\n\ttest_commit J fileJ &&\n\ttest_commit K fileK &&\n\ttest_commit L fileL &&\n\ttest_commit M fileM &&\n\tgit checkout -b no-ff-branch A &&\n\ttest_commit N fileN &&\n\ttest_commit O fileO &&\n\ttest_commit P fileP\n'\n\n# \"exec\" commands are run with the user shell by default, but this may\n# be non-POSIX. For example, if SHELL=zsh then \">file\" doesn't work\n# to create a file. Unsetting SHELL avoids such non-portable behavior\n# in tests. It must be exported for it to take effect where needed.\nSHELL=\nexport SHELL\n\ntest_expect_success 'rebase --keep-empty' '\n\tgit checkout -b emptybranch master &&\n\tgit commit --allow-empty -m \"empty\" &&\n\tgit rebase --keep-empty -i HEAD~2 &&\n\tgit log --oneline >actual &&\n\ttest_line_count = 6 actual\n'\n\ntest_expect_success 'rebase -i with the exec command' '\n\tgit checkout master &&\n\t(\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 exec_>touch-one\n\t\t2 exec_>touch-two exec_false exec_>touch-three\n\t\t3 4 exec_>\\\"touch-file__name_with_spaces\\\";_>touch-after-semicolon 5\" &&\n\texport FAKE_LINES &&\n\ttest_must_fail git rebase -i A\n\t) &&\n\ttest_path_is_file touch-one &&\n\ttest_path_is_file touch-two &&\n\ttest_path_is_missing touch-three \" (should have stopped before)\" &&\n\ttest_cmp_rev C HEAD &&\n\tgit rebase --continue &&\n\ttest_path_is_file touch-three &&\n\ttest_path_is_file \"touch-file  name with spaces\" &&\n\ttest_path_is_file touch-after-semicolon &&\n\ttest_cmp_rev master HEAD &&\n\trm -f touch-*\n'\n\ntest_expect_success 'rebase -i with the exec command runs from tree root' '\n\tgit checkout master &&\n\tmkdir subdir && (cd subdir &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 exec_>touch-subdir\" \\\n\t\tgit rebase -i HEAD^\n\t) &&\n\ttest_path_is_file touch-subdir &&\n\trm -fr subdir\n'\n\ntest_expect_success 'rebase -i with exec allows git commands in subdirs' '\n\ttest_when_finished \"rm -rf subdir\" &&\n\ttest_when_finished \"git rebase --abort ||:\" &&\n\tgit checkout master &&\n\tmkdir subdir && (cd subdir &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 x_cd_subdir_&&_git_rev-parse_--is-inside-work-tree\" \\\n\t\tgit rebase -i HEAD^\n\t)\n'\n\ntest_expect_success 'rebase -i sets work tree properly' '\n\ttest_when_finished \"rm -rf subdir\" &&\n\ttest_when_finished \"test_might_fail git rebase --abort\" &&\n\tmkdir subdir &&\n\tgit rebase -x \"(cd subdir && git rev-parse --show-toplevel)\" HEAD^ \\\n\t\t>actual &&\n\t! grep \"/subdir$\" actual\n'\n\ntest_expect_success 'rebase -i with the exec command checks tree cleanness' '\n\tgit checkout master &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"exec_echo_foo_>file1 1\" git rebase -i HEAD^ &&\n\ttest_cmp_rev master^ HEAD &&\n\tgit reset --hard &&\n\tgit rebase --continue\n'\n\ntest_expect_success 'rebase -i with exec of inexistent command' '\n\tgit checkout master &&\n\ttest_when_finished \"git rebase --abort\" &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"exec_this-command-does-not-exist 1\" \\\n\tgit rebase -i HEAD^ >actual 2>&1 &&\n\t! grep \"Maybe git-rebase is broken\" actual\n'\n\ntest_expect_success 'no changes are a nop' '\n\tgit checkout branch2 &&\n\tset_fake_editor &&\n\tgit rebase -i F &&\n\ttest \"$(git symbolic-ref -q HEAD)\" = \"refs/heads/branch2\" &&\n\ttest $(git rev-parse I) = $(git rev-parse HEAD)\n'\n\ntest_expect_success 'test the [branch] option' '\n\tgit checkout -b dead-end &&\n\tgit rm file6 &&\n\tgit commit -m \"stop here\" &&\n\tset_fake_editor &&\n\tgit rebase -i F branch2 &&\n\ttest \"$(git symbolic-ref -q HEAD)\" = \"refs/heads/branch2\" &&\n\ttest $(git rev-parse I) = $(git rev-parse branch2) &&\n\ttest $(git rev-parse I) = $(git rev-parse HEAD)\n'\n\ntest_expect_success 'test --onto <branch>' '\n\tgit checkout -b test-onto branch2 &&\n\tset_fake_editor &&\n\tgit rebase -i --onto branch1 F &&\n\ttest \"$(git symbolic-ref -q HEAD)\" = \"refs/heads/test-onto\" &&\n\ttest $(git rev-parse HEAD^) = $(git rev-parse branch1) &&\n\ttest $(git rev-parse I) = $(git rev-parse branch2)\n'\n\ntest_expect_success 'rebase on top of a non-conflicting commit' '\n\tgit checkout branch1 &&\n\tgit tag original-branch1 &&\n\tset_fake_editor &&\n\tgit rebase -i branch2 &&\n\ttest file6 = $(git diff --name-only original-branch1) &&\n\ttest \"$(git symbolic-ref -q HEAD)\" = \"refs/heads/branch1\" &&\n\ttest $(git rev-parse I) = $(git rev-parse branch2) &&\n\ttest $(git rev-parse I) = $(git rev-parse HEAD~2)\n'\n\ntest_expect_success 'reflog for the branch shows state before rebase' '\n\ttest $(git rev-parse branch1@{1}) = $(git rev-parse original-branch1)\n'\n\ntest_expect_success 'reflog for the branch shows correct finish message' '\n\tprintf \"rebase -i (finish): refs/heads/branch1 onto %s\\n\" \\\n\t\t\"$(git rev-parse branch2)\" >expected &&\n\tgit log -g --pretty=%gs -1 refs/heads/branch1 >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'exchange two commits' '\n\tset_fake_editor &&\n\tFAKE_LINES=\"2 1\" git rebase -i HEAD~2 &&\n\ttest H = $(git cat-file commit HEAD^ | sed -ne \\$p) &&\n\ttest G = $(git cat-file commit HEAD | sed -ne \\$p)\n'\n\ncat > expect << EOF\ndiff --git a/file1 b/file1\nindex f70f10e..fd79235 100644\n--- a/file1\n+++ b/file1\n@@ -1 +1 @@\n-A\n+G\nEOF\n\ncat > expect2 << EOF\n<<<<<<< HEAD\nD\n=======\nG\n>>>>>>> 5d18e54... G\nEOF\n\ntest_expect_success 'stop on conflicting pick' '\n\tgit tag new-branch1 &&\n\tset_fake_editor &&\n\ttest_must_fail git rebase -i master &&\n\ttest \"$(git rev-parse HEAD~3)\" = \"$(git rev-parse master)\" &&\n\ttest_cmp expect .git/rebase-merge/patch &&\n\ttest_cmp expect2 file1 &&\n\ttest \"$(git diff --name-status |\n\t\tsed -n -e \"/^U/s/^U[^a-z]*//p\")\" = file1 &&\n\ttest 4 = $(grep -v \"^#\" < .git/rebase-merge/done | wc -l) &&\n\ttest 0 = $(grep -c \"^[^#]\" < .git/rebase-merge/git-rebase-todo)\n'\n\ntest_expect_success 'show conflicted patch' '\n\tGIT_TRACE=1 git rebase --show-current-patch >/dev/null 2>stderr &&\n\tgrep \"show.*REBASE_HEAD\" stderr &&\n\t# the original stopped-sha1 is abbreviated\n\tstopped_sha1=\"$(git rev-parse $(cat \".git/rebase-merge/stopped-sha\"))\" &&\n\ttest \"$(git rev-parse REBASE_HEAD)\" = \"$stopped_sha1\"\n'\n\ntest_expect_success 'abort' '\n\tgit rebase --abort &&\n\ttest $(git rev-parse new-branch1) = $(git rev-parse HEAD) &&\n\ttest \"$(git symbolic-ref -q HEAD)\" = \"refs/heads/branch1\" &&\n\ttest_path_is_missing .git/rebase-merge\n'\n\ntest_expect_success 'abort with error when new base cannot be checked out' '\n\tgit rm --cached file1 &&\n\tgit commit -m \"remove file in base\" &&\n\tset_fake_editor &&\n\ttest_must_fail git rebase -i master > output 2>&1 &&\n\ttest_i18ngrep \"The following untracked working tree files would be overwritten by checkout:\" \\\n\t\toutput &&\n\ttest_i18ngrep \"file1\" output &&\n\ttest_path_is_missing .git/rebase-merge &&\n\tgit reset --hard HEAD^\n'\n\ntest_expect_success 'retain authorship' '\n\techo A > file7 &&\n\tgit add file7 &&\n\ttest_tick &&\n\tGIT_AUTHOR_NAME=\"Twerp Snog\" git commit -m \"different author\" &&\n\tgit tag twerp &&\n\tset_fake_editor &&\n\tgit rebase -i --onto master HEAD^ &&\n\tgit show HEAD | grep \"^Author: Twerp Snog\"\n'\n\ntest_expect_success 'retain authorship w/ conflicts' '\n\toGIT_AUTHOR_NAME=$GIT_AUTHOR_NAME &&\n\ttest_when_finished \"GIT_AUTHOR_NAME=\\$oGIT_AUTHOR_NAME\" &&\n\n\tgit reset --hard twerp &&\n\ttest_commit a conflict a conflict-a &&\n\tgit reset --hard twerp &&\n\n\tGIT_AUTHOR_NAME=AttributeMe &&\n\texport GIT_AUTHOR_NAME &&\n\ttest_commit b conflict b conflict-b &&\n\tGIT_AUTHOR_NAME=$oGIT_AUTHOR_NAME &&\n\n\tset_fake_editor &&\n\ttest_must_fail git rebase -i conflict-a &&\n\techo resolved >conflict &&\n\tgit add conflict &&\n\tgit rebase --continue &&\n\ttest $(git rev-parse conflict-a^0) = $(git rev-parse HEAD^) &&\n\tgit show >out &&\n\tgrep AttributeMe out\n'\n\ntest_expect_success 'squash' '\n\tgit reset --hard twerp &&\n\techo B > file7 &&\n\ttest_tick &&\n\tGIT_AUTHOR_NAME=\"Nitfol\" git commit -m \"nitfol\" file7 &&\n\techo \"******************************\" &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 squash 2\" EXPECT_HEADER_COUNT=2 \\\n\t\tgit rebase -i --onto master HEAD~2 &&\n\ttest B = $(cat file7) &&\n\ttest $(git rev-parse HEAD^) = $(git rev-parse master)\n'\n\ntest_expect_success 'retain authorship when squashing' '\n\tgit show HEAD | grep \"^Author: Twerp Snog\"\n'\n\ntest_expect_success '-p handles \"no changes\" gracefully' '\n\tHEAD=$(git rev-parse HEAD) &&\n\tset_fake_editor &&\n\tgit rebase -i -p HEAD^ &&\n\tgit update-index --refresh &&\n\tgit diff-files --quiet &&\n\tgit diff-index --quiet --cached HEAD -- &&\n\ttest $HEAD = $(git rev-parse HEAD)\n'\n\ntest_expect_failure 'exchange two commits with -p' '\n\tgit checkout H &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"2 1\" git rebase -i -p HEAD~2 &&\n\ttest H = $(git cat-file commit HEAD^ | sed -ne \\$p) &&\n\ttest G = $(git cat-file commit HEAD | sed -ne \\$p)\n'\n\ntest_expect_success 'preserve merges with -p' '\n\tgit checkout -b to-be-preserved master^ &&\n\t: > unrelated-file &&\n\tgit add unrelated-file &&\n\ttest_tick &&\n\tgit commit -m \"unrelated\" &&\n\tgit checkout -b another-branch master &&\n\techo B > file1 &&\n\ttest_tick &&\n\tgit commit -m J file1 &&\n\ttest_tick &&\n\tgit merge to-be-preserved &&\n\techo C > file1 &&\n\ttest_tick &&\n\tgit commit -m K file1 &&\n\techo D > file1 &&\n\ttest_tick &&\n\tgit commit -m L1 file1 &&\n\tgit checkout HEAD^ &&\n\techo 1 > unrelated-file &&\n\ttest_tick &&\n\tgit commit -m L2 unrelated-file &&\n\ttest_tick &&\n\tgit merge another-branch &&\n\techo E > file1 &&\n\ttest_tick &&\n\tgit commit -m M file1 &&\n\tgit checkout -b to-be-rebased &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tgit rebase -i -p --onto branch1 master &&\n\tgit update-index --refresh &&\n\tgit diff-files --quiet &&\n\tgit diff-index --quiet --cached HEAD -- &&\n\ttest $(git rev-parse HEAD~6) = $(git rev-parse branch1) &&\n\ttest $(git rev-parse HEAD~4^2) = $(git rev-parse to-be-preserved) &&\n\ttest $(git rev-parse HEAD^^2^) = $(git rev-parse HEAD^^^) &&\n\ttest $(git show HEAD~5:file1) = B &&\n\ttest $(git show HEAD~3:file1) = C &&\n\ttest $(git show HEAD:file1) = E &&\n\ttest $(git show HEAD:unrelated-file) = 1\n'\n\ntest_expect_success 'edit ancestor with -p' '\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 2 edit 3 4\" git rebase -i -p HEAD~3 &&\n\techo 2 > unrelated-file &&\n\ttest_tick &&\n\tgit commit -m L2-modified --amend unrelated-file &&\n\tgit rebase --continue &&\n\tgit update-index --refresh &&\n\tgit diff-files --quiet &&\n\tgit diff-index --quiet --cached HEAD -- &&\n\ttest $(git show HEAD:unrelated-file) = 2\n'\n\ntest_expect_success '--continue tries to commit' '\n\ttest_tick &&\n\tset_fake_editor &&\n\ttest_must_fail git rebase -i --onto new-branch1 HEAD^ &&\n\techo resolved > file1 &&\n\tgit add file1 &&\n\tFAKE_COMMIT_MESSAGE=\"chouette!\" git rebase --continue &&\n\ttest $(git rev-parse HEAD^) = $(git rev-parse new-branch1) &&\n\tgit show HEAD | grep chouette\n'\n\ntest_expect_success 'verbose flag is heeded, even after --continue' '\n\tgit reset --hard master@{1} &&\n\ttest_tick &&\n\tset_fake_editor &&\n\ttest_must_fail git rebase -v -i --onto new-branch1 HEAD^ &&\n\techo resolved > file1 &&\n\tgit add file1 &&\n\tgit rebase --continue > output &&\n\tgrep \"^ file1 | 2 +-$\" output\n'\n\ntest_expect_success C_LOCALE_OUTPUT 'multi-squash only fires up editor once' '\n\tbase=$(git rev-parse HEAD~4) &&\n\tset_fake_editor &&\n\tFAKE_COMMIT_AMEND=\"ONCE\" FAKE_LINES=\"1 squash 2 squash 3 squash 4\" \\\n\t\tEXPECT_HEADER_COUNT=4 \\\n\t\tgit rebase -i $base &&\n\ttest $base = $(git rev-parse HEAD^) &&\n\ttest 1 = $(git show | grep ONCE | wc -l)\n'\n\ntest_expect_success C_LOCALE_OUTPUT 'multi-fixup does not fire up editor' '\n\tgit checkout -b multi-fixup E &&\n\tbase=$(git rev-parse HEAD~4) &&\n\tset_fake_editor &&\n\tFAKE_COMMIT_AMEND=\"NEVER\" FAKE_LINES=\"1 fixup 2 fixup 3 fixup 4\" \\\n\t\tgit rebase -i $base &&\n\ttest $base = $(git rev-parse HEAD^) &&\n\ttest 0 = $(git show | grep NEVER | wc -l) &&\n\tgit checkout to-be-rebased &&\n\tgit branch -D multi-fixup\n'\n\ntest_expect_success 'commit message used after conflict' '\n\tgit checkout -b conflict-fixup conflict-branch &&\n\tbase=$(git rev-parse HEAD~4) &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"1 fixup 3 fixup 4\" git rebase -i $base &&\n\techo three > conflict &&\n\tgit add conflict &&\n\tFAKE_COMMIT_AMEND=\"ONCE\" EXPECT_HEADER_COUNT=2 \\\n\t\tgit rebase --continue &&\n\ttest $base = $(git rev-parse HEAD^) &&\n\ttest 1 = $(git show | grep ONCE | wc -l) &&\n\tgit checkout to-be-rebased &&\n\tgit branch -D conflict-fixup\n'\n\ntest_expect_success 'commit message retained after conflict' '\n\tgit checkout -b conflict-squash conflict-branch &&\n\tbase=$(git rev-parse HEAD~4) &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"1 fixup 3 squash 4\" git rebase -i $base &&\n\techo three > conflict &&\n\tgit add conflict &&\n\tFAKE_COMMIT_AMEND=\"TWICE\" EXPECT_HEADER_COUNT=2 \\\n\t\tgit rebase --continue &&\n\ttest $base = $(git rev-parse HEAD^) &&\n\ttest 2 = $(git show | grep TWICE | wc -l) &&\n\tgit checkout to-be-rebased &&\n\tgit branch -D conflict-squash\n'\n\ncat > expect-squash-fixup << EOF\nB\n\nD\n\nONCE\nEOF\n\ntest_expect_success C_LOCALE_OUTPUT 'squash and fixup generate correct log messages' '\n\tgit checkout -b squash-fixup E &&\n\tbase=$(git rev-parse HEAD~4) &&\n\tset_fake_editor &&\n\tFAKE_COMMIT_AMEND=\"ONCE\" FAKE_LINES=\"1 fixup 2 squash 3 fixup 4\" \\\n\t\tEXPECT_HEADER_COUNT=4 \\\n\t\tgit rebase -i $base &&\n\tgit cat-file commit HEAD | sed -e 1,/^\\$/d > actual-squash-fixup &&\n\ttest_cmp expect-squash-fixup actual-squash-fixup &&\n\tgit cat-file commit HEAD@{2} |\n\t\tgrep \"^# This is a combination of 3 commits\\.\"  &&\n\tgit cat-file commit HEAD@{3} |\n\t\tgrep \"^# This is a combination of 2 commits\\.\"  &&\n\tgit checkout to-be-rebased &&\n\tgit branch -D squash-fixup\n'\n\ntest_expect_success C_LOCALE_OUTPUT 'squash ignores comments' '\n\tgit checkout -b skip-comments E &&\n\tbase=$(git rev-parse HEAD~4) &&\n\tset_fake_editor &&\n\tFAKE_COMMIT_AMEND=\"ONCE\" FAKE_LINES=\"# 1 # squash 2 # squash 3 # squash 4 #\" \\\n\t\tEXPECT_HEADER_COUNT=4 \\\n\t\tgit rebase -i $base &&\n\ttest $base = $(git rev-parse HEAD^) &&\n\ttest 1 = $(git show | grep ONCE | wc -l) &&\n\tgit checkout to-be-rebased &&\n\tgit branch -D skip-comments\n'\n\ntest_expect_success C_LOCALE_OUTPUT 'squash ignores blank lines' '\n\tgit checkout -b skip-blank-lines E &&\n\tbase=$(git rev-parse HEAD~4) &&\n\tset_fake_editor &&\n\tFAKE_COMMIT_AMEND=\"ONCE\" FAKE_LINES=\"> 1 > squash 2 > squash 3 > squash 4 >\" \\\n\t\tEXPECT_HEADER_COUNT=4 \\\n\t\tgit rebase -i $base &&\n\ttest $base = $(git rev-parse HEAD^) &&\n\ttest 1 = $(git show | grep ONCE | wc -l) &&\n\tgit checkout to-be-rebased &&\n\tgit branch -D skip-blank-lines\n'\n\ntest_expect_success 'squash works as expected' '\n\tgit checkout -b squash-works no-conflict-branch &&\n\tone=$(git rev-parse HEAD~3) &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 s 3 2\" EXPECT_HEADER_COUNT=2 \\\n\t\tgit rebase -i HEAD~3 &&\n\ttest $one = $(git rev-parse HEAD~2)\n'\n\ntest_expect_success 'interrupted squash works as expected' '\n\tgit checkout -b interrupted-squash conflict-branch &&\n\tone=$(git rev-parse HEAD~3) &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"1 squash 3 2\" git rebase -i HEAD~3 &&\n\ttest_write_lines one two four > conflict &&\n\tgit add conflict &&\n\ttest_must_fail git rebase --continue &&\n\techo resolved > conflict &&\n\tgit add conflict &&\n\tgit rebase --continue &&\n\ttest $one = $(git rev-parse HEAD~2)\n'\n\ntest_expect_success 'interrupted squash works as expected (case 2)' '\n\tgit checkout -b interrupted-squash2 conflict-branch &&\n\tone=$(git rev-parse HEAD~3) &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"3 squash 1 2\" git rebase -i HEAD~3 &&\n\ttest_write_lines one four > conflict &&\n\tgit add conflict &&\n\ttest_must_fail git rebase --continue &&\n\ttest_write_lines one two four > conflict &&\n\tgit add conflict &&\n\ttest_must_fail git rebase --continue &&\n\techo resolved > conflict &&\n\tgit add conflict &&\n\tgit rebase --continue &&\n\ttest $one = $(git rev-parse HEAD~2)\n'\n\ntest_expect_success '--continue tries to commit, even for \"edit\"' '\n\techo unrelated > file7 &&\n\tgit add file7 &&\n\ttest_tick &&\n\tgit commit -m \"unrelated change\" &&\n\tparent=$(git rev-parse HEAD^) &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1\" git rebase -i HEAD^ &&\n\techo edited > file7 &&\n\tgit add file7 &&\n\tFAKE_COMMIT_MESSAGE=\"chouette!\" git rebase --continue &&\n\ttest edited = $(git show HEAD:file7) &&\n\tgit show HEAD | grep chouette &&\n\ttest $parent = $(git rev-parse HEAD^)\n'\n\ntest_expect_success 'aborted --continue does not squash commits after \"edit\"' '\n\told=$(git rev-parse HEAD) &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1\" git rebase -i HEAD^ &&\n\techo \"edited again\" > file7 &&\n\tgit add file7 &&\n\ttest_must_fail env FAKE_COMMIT_MESSAGE=\" \" git rebase --continue &&\n\ttest $old = $(git rev-parse HEAD) &&\n\tgit rebase --abort\n'\n\ntest_expect_success 'auto-amend only edited commits after \"edit\"' '\n\ttest_tick &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1\" git rebase -i HEAD^ &&\n\techo \"edited again\" > file7 &&\n\tgit add file7 &&\n\tFAKE_COMMIT_MESSAGE=\"edited file7 again\" git commit &&\n\techo \"and again\" > file7 &&\n\tgit add file7 &&\n\ttest_tick &&\n\ttest_must_fail env FAKE_COMMIT_MESSAGE=\"and again\" git rebase --continue &&\n\tgit rebase --abort\n'\n\ntest_expect_success 'clean error after failed \"exec\"' '\n\ttest_tick &&\n\ttest_when_finished \"git rebase --abort || :\" &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"1 exec_false\" git rebase -i HEAD^ &&\n\techo \"edited again\" > file7 &&\n\tgit add file7 &&\n\ttest_must_fail git rebase --continue 2>error &&\n\ttest_i18ngrep \"you have staged changes in your working tree\" error\n'\n\ntest_expect_success 'rebase a detached HEAD' '\n\tgrandparent=$(git rev-parse HEAD~2) &&\n\tgit checkout $(git rev-parse HEAD) &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"2 1\" git rebase -i HEAD~2 &&\n\ttest $grandparent = $(git rev-parse HEAD~2)\n'\n\ntest_expect_success 'rebase a commit violating pre-commit' '\n\n\tmkdir -p .git/hooks &&\n\twrite_script .git/hooks/pre-commit <<-\\EOF &&\n\ttest -z \"$(git diff --cached --check)\"\n\tEOF\n\techo \"monde! \" >> file1 &&\n\ttest_tick &&\n\ttest_must_fail git commit -m doesnt-verify file1 &&\n\tgit commit -m doesnt-verify --no-verify file1 &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tFAKE_LINES=2 git rebase -i HEAD~2\n\n'\n\ntest_expect_success 'rebase with a file named HEAD in worktree' '\n\n\trm -fr .git/hooks &&\n\tgit reset --hard &&\n\tgit checkout -b branch3 A &&\n\n\t(\n\t\tGIT_AUTHOR_NAME=\"Squashed Away\" &&\n\t\texport GIT_AUTHOR_NAME &&\n\t\t>HEAD &&\n\t\tgit add HEAD &&\n\t\tgit commit -m \"Add head\" &&\n\t\t>BODY &&\n\t\tgit add BODY &&\n\t\tgit commit -m \"Add body\"\n\t) &&\n\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 squash 2\" git rebase -i to-be-rebased &&\n\ttest \"$(git show -s --pretty=format:%an)\" = \"Squashed Away\"\n\n'\n\ntest_expect_success 'do \"noop\" when there is nothing to cherry-pick' '\n\n\tgit checkout -b branch4 HEAD &&\n\tGIT_EDITOR=: git commit --amend \\\n\t\t--author=\"Somebody else <somebody@else.com>\" &&\n\ttest $(git rev-parse branch3) != $(git rev-parse branch4) &&\n\tset_fake_editor &&\n\tgit rebase -i branch3 &&\n\ttest $(git rev-parse branch3) = $(git rev-parse branch4)\n\n'\n\ntest_expect_success 'submodule rebase setup' '\n\tgit checkout A &&\n\tmkdir sub &&\n\t(\n\t\tcd sub && git init && >elif &&\n\t\tgit add elif && git commit -m \"submodule initial\"\n\t) &&\n\techo 1 >file1 &&\n\tgit add file1 sub &&\n\ttest_tick &&\n\tgit commit -m \"One\" &&\n\techo 2 >file1 &&\n\ttest_tick &&\n\tgit commit -a -m \"Two\" &&\n\t(\n\t\tcd sub && echo 3 >elif &&\n\t\tgit commit -a -m \"submodule second\"\n\t) &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tgit commit -a -m \"Three changes submodule\"\n'\n\ntest_expect_success 'submodule rebase -i' '\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 squash 2 3\" git rebase -i A\n'\n\ntest_expect_success 'submodule conflict setup' '\n\tgit tag submodule-base &&\n\tgit checkout HEAD^ &&\n\t(\n\t\tcd sub && git checkout HEAD^ && echo 4 >elif &&\n\t\tgit add elif && git commit -m \"submodule conflict\"\n\t) &&\n\tgit add sub &&\n\ttest_tick &&\n\tgit commit -m \"Conflict in submodule\" &&\n\tgit tag submodule-topic\n'\n\ntest_expect_success 'rebase -i continue with only submodule staged' '\n\tset_fake_editor &&\n\ttest_must_fail git rebase -i submodule-base &&\n\tgit add sub &&\n\tgit rebase --continue &&\n\ttest $(git rev-parse submodule-base) != $(git rev-parse HEAD)\n'\n\ntest_expect_success 'rebase -i continue with unstaged submodule' '\n\tgit checkout submodule-topic &&\n\tgit reset --hard &&\n\tset_fake_editor &&\n\ttest_must_fail git rebase -i submodule-base &&\n\tgit reset &&\n\tgit rebase --continue &&\n\ttest $(git rev-parse submodule-base) = $(git rev-parse HEAD)\n'\n\ntest_expect_success 'avoid unnecessary reset' '\n\tgit checkout master &&\n\tgit reset --hard &&\n\ttest-tool chmtime =123456789 file3 &&\n\tgit update-index --refresh &&\n\tHEAD=$(git rev-parse HEAD) &&\n\tset_fake_editor &&\n\tgit rebase -i HEAD~4 &&\n\ttest $HEAD = $(git rev-parse HEAD) &&\n\tMTIME=$(test-tool chmtime --get file3) &&\n\ttest 123456789 = $MTIME\n'\n\ntest_expect_success 'reword' '\n\tgit checkout -b reword-branch master &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 2 3 reword 4\" FAKE_COMMIT_MESSAGE=\"E changed\" git rebase -i A &&\n\tgit show HEAD | grep \"E changed\" &&\n\ttest $(git rev-parse master) != $(git rev-parse HEAD) &&\n\ttest $(git rev-parse master^) = $(git rev-parse HEAD^) &&\n\tFAKE_LINES=\"1 2 reword 3 4\" FAKE_COMMIT_MESSAGE=\"D changed\" git rebase -i A &&\n\tgit show HEAD^ | grep \"D changed\" &&\n\tFAKE_LINES=\"reword 1 2 3 4\" FAKE_COMMIT_MESSAGE=\"B changed\" git rebase -i A &&\n\tgit show HEAD~3 | grep \"B changed\" &&\n\tFAKE_LINES=\"1 r 2 pick 3 p 4\" FAKE_COMMIT_MESSAGE=\"C changed\" git rebase -i A &&\n\tgit show HEAD~2 | grep \"C changed\"\n'\n\ntest_expect_success 'rebase -i can copy notes' '\n\tgit config notes.rewrite.rebase true &&\n\tgit config notes.rewriteRef \"refs/notes/*\" &&\n\ttest_commit n1 &&\n\ttest_commit n2 &&\n\ttest_commit n3 &&\n\tgit notes add -m\"a note\" n3 &&\n\tset_fake_editor &&\n\tgit rebase -i --onto n1 n2 &&\n\ttest \"a note\" = \"$(git notes show HEAD)\"\n'\n\ncat >expect <<EOF\nan earlier note\n\na note\nEOF\n\ntest_expect_success 'rebase -i can copy notes over a fixup' '\n\tgit reset --hard n3 &&\n\tgit notes add -m\"an earlier note\" n2 &&\n\tset_fake_editor &&\n\tGIT_NOTES_REWRITE_MODE=concatenate FAKE_LINES=\"1 f 2\" git rebase -i n1 &&\n\tgit notes show > output &&\n\ttest_cmp expect output\n'\n\ntest_expect_success 'rebase while detaching HEAD' '\n\tgit symbolic-ref HEAD &&\n\tgrandparent=$(git rev-parse HEAD~2) &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"2 1\" git rebase -i HEAD~2 HEAD^0 &&\n\ttest $grandparent = $(git rev-parse HEAD~2) &&\n\ttest_must_fail git symbolic-ref HEAD\n'\n\ntest_tick # Ensure that the rebased commits get a different timestamp.\ntest_expect_success 'always cherry-pick with --no-ff' '\n\tgit checkout no-ff-branch &&\n\tgit tag original-no-ff-branch &&\n\tset_fake_editor &&\n\tgit rebase -i --no-ff A &&\n\tfor p in 0 1 2\n\tdo\n\t\ttest ! $(git rev-parse HEAD~$p) = $(git rev-parse original-no-ff-branch~$p) &&\n\t\tgit diff HEAD~$p original-no-ff-branch~$p > out &&\n\t\ttest_must_be_empty out\n\tdone &&\n\ttest $(git rev-parse HEAD~3) = $(git rev-parse original-no-ff-branch~3) &&\n\tgit diff HEAD~3 original-no-ff-branch~3 > out &&\n\ttest_must_be_empty out\n'\n\ntest_expect_success 'set up commits with funny messages' '\n\tgit checkout -b funny A &&\n\techo >>file1 &&\n\ttest_tick &&\n\tgit commit -a -m \"end with slash\\\\\" &&\n\techo >>file1 &&\n\ttest_tick &&\n\tgit commit -a -m \"something (\\000) that looks like octal\" &&\n\techo >>file1 &&\n\ttest_tick &&\n\tgit commit -a -m \"something (\\n) that looks like a newline\" &&\n\techo >>file1 &&\n\ttest_tick &&\n\tgit commit -a -m \"another commit\"\n'\n\ntest_expect_success 'rebase-i history with funny messages' '\n\tgit rev-list A..funny >expect &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 2 3 4\" git rebase -i A &&\n\tgit rev-list A.. >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'prepare for rebase -i --exec' '\n\tgit checkout master &&\n\tgit checkout -b execute &&\n\ttest_commit one_exec main.txt one_exec &&\n\ttest_commit two_exec main.txt two_exec &&\n\ttest_commit three_exec main.txt three_exec\n'\n\ntest_expect_success 'running \"git rebase -i --exec git show HEAD\"' '\n\tset_fake_editor &&\n\tgit rebase -i --exec \"git show HEAD\" HEAD~2 >actual &&\n\t(\n\t\tFAKE_LINES=\"1 exec_git_show_HEAD 2 exec_git_show_HEAD\" &&\n\t\texport FAKE_LINES &&\n\t\tgit rebase -i HEAD~2 >expect\n\t) &&\n\tsed -e \"1,9d\" expect >expected &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'running \"git rebase --exec git show HEAD -i\"' '\n\tgit reset --hard execute &&\n\tset_fake_editor &&\n\tgit rebase --exec \"git show HEAD\" -i HEAD~2 >actual &&\n\t(\n\t\tFAKE_LINES=\"1 exec_git_show_HEAD 2 exec_git_show_HEAD\" &&\n\t\texport FAKE_LINES &&\n\t\tgit rebase -i HEAD~2 >expect\n\t) &&\n\tsed -e \"1,9d\" expect >expected &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'running \"git rebase -ix git show HEAD\"' '\n\tgit reset --hard execute &&\n\tset_fake_editor &&\n\tgit rebase -ix \"git show HEAD\" HEAD~2 >actual &&\n\t(\n\t\tFAKE_LINES=\"1 exec_git_show_HEAD 2 exec_git_show_HEAD\" &&\n\t\texport FAKE_LINES &&\n\t\tgit rebase -i HEAD~2 >expect\n\t) &&\n\tsed -e \"1,9d\" expect >expected &&\n\ttest_cmp expected actual\n'\n\n\ntest_expect_success 'rebase -ix with several <CMD>' '\n\tgit reset --hard execute &&\n\tset_fake_editor &&\n\tgit rebase -ix \"git show HEAD; pwd\" HEAD~2 >actual &&\n\t(\n\t\tFAKE_LINES=\"1 exec_git_show_HEAD;_pwd 2 exec_git_show_HEAD;_pwd\" &&\n\t\texport FAKE_LINES &&\n\t\tgit rebase -i HEAD~2 >expect\n\t) &&\n\tsed -e \"1,9d\" expect >expected &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'rebase -ix with several instances of --exec' '\n\tgit reset --hard execute &&\n\tset_fake_editor &&\n\tgit rebase -i --exec \"git show HEAD\" --exec \"pwd\" HEAD~2 >actual &&\n\t(\n\t\tFAKE_LINES=\"1 exec_git_show_HEAD exec_pwd 2\n\t\t\t\texec_git_show_HEAD exec_pwd\" &&\n\t\texport FAKE_LINES &&\n\t\tgit rebase -i HEAD~2 >expect\n\t) &&\n\tsed -e \"1,11d\" expect >expected &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success C_LOCALE_OUTPUT 'rebase -ix with --autosquash' '\n\tgit reset --hard execute &&\n\tgit checkout -b autosquash &&\n\techo second >second.txt &&\n\tgit add second.txt &&\n\tgit commit -m \"fixup! two_exec\" &&\n\techo bis >bis.txt &&\n\tgit add bis.txt &&\n\tgit commit -m \"fixup! two_exec\" &&\n\tset_fake_editor &&\n\t(\n\t\tgit checkout -b autosquash_actual &&\n\t\tgit rebase -i --exec \"git show HEAD\" --autosquash HEAD~4 >actual\n\t) &&\n\tgit checkout autosquash &&\n\t(\n\t\tgit checkout -b autosquash_expected &&\n\t\tFAKE_LINES=\"1 fixup 3 fixup 4 exec_git_show_HEAD 2 exec_git_show_HEAD\" &&\n\t\texport FAKE_LINES &&\n\t\tgit rebase -i HEAD~4 >expect\n\t) &&\n\tsed -e \"1,13d\" expect >expected &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'rebase --exec works without -i ' '\n\tgit reset --hard execute &&\n\trm -rf exec_output &&\n\tEDITOR=\"echo >invoked_editor\" git rebase --exec \"echo a line >>exec_output\"  HEAD~2 2>actual &&\n\ttest_i18ngrep  \"Successfully rebased and updated\" actual &&\n\ttest_line_count = 2 exec_output &&\n\ttest_path_is_missing invoked_editor\n'\n\ntest_expect_success 'rebase -i --exec without <CMD>' '\n\tgit reset --hard execute &&\n\tset_fake_editor &&\n\ttest_must_fail git rebase -i --exec 2>actual &&\n\ttest_i18ngrep \"requires a value\" actual &&\n\tgit checkout master\n'\n\ntest_expect_success 'rebase -i --root re-order and drop commits' '\n\tgit checkout E &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"3 1 2 5\" git rebase -i --root &&\n\ttest E = $(git cat-file commit HEAD | sed -ne \\$p) &&\n\ttest B = $(git cat-file commit HEAD^ | sed -ne \\$p) &&\n\ttest A = $(git cat-file commit HEAD^^ | sed -ne \\$p) &&\n\ttest C = $(git cat-file commit HEAD^^^ | sed -ne \\$p) &&\n\ttest 0 = $(git cat-file commit HEAD^^^ | grep -c ^parent\\ )\n'\n\ntest_expect_success 'rebase -i --root retain root commit author and message' '\n\tgit checkout A &&\n\techo B >file7 &&\n\tgit add file7 &&\n\tGIT_AUTHOR_NAME=\"Twerp Snog\" git commit -m \"different author\" &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"2\" git rebase -i --root &&\n\tgit cat-file commit HEAD | grep -q \"^author Twerp Snog\" &&\n\tgit cat-file commit HEAD | grep -q \"^different author$\"\n'\n\ntest_expect_success 'rebase -i --root temporary sentinel commit' '\n\tgit checkout B &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"2\" git rebase -i --root &&\n\tgit cat-file commit HEAD | grep \"^tree 4b825dc642cb\" &&\n\tgit rebase --abort\n'\n\ntest_expect_success 'rebase -i --root fixup root commit' '\n\tgit checkout B &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 fixup 2\" git rebase -i --root &&\n\ttest A = $(git cat-file commit HEAD | sed -ne \\$p) &&\n\ttest B = $(git show HEAD:file1) &&\n\ttest 0 = $(git cat-file commit HEAD | grep -c ^parent\\ )\n'\n\ntest_expect_success 'rebase -i --root reword root commit' '\n\ttest_when_finished \"test_might_fail git rebase --abort\" &&\n\tgit checkout -b reword-root-branch master &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"reword 1 2\" FAKE_COMMIT_MESSAGE=\"A changed\" \\\n\tgit rebase -i --root &&\n\tgit show HEAD^ | grep \"A changed\" &&\n\ttest -z \"$(git show -s --format=%p HEAD^)\"\n'\n\ntest_expect_success 'rebase -i --root when root has untracked file confilct' '\n\ttest_when_finished \"reset_rebase\" &&\n\tgit checkout -b failing-root-pick A &&\n\techo x >file2 &&\n\tgit rm file1 &&\n\tgit commit -m \"remove file 1 add file 2\" &&\n\techo z >file1 &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"1 2\" git rebase -i --root &&\n\trm file1 &&\n\tgit rebase --continue &&\n\ttest \"$(git log -1 --format=%B)\" = \"remove file 1 add file 2\" &&\n\ttest \"$(git rev-list --count HEAD)\" = 2\n'\n\ntest_expect_success 'rebase -i --root reword root when root has untracked file conflict' '\n\ttest_when_finished \"reset_rebase\" &&\n\techo z>file1 &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"reword 1 2\" \\\n\t\tFAKE_COMMIT_MESSAGE=\"Modified A\" git rebase -i --root &&\n\trm file1 &&\n\tFAKE_COMMIT_MESSAGE=\"Reworded A\" git rebase --continue &&\n\ttest \"$(git log -1 --format=%B HEAD^)\" = \"Reworded A\" &&\n\ttest \"$(git rev-list --count HEAD)\" = 2\n'\n\ntest_expect_success C_LOCALE_OUTPUT 'rebase --edit-todo does not work on non-interactive rebase' '\n\tgit checkout reword-root-branch &&\n\tgit reset --hard &&\n\tgit checkout conflict-branch &&\n\tset_fake_editor &&\n\ttest_must_fail git rebase --onto HEAD~2 HEAD~ &&\n\ttest_must_fail git rebase --edit-todo &&\n\tgit rebase --abort\n'\n\ntest_expect_success 'rebase --edit-todo can be used to modify todo' '\n\tgit reset --hard &&\n\tgit checkout no-conflict-branch^0 &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1 2 3\" git rebase -i HEAD~3 &&\n\tFAKE_LINES=\"2 1\" git rebase --edit-todo &&\n\tgit rebase --continue &&\n\ttest M = $(git cat-file commit HEAD^ | sed -ne \\$p) &&\n\ttest L = $(git cat-file commit HEAD | sed -ne \\$p)\n'\n\ntest_expect_success 'rebase -i produces readable reflog' '\n\tgit reset --hard &&\n\tgit branch -f branch-reflog-test H &&\n\tset_fake_editor &&\n\tgit rebase -i --onto I F branch-reflog-test &&\n\tcat >expect <<-\\EOF &&\n\trebase -i (finish): returning to refs/heads/branch-reflog-test\n\trebase -i (pick): H\n\trebase -i (pick): G\n\trebase -i (start): checkout I\n\tEOF\n\tgit reflog -n4 HEAD |\n\tsed \"s/[^:]*: //\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'rebase -i respects core.commentchar' '\n\tgit reset --hard &&\n\tgit checkout E^0 &&\n\ttest_config core.commentchar \"\\\\\" &&\n\twrite_script remove-all-but-first.sh <<-\\EOF &&\n\tsed -e \"2,\\$s/^/\\\\\\\\/\" \"$1\" >\"$1.tmp\" &&\n\tmv \"$1.tmp\" \"$1\"\n\tEOF\n\ttest_set_editor \"$(pwd)/remove-all-but-first.sh\" &&\n\tgit rebase -i B &&\n\ttest B = $(git cat-file commit HEAD^ | sed -ne \\$p)\n'\n\ntest_expect_success 'rebase -i respects core.commentchar=auto' '\n\ttest_config core.commentchar auto &&\n\twrite_script copy-edit-script.sh <<-\\EOF &&\n\tcp \"$1\" edit-script\n\tEOF\n\ttest_set_editor \"$(pwd)/copy-edit-script.sh\" &&\n\ttest_when_finished \"git rebase --abort || :\" &&\n\tgit rebase -i HEAD^ &&\n\ttest -z \"$(grep -ve \"^#\" -e \"^\\$\" -e \"^pick\" edit-script)\"\n'\n\ntest_expect_success 'rebase -i, with <onto> and <upstream> specified as :/quuxery' '\n\ttest_when_finished \"git branch -D torebase\" &&\n\tgit checkout -b torebase branch1 &&\n\tupstream=$(git rev-parse \":/J\") &&\n\tonto=$(git rev-parse \":/A\") &&\n\tgit rebase --onto $onto $upstream &&\n\tgit reset --hard branch1 &&\n\tgit rebase --onto \":/A\" \":/J\" &&\n\tgit checkout branch1\n'\n\ntest_expect_success 'rebase -i with --strategy and -X' '\n\tgit checkout -b conflict-merge-use-theirs conflict-branch &&\n\tgit reset --hard HEAD^ &&\n\techo five >conflict &&\n\techo Z >file1 &&\n\tgit commit -a -m \"one file conflict\" &&\n\tEDITOR=true git rebase -i --strategy=recursive -Xours conflict-branch &&\n\ttest $(git show conflict-branch:conflict) = $(cat conflict) &&\n\ttest $(cat file1) = Z\n'\n\ntest_expect_success 'interrupted rebase -i with --strategy and -X' '\n\tgit checkout -b conflict-merge-use-theirs-interrupted conflict-branch &&\n\tgit reset --hard HEAD^ &&\n\t>breakpoint &&\n\tgit add breakpoint &&\n\tgit commit -m \"breakpoint for interactive mode\" &&\n\techo five >conflict &&\n\techo Z >file1 &&\n\tgit commit -a -m \"one file conflict\" &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1 2\" git rebase -i --strategy=recursive -Xours conflict-branch &&\n\tgit rebase --continue &&\n\ttest $(git show conflict-branch:conflict) = $(cat conflict) &&\n\ttest $(cat file1) = Z\n'\n\ntest_expect_success 'rebase -i error on commits with \\ in message' '\n\tcurrent_head=$(git rev-parse HEAD) &&\n\ttest_when_finished \"git rebase --abort; git reset --hard $current_head; rm -f error\" &&\n\ttest_commit TO-REMOVE will-conflict old-content &&\n\ttest_commit \"\\temp\" will-conflict new-content dummy &&\n\ttest_must_fail env EDITOR=true git rebase -i HEAD^ --onto HEAD^^ 2>error &&\n\ttest_expect_code 1 grep  \"\temp\" error\n'\n\ntest_expect_success 'short SHA-1 setup' '\n\ttest_when_finished \"git checkout master\" &&\n\tgit checkout --orphan collide &&\n\tgit rm -rf . &&\n\t(\n\tunset test_tick &&\n\ttest_commit collide1 collide &&\n\ttest_commit --notick collide2 collide &&\n\ttest_commit --notick collide3 collide\n\t)\n'\n\ntest_expect_success 'short SHA-1 collide' '\n\ttest_when_finished \"reset_rebase && git checkout master\" &&\n\tgit checkout collide &&\n\t(\n\tunset test_tick &&\n\ttest_tick &&\n\tset_fake_editor &&\n\tFAKE_COMMIT_MESSAGE=\"collide2 ac4f2ee\" \\\n\tFAKE_LINES=\"reword 1 2\" git rebase -i HEAD~2\n\t)\n'\n\ntest_expect_success 'respect core.abbrev' '\n\tgit config core.abbrev 12 &&\n\tset_cat_todo_editor &&\n\ttest_must_fail git rebase -i HEAD~4 >todo-list &&\n\ttest 4 = $(grep -c \"pick [0-9a-f]\\{12,\\}\" todo-list)\n'\n\ntest_expect_success 'todo count' '\n\twrite_script dump-raw.sh <<-\\EOF &&\n\t\tcat \"$1\"\n\tEOF\n\ttest_set_editor \"$(pwd)/dump-raw.sh\" &&\n\tgit rebase -i HEAD~4 >actual &&\n\ttest_i18ngrep \"^# Rebase ..* onto ..* ([0-9]\" actual\n'\n\ntest_expect_success 'rebase -i commits that overwrite untracked files (pick)' '\n\tgit checkout --force branch2 &&\n\tgit clean -f &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1 2\" git rebase -i A &&\n\ttest_cmp_rev HEAD F &&\n\ttest_path_is_missing file6 &&\n\t>file6 &&\n\ttest_must_fail git rebase --continue &&\n\ttest_cmp_rev HEAD F &&\n\trm file6 &&\n\tgit rebase --continue &&\n\ttest_cmp_rev HEAD I\n'\n\ntest_expect_success 'rebase -i commits that overwrite untracked files (squash)' '\n\tgit checkout --force branch2 &&\n\tgit clean -f &&\n\tgit tag original-branch2 &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1 squash 2\" git rebase -i A &&\n\ttest_cmp_rev HEAD F &&\n\ttest_path_is_missing file6 &&\n\t>file6 &&\n\ttest_must_fail git rebase --continue &&\n\ttest_cmp_rev HEAD F &&\n\trm file6 &&\n\tgit rebase --continue &&\n\ttest $(git cat-file commit HEAD | sed -ne \\$p) = I &&\n\tgit reset --hard original-branch2\n'\n\ntest_expect_success 'rebase -i commits that overwrite untracked files (no ff)' '\n\tgit checkout --force branch2 &&\n\tgit clean -f &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1 2\" git rebase -i --no-ff A &&\n\ttest $(git cat-file commit HEAD | sed -ne \\$p) = F &&\n\ttest_path_is_missing file6 &&\n\t>file6 &&\n\ttest_must_fail git rebase --continue &&\n\ttest $(git cat-file commit HEAD | sed -ne \\$p) = F &&\n\trm file6 &&\n\tgit rebase --continue &&\n\ttest $(git cat-file commit HEAD | sed -ne \\$p) = I\n'\n\ntest_expect_success 'rebase --continue removes CHERRY_PICK_HEAD' '\n\tgit checkout -b commit-to-skip &&\n\tfor double in X 3 1\n\tdo\n\t\ttest_seq 5 | sed \"s/$double/&&/\" >seq &&\n\t\tgit add seq &&\n\t\ttest_tick &&\n\t\tgit commit -m seq-$double\n\tdone &&\n\tgit tag seq-onto &&\n\tgit reset --hard HEAD~2 &&\n\tgit cherry-pick seq-onto &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES= git rebase -i seq-onto &&\n\ttest -d .git/rebase-merge &&\n\tgit rebase --continue &&\n\tgit diff --exit-code seq-onto &&\n\ttest ! -d .git/rebase-merge &&\n\ttest ! -f .git/CHERRY_PICK_HEAD\n'\n\nrebase_setup_and_clean () {\n\ttest_when_finished \"\n\t\tgit checkout master &&\n\t\ttest_might_fail git branch -D $1 &&\n\t\ttest_might_fail git rebase --abort\n\t\" &&\n\tgit checkout -b $1 ${2:-master}\n}\n\ntest_expect_success 'drop' '\n\trebase_setup_and_clean drop-test &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 drop 2 3 d 4 5\" git rebase -i --root &&\n\ttest E = $(git cat-file commit HEAD | sed -ne \\$p) &&\n\ttest C = $(git cat-file commit HEAD^ | sed -ne \\$p) &&\n\ttest A = $(git cat-file commit HEAD^^ | sed -ne \\$p)\n'\n\ntest_expect_success 'rebase -i respects rebase.missingCommitsCheck = ignore' '\n\ttest_config rebase.missingCommitsCheck ignore &&\n\trebase_setup_and_clean missing-commit &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 2 3 4\" \\\n\t\tgit rebase -i --root 2>actual &&\n\ttest D = $(git cat-file commit HEAD | sed -ne \\$p) &&\n\ttest_i18ngrep \\\n\t\t\"Successfully rebased and updated refs/heads/missing-commit\" \\\n\t\tactual\n'\n\ncat >expect <<EOF\nWarning: some commits may have been dropped accidentally.\nDropped commits (newer to older):\n - $(git rev-list --pretty=oneline --abbrev-commit -1 master)\nTo avoid this message, use \"drop\" to explicitly remove a commit.\n\nUse 'git config rebase.missingCommitsCheck' to change the level of warnings.\nThe possible behaviours are: ignore, warn, error.\n\nRebasing (1/4)\nRebasing (2/4)\nRebasing (3/4)\nRebasing (4/4)\nSuccessfully rebased and updated refs/heads/missing-commit.\nEOF\n\ncr_to_nl () {\n\ttr '\\015' '\\012'\n}\n\ntest_expect_success 'rebase -i respects rebase.missingCommitsCheck = warn' '\n\ttest_config rebase.missingCommitsCheck warn &&\n\trebase_setup_and_clean missing-commit &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"1 2 3 4\" \\\n\t\tgit rebase -i --root 2>actual.2 &&\n\tcr_to_nl <actual.2 >actual &&\n\ttest_i18ncmp expect actual &&\n\ttest D = $(git cat-file commit HEAD | sed -ne \\$p)\n'\n\ncat >expect <<EOF\nWarning: some commits may have been dropped accidentally.\nDropped commits (newer to older):\n - $(git rev-list --pretty=oneline --abbrev-commit -1 master)\n - $(git rev-list --pretty=oneline --abbrev-commit -1 master~2)\nTo avoid this message, use \"drop\" to explicitly remove a commit.\n\nUse 'git config rebase.missingCommitsCheck' to change the level of warnings.\nThe possible behaviours are: ignore, warn, error.\n\nYou can fix this with 'git rebase --edit-todo' and then run 'git rebase --continue'.\nOr you can abort the rebase with 'git rebase --abort'.\nEOF\n\ntest_expect_success 'rebase -i respects rebase.missingCommitsCheck = error' '\n\ttest_config rebase.missingCommitsCheck error &&\n\trebase_setup_and_clean missing-commit &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"1 2 4\" \\\n\t\tgit rebase -i --root 2>actual &&\n\ttest_i18ncmp expect actual &&\n\tcp .git/rebase-merge/git-rebase-todo.backup \\\n\t\t.git/rebase-merge/git-rebase-todo &&\n\tFAKE_LINES=\"1 2 drop 3 4 drop 5\" \\\n\t\tgit rebase --edit-todo &&\n\tgit rebase --continue &&\n\ttest D = $(git cat-file commit HEAD | sed -ne \\$p) &&\n\ttest B = $(git cat-file commit HEAD^ | sed -ne \\$p)\n'\n\ntest_expect_success 'respects rebase.abbreviateCommands with fixup, squash and exec' '\n\trebase_setup_and_clean abbrevcmd &&\n\ttest_commit \"first\" file1.txt \"first line\" first &&\n\ttest_commit \"second\" file1.txt \"another line\" second &&\n\ttest_commit \"fixup! first\" file2.txt \"first line again\" first_fixup &&\n\ttest_commit \"squash! second\" file1.txt \"another line here\" second_squash &&\n\tcat >expected <<-EOF &&\n\tp $(git rev-list --abbrev-commit -1 first) first\n\tf $(git rev-list --abbrev-commit -1 first_fixup) fixup! first\n\tx git show HEAD\n\tp $(git rev-list --abbrev-commit -1 second) second\n\ts $(git rev-list --abbrev-commit -1 second_squash) squash! second\n\tx git show HEAD\n\tEOF\n\tgit checkout abbrevcmd &&\n\tset_cat_todo_editor &&\n\ttest_config rebase.abbreviateCommands true &&\n\ttest_must_fail git rebase -i --exec \"git show HEAD\" \\\n\t\t--autosquash master >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'static check of bad command' '\n\trebase_setup_and_clean bad-cmd &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"1 2 3 bad 4 5\" \\\n\t\tgit rebase -i --root 2>actual &&\n\ttest_i18ngrep \"badcmd $(git rev-list --oneline -1 master~1)\" actual &&\n\ttest_i18ngrep \"You can fix this with .git rebase --edit-todo..\" actual &&\n\tFAKE_LINES=\"1 2 3 drop 4 5\" git rebase --edit-todo &&\n\tgit rebase --continue &&\n\ttest E = $(git cat-file commit HEAD | sed -ne \\$p) &&\n\ttest C = $(git cat-file commit HEAD^ | sed -ne \\$p)\n'\n\ntest_expect_success 'tabs and spaces are accepted in the todolist' '\n\trebase_setup_and_clean indented-comment &&\n\twrite_script add-indent.sh <<-\\EOF &&\n\t(\n\t\t# Turn single spaces into space/tab mix\n\t\tsed \"1s/ /\t/g; 2s/ /  /g; 3s/ / \t/g\" \"$1\"\n\t\tprintf \"\\n\\t# comment\\n #more\\n\\t # comment\\n\"\n\t) >\"$1.new\"\n\tmv \"$1.new\" \"$1\"\n\tEOF\n\ttest_set_editor \"$(pwd)/add-indent.sh\" &&\n\tgit rebase -i HEAD^^^ &&\n\ttest E = $(git cat-file commit HEAD | sed -ne \\$p)\n'\n\ntest_expect_success 'static check of bad SHA-1' '\n\trebase_setup_and_clean bad-sha &&\n\tset_fake_editor &&\n\ttest_must_fail env FAKE_LINES=\"1 2 edit fakesha 3 4 5 #\" \\\n\t\tgit rebase -i --root 2>actual &&\n\ttest_i18ngrep \"edit XXXXXXX False commit\" actual &&\n\ttest_i18ngrep \"You can fix this with .git rebase --edit-todo..\" actual &&\n\tFAKE_LINES=\"1 2 4 5 6\" git rebase --edit-todo &&\n\tgit rebase --continue &&\n\ttest E = $(git cat-file commit HEAD | sed -ne \\$p)\n'\n\ntest_expect_success 'editor saves as CR/LF' '\n\tgit checkout -b with-crlf &&\n\twrite_script add-crs.sh <<-\\EOF &&\n\tsed -e \"s/\\$/Q/\" <\"$1\" | tr Q \"\\\\015\" >\"$1\".new &&\n\tmv -f \"$1\".new \"$1\"\n\tEOF\n\t(\n\t\ttest_set_editor \"$(pwd)/add-crs.sh\" &&\n\t\tgit rebase -i HEAD^\n\t)\n'\n\nSQ=\"'\"\ntest_expect_success 'rebase -i --gpg-sign=<key-id>' '\n\ttest_when_finished \"test_might_fail git rebase --abort\" &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1\" git rebase -i --gpg-sign=\"\\\"S I Gner\\\"\" HEAD^ \\\n\t\t>out 2>err &&\n\ttest_i18ngrep \"$SQ-S\\\"S I Gner\\\"$SQ\" err\n'\n\ntest_expect_success 'rebase -i --gpg-sign=<key-id> overrides commit.gpgSign' '\n\ttest_when_finished \"test_might_fail git rebase --abort\" &&\n\ttest_config commit.gpgsign true &&\n\tset_fake_editor &&\n\tFAKE_LINES=\"edit 1\" git rebase -i --gpg-sign=\"\\\"S I Gner\\\"\" HEAD^ \\\n\t\t>out 2>err &&\n\ttest_i18ngrep \"$SQ-S\\\"S I Gner\\\"$SQ\" err\n'\n\ntest_expect_success 'valid author header after --root swap' '\n\trebase_setup_and_clean author-header no-conflict-branch &&\n\tset_fake_editor &&\n\tgit commit --amend --author=\"Au ${SQ}thor <author@example.com>\" --no-edit &&\n\tgit cat-file commit HEAD | grep ^author >expected &&\n\tFAKE_LINES=\"5 1\" git rebase -i --root &&\n\tgit cat-file commit HEAD^ | grep ^author >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'valid author header when author contains single quote' '\n\trebase_setup_and_clean author-header no-conflict-branch &&\n\tset_fake_editor &&\n\tgit commit --amend --author=\"Au ${SQ}thor <author@example.com>\" --no-edit &&\n\tgit cat-file commit HEAD | grep ^author >expected &&\n\tFAKE_LINES=\"2\" git rebase -i HEAD~2 &&\n\tgit cat-file commit HEAD | grep ^author >actual &&\n\ttest_cmp expected actual\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "0075ac5c2a8745513e1e8c496ca6e276158c8d2b",
  "sha1_ok": true,
  "size": 43751
}
