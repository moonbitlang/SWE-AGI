{
  "content": {
    "base64": "U2V0dGluZyB1cCBnaXQtbXVsdGltYWlsIG9uIGdpdG9saXRlCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKYGBnaXQtbXVsdGltYWlsYGAgc3VwcG9ydHMgZ2l0b2xpdGUgMyBuYXRpdmVseS4KVGhlIGV4cGxhbmF0aW9ucyBiZWxvdyBzaG93IGFuIGVhc3kgd2F5IHRvIHNldCB1cCBgYGdpdC1tdWx0aW1haWxgYCwKYnV0IGxlYXZlIGBgZ2l0LW11bHRpbWFpbGBgIGluc3RhbGxlZCBhbmQgdW5jb25maWd1cmVkIGZvciBhIHdoaWxlLiBJZgp5b3UgcnVuIGdpdG9saXRlIG9uIGEgcHJvZHVjdGlvbiBzZXJ2ZXIsIGl0IGlzIGFkdmlzZWQgdGhhdCB5b3UKZXhlY3V0ZSB0aGUgc3RlcCAiU2V0IHVwIHRoZSBob29rIiBsYXN0IHRvIGF2b2lkIGNvbmZ1c2luZyB5b3VyIHVzZXJzCmluIHRoZSBtZWFudGltZS4KClNldCB1cCB0aGUgaG9vawotLS0tLS0tLS0tLS0tLS0KCkxvZyBpbiBhcyB5b3VyIGdpdG9saXRlIHVzZXIuCgpDcmVhdGUgYSBmaWxlIGBgLmdpdG9saXRlL2hvb2tzL2NvbW1vbi9wb3N0LXJlY2VpdmVgYCBvbiB5b3VyIGdpdG9saXRlCmFjY291bnQgY29udGFpbmluZyAoYWRhcHQgdGhlIHBhdGgsIG9idmlvdXNseSk6OgoKICAjIS9iaW4vc2gKICBleGVjIC9wYXRoL3RvL2dpdC1tdWx0aW1haWwvZ2l0LW11bHRpbWFpbC9naXRfbXVsdGltYWlsLnB5ICIkQCIKCk1ha2Ugc3VyZSBpdCdzIGV4ZWN1dGFibGUgKGBgY2htb2QgK3hgYCkuIFJlY29yZCB0aGUgaG9vayBpbgpnaXRvbGl0ZTo6CgogIGdpdG9saXRlIHNldHVwCgpDb25maWd1cmF0aW9uCi0tLS0tLS0tLS0tLS0KCkZpcnN0LCB5b3UgaGF2ZSB0byBhbGxvdyB0aGUgYWRtaW4gdG8gc2V0IEdpdCBjb25maWd1cmF0aW9uIHZhcmlhYmxlcy4KCkFzIGdpdG9saXRlIHVzZXIsIGVkaXQgdGhlIGxpbmUgY29udGFpbmluZyBgYEdJVF9DT05GSUdfS0VZU2BgIGluIGZpbGUKYGAuZ2l0b2xpdGUucmNgYCwgdG8gbWFrZSBpdCBsb29rIGxpa2U6OgoKICBHSVRfQ09ORklHX0tFWVMgICAgICAgICAgICAgICAgID0+ICAnbXVsdGltYWlsaG9va1wuLionLAoKWW91IGNhbiBub3cgbG9nIG91dCBhbmQgcmV0dXJuIHRvIHlvdXIgbm9ybWFsIHVzZXIuCgpJbiB0aGUgYGBnaXRvbGl0ZS1hZG1pbmBgIGNsb25lLCBlZGl0IHRoZSBmaWxlIGBgY29uZi9naXRvbGl0ZS5jb25mYGAKYW5kIGFkZDo6CgogIHJlcG8gQGFsbAogICAgICAjIE5vdCBzdHJpY3RseSBuZWVkZWQgYXMgZ2l0X211bHRpbWFpbC5weSB3aWxsIGNob3NlIGdpdG9saXRlIGlmCiAgICAgICMgJEdMX1VTRVIgaXMgc2V0LgogICAgICBjb25maWcgbXVsdGltYWlsaG9vay5lbnZpcm9ubWVudCA9IGdpdG9saXRlCiAgICAgIGNvbmZpZyBtdWx0aW1haWxob29rLm1haWxpbmdMaXN0ID0gIyBXaGVyZSBlbWFpbHMgc2hvdWxkIGJlIHNlbnQKICAgICAgY29uZmlnIG11bHRpbWFpbGhvb2suZnJvbSA9ICMgRnJvbSBhZGRyZXNzIHRvIHVzZQoKT2J2aW91c2x5LCB5b3UgY2FuIGN1c3RvbWl6ZSBhbGwgcGFyYW1ldGVycyBvbiBhIHBlci1yZXBvc2l0b3J5IGJhc2lzIGJ5CmFkZGluZyB0aGVzZSBgYGNvbmZpZyBtdWx0aW1haWxob29rLipgYCBsaW5lcyBpbiB0aGUgc2VjdGlvbgpjb3JyZXNwb25kaW5nIHRvIGEgcmVwb3NpdG9yeSBvciBzZXQgb2YgcmVwb3NpdG9yaWVzLgoKVG8gYWN0aXZhdGUgYGBnaXQtbXVsdGltYWlsYGAgb24gYSBwZXItcmVwb3NpdG9yeSBiYXNpcywgZG8gbm90IHNldApgYG11bHRpbWFpbGhvb2subWFpbGluZ0xpc3RgYCBpbiB0aGUgYGBAYWxsYGAgc2VjdGlvbiBhbmQgc2V0IGl0IG9ubHkKZm9yIHJlcG9zaXRvcmllcyBmb3Igd2hpY2ggeW91IHdhbnQgYGBnaXQtbXVsdGltYWlsYGAuCgpBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHNldCB1cCB0aGUgYGBGcm9tOmBgIGZpZWxkIG9uIGEgcGVyLXVzZXIgYmFzaXMKYnkgYWRkaW5nIGEgYGBCRUdJTiBVU0VSIEVNQUlMU2BgL2BgRU5EIFVTRVIgRU1BSUxTYGAgc2VjdGlvbiAoc2VlCmBgLi4vUkVBRE1FYGApLgoKU3BlY2lmaWNpdGllcyBvZiBHaXRvbGl0ZSBmb3IgQ29uZmlndXJhdGlvbgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpFbXB0eSBjb25maWd1cmF0aW9uIHZhcmlhYmxlcwouLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLgoKV2l0aCBnaXRvbGl0ZSwgdGhlIHN5bnRheCBgYGNvbmZpZyBtdWx0aW1haWxob29rLmNvbW1pdExpc3QgPSAiImBgCnVuc2V0cyB0aGUgdmFyaWFibGUgaW5zdGVhZCBvZiBzZXR0aW5nIGl0IHRvIGFuIGVtcHR5IHN0cmluZyAoc2VlCmBoZXJlCjxodHRwOi8vZ2l0b2xpdGUuY29tL2dpdG9saXRlL2dpdC1jb25maWcuaHRtbCNhbi1pbXBvcnRhbnQtd2FybmluZy1hYm91dC1kZWxldGluZy1hLWNvbmZpZy1saW5lPmBfXykuCkFzIGEgcmVzdWx0LCB0aGVyZSBpcyBubyB3YXkgdG8gc2V0IGEgdmFyaWFibGUgdG8gdGhlIGVtcHR5IHN0cmluZy4KSW4gYWxsIG1vc3QgcGxhY2VzIHdoZXJlIGFuIGVtcHR5IHZhbHVlIGlzIHJlcXVpcmVkLCBnaXQtbXVsdGltYWlsCm5vdyBhbGxvd3MgdG8gc3BlY2lmeSBzcGVjaWFsIGBgIm5vbmUiYGAgdmFsdWUgKGNhc2Utc2Vuc2l0aXZlKSB0bwptZWFuIHRoZSBzYW1lLgoKQWx0ZXJuYXRpdmVseSwgb25lIGNhbiB1c2UgYGAiICJgYCAoYSBzaW5nbGUgc3BhY2UpIGluc3RlYWQgb2YgYGAiImBgLgpJbiBtb3N0IGNhc2VzIChpbiBwYXJ0aWN1bGFyIGBgbXVsdGltYWlsaG9vay4qTGlzdGBgIHZhcmlhYmxlcyksIHRoaXMKd2lsbCBiZSBlcXVpdmFsZW50IHRvIGFuIGVtcHR5IHN0cmluZy4KCklmIHlvdSBoYXZlIGEgdXNlLWNhc2Ugd2hlcmUgYGAibm9uZSJgYCBpcyBub3QgYW4gYWNjZXB0YWJsZSB2YWx1ZSBhbmQKeW91IG5lZWQgYGAiICJgYCBvciAgYGAiImBgIGluc3RlYWQsIHBsZWFzZSByZXBvcnQgaXQgYXMgYSBidWcgdG8KZ2l0LW11bHRpbWFpbC4KCkFsbG93aW5nIFJlZ3VsYXIgRXhwcmVzc2lvbnMgaW4gQ29uZmlndXJhdGlvbgouLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4KCmdpdG9saXRlIGhhcyBhIG1lY2hhbmlzbSB0byBwcmV2ZW50IHVuc2FmZSBjb25maWd1cmF0aW9uIHZhcmlhYmxlCnZhbHVlcywgd2hpY2ggcHJldmVudCBjaGFyYWN0ZXJzIGxpa2UgYGB8YGAgY29tbW9ubHkgdXNlZCBpbiByZWd1bGFyCmV4cHJlc3Npb25zLiBJZiB5b3UgZG8gbm90IG5lZWQgdGhlIHNhZmV0eSBmZWF0dXJlIG9mIGdpdG9saXRlIGFuZApuZWVkIHRvIHVzZSByZWd1bGFyIGV4cHJlc3Npb25zIGluIHlvdXIgY29uZmlndXJhdGlvbiAoZS5nLiBmb3IKYGBtdWx0aW1haWxob29rLnJlZkZpbHRlcipgYCB2YXJpYWJsZXMpLCBzZXQKYFVOU0FGRV9QQVRUCjxodHRwOi8vZ2l0b2xpdGUuY29tL2dpdG9saXRlL2dpdC1jb25maWcuaHRtbCN1bnNhZmUtcGF0dD5gX18gdG8gYQpsZXNzIHJlc3RyaWN0aXZlIHZhbHVlLgoKVHJvdWJsZXNob290aW5nCi0tLS0tLS0tLS0tLS0tLQoKV2FybmluZzogdGhpcyB3aWxsIGRpc2FibGUgYGBnaXQtbXVsdGltYWlsYGAgZHVyaW5nIHRoZSBkZWJ1ZywgYW5kCmNvdWxkIGNvbmZ1c2UgeW91ciB1c2Vycy4gRG9uJ3QgcnVuIG9uIGEgcHJvZHVjdGlvbiBzZXJ2ZXIuCgpUbyBkZWJ1ZyBjb25maWd1cmF0aW9uIGlzc3VlcyB3aXRoIGBgZ2l0LW11bHRpbWFpbGBgLCB5b3UgY2FuIGFkZCB0aGUKYGAtLXN0ZG91dGBgIG9wdGlvbiB3aGVuIGNhbGxpbmcgYGBnaXRfbXVsdGltYWlsLnB5YGAgbGlrZSB0aGlzOjoKCiAgIyEvYmluL3NoCiAgZXhlYyAvcGF0aC90by9naXQtbXVsdGltYWlsL2dpdC1tdWx0aW1haWwvZ2l0X211bHRpbWFpbC5weSAtLXN0ZG91dCAiJEAiCgphbmQgdHJ5IHB1c2hpbmcgZnJvbSBhIHRlc3QgcmVwb3NpdG9yeS4gWW91IHNob3VsZCBzZWUgdGhlIHNvdXJjZSBvZgp0aGUgZW1haWwgdGhhdCB3b3VsZCBoYXZlIGJlZW4gc2VudCBpbiB0aGUgb3V0cHV0IG9mIGBgZ2l0IHB1c2hgYC4K",
    "text": "Setting up git-multimail on gitolite\n====================================\n\n``git-multimail`` supports gitolite 3 natively.\nThe explanations below show an easy way to set up ``git-multimail``,\nbut leave ``git-multimail`` installed and unconfigured for a while. If\nyou run gitolite on a production server, it is advised that you\nexecute the step \"Set up the hook\" last to avoid confusing your users\nin the meantime.\n\nSet up the hook\n---------------\n\nLog in as your gitolite user.\n\nCreate a file ``.gitolite/hooks/common/post-receive`` on your gitolite\naccount containing (adapt the path, obviously)::\n\n  #!/bin/sh\n  exec /path/to/git-multimail/git-multimail/git_multimail.py \"$@\"\n\nMake sure it's executable (``chmod +x``). Record the hook in\ngitolite::\n\n  gitolite setup\n\nConfiguration\n-------------\n\nFirst, you have to allow the admin to set Git configuration variables.\n\nAs gitolite user, edit the line containing ``GIT_CONFIG_KEYS`` in file\n``.gitolite.rc``, to make it look like::\n\n  GIT_CONFIG_KEYS                 =>  'multimailhook\\..*',\n\nYou can now log out and return to your normal user.\n\nIn the ``gitolite-admin`` clone, edit the file ``conf/gitolite.conf``\nand add::\n\n  repo @all\n      # Not strictly needed as git_multimail.py will chose gitolite if\n      # $GL_USER is set.\n      config multimailhook.environment = gitolite\n      config multimailhook.mailingList = # Where emails should be sent\n      config multimailhook.from = # From address to use\n\nObviously, you can customize all parameters on a per-repository basis by\nadding these ``config multimailhook.*`` lines in the section\ncorresponding to a repository or set of repositories.\n\nTo activate ``git-multimail`` on a per-repository basis, do not set\n``multimailhook.mailingList`` in the ``@all`` section and set it only\nfor repositories for which you want ``git-multimail``.\n\nAlternatively, you can set up the ``From:`` field on a per-user basis\nby adding a ``BEGIN USER EMAILS``/``END USER EMAILS`` section (see\n``../README``).\n\nSpecificities of Gitolite for Configuration\n-------------------------------------------\n\nEmpty configuration variables\n.............................\n\nWith gitolite, the syntax ``config multimailhook.commitList = \"\"``\nunsets the variable instead of setting it to an empty string (see\n`here\n<http://gitolite.com/gitolite/git-config.html#an-important-warning-about-deleting-a-config-line>`__).\nAs a result, there is no way to set a variable to the empty string.\nIn all most places where an empty value is required, git-multimail\nnow allows to specify special ``\"none\"`` value (case-sensitive) to\nmean the same.\n\nAlternatively, one can use ``\" \"`` (a single space) instead of ``\"\"``.\nIn most cases (in particular ``multimailhook.*List`` variables), this\nwill be equivalent to an empty string.\n\nIf you have a use-case where ``\"none\"`` is not an acceptable value and\nyou need ``\" \"`` or  ``\"\"`` instead, please report it as a bug to\ngit-multimail.\n\nAllowing Regular Expressions in Configuration\n.............................................\n\ngitolite has a mechanism to prevent unsafe configuration variable\nvalues, which prevent characters like ``|`` commonly used in regular\nexpressions. If you do not need the safety feature of gitolite and\nneed to use regular expressions in your configuration (e.g. for\n``multimailhook.refFilter*`` variables), set\n`UNSAFE_PATT\n<http://gitolite.com/gitolite/git-config.html#unsafe-patt>`__ to a\nless restrictive value.\n\nTroubleshooting\n---------------\n\nWarning: this will disable ``git-multimail`` during the debug, and\ncould confuse your users. Don't run on a production server.\n\nTo debug configuration issues with ``git-multimail``, you can add the\n``--stdout`` option when calling ``git_multimail.py`` like this::\n\n  #!/bin/sh\n  exec /path/to/git-multimail/git-multimail/git_multimail.py --stdout \"$@\"\n\nand try pushing from a test repository. You should see the source of\nthe email that would have been sent in the output of ``git push``.\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00aedd9c579f9acc2c94dc8632f2c2b9fa2c96bc",
  "sha1_ok": true,
  "size": 3975
}
