{
  "content": {
    "base64": "I2lmbmRlZiBDQUNIRV9ICiNkZWZpbmUgQ0FDSEVfSAoKI2luY2x1ZGUgImdpdC1jb21wYXQtdXRpbC5oIgoKI2luY2x1ZGUgU0hBMV9IRUFERVIKI2luY2x1ZGUgPHpsaWIuaD4KCiNpZiBaTElCX1ZFUk5VTSA8IDB4MTIwMAojZGVmaW5lIGRlZmxhdGVCb3VuZChjLHMpICAoKHMpICsgKCgocykgKyA3KSA+PiAzKSArICgoKHMpICsgNjMpID4+IDYpICsgMTEpCiNlbmRpZgoKI2lmIGRlZmluZWQoRFRfVU5LTk9XTikgJiYgIWRlZmluZWQoTk9fRF9UWVBFX0lOX0RJUkVOVCkKI2RlZmluZSBEVFlQRShkZSkJKChkZSktPmRfdHlwZSkKI2Vsc2UKI3VuZGVmIERUX1VOS05PV04KI3VuZGVmIERUX0RJUgojdW5kZWYgRFRfUkVHCiN1bmRlZiBEVF9MTksKI2RlZmluZSBEVF9VTktOT1dOCTAKI2RlZmluZSBEVF9ESVIJCTEKI2RlZmluZSBEVF9SRUcJCTIKI2RlZmluZSBEVF9MTksJCTMKI2RlZmluZSBEVFlQRShkZSkJRFRfVU5LTk9XTgojZW5kaWYKCi8qCiAqIEludGVuc2l2ZSByZXNlYXJjaCBvdmVyIHRoZSBjb3Vyc2Ugb2YgbWFueSB5ZWFycyBoYXMgc2hvd24gdGhhdAogKiBwb3J0IDk0MTggaXMgdG90YWxseSB1bnVzZWQgYnkgYW55dGhpbmcgZWxzZS4gT3IKICoKICoJWW91ciBzZWFyY2ggLSAicG9ydCA5NDE4IiAtIGRpZCBub3QgbWF0Y2ggYW55IGRvY3VtZW50cy4KICoKICogYXMgd3d3Lmdvb2dsZS5jb20gcHV0cyBpdC4KICoKICogVGhpcyBwb3J0IGhhcyBiZWVuIHByb3Blcmx5IGFzc2lnbmVkIGZvciBnaXQgdXNlIGJ5IElBTkE6CiAqIGdpdCAoQXNzaWduZWQtOTQxOCkgW0kwNi0wNTA3MjgtMDAwMV0uCiAqCiAqCWdpdCAgOTQxOC90Y3AgICBnaXQgcGFjayB0cmFuc2ZlciBzZXJ2aWNlCiAqCWdpdCAgOTQxOC91ZHAgICBnaXQgcGFjayB0cmFuc2ZlciBzZXJ2aWNlCiAqCiAqIHdpdGggTGludXMgVG9ydmFsZHMgPHRvcnZhbGRzQG9zZGwub3JnPiBhcyB0aGUgcG9pbnQgb2YKICogY29udGFjdC4gU2VwdGVtYmVyIDIwMDUuCiAqCiAqIFNlZSBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3BvcnQtbnVtYmVycwogKi8KI2RlZmluZSBERUZBVUxUX0dJVF9QT1JUIDk0MTgKCi8qCiAqIEJhc2ljIGRhdGEgc3RydWN0dXJlcyBmb3IgdGhlIGRpcmVjdG9yeSBjYWNoZQogKi8KCiNkZWZpbmUgQ0FDSEVfU0lHTkFUVVJFIDB4NDQ0OTUyNDMJLyogIkRJUkMiICovCnN0cnVjdCBjYWNoZV9oZWFkZXIgewoJdW5zaWduZWQgaW50IGhkcl9zaWduYXR1cmU7Cgl1bnNpZ25lZCBpbnQgaGRyX3ZlcnNpb247Cgl1bnNpZ25lZCBpbnQgaGRyX2VudHJpZXM7Cn07CgovKgogKiBUaGUgImNhY2hlX3RpbWUiIGlzIGp1c3QgdGhlIGxvdyAzMiBiaXRzIG9mIHRoZQogKiB0aW1lLiBJdCBkb2Vzbid0IG1hdHRlciBpZiBpdCBvdmVyZmxvd3MgLSB3ZSBvbmx5CiAqIGNoZWNrIGl0IGZvciBlcXVhbGl0eSBpbiB0aGUgMzIgYml0cyB3ZSBzYXZlLgogKi8Kc3RydWN0IGNhY2hlX3RpbWUgewoJdW5zaWduZWQgaW50IHNlYzsKCXVuc2lnbmVkIGludCBuc2VjOwp9OwoKLyoKICogZGV2L2luby91aWQvZ2lkL3NpemUgYXJlIGFsc28ganVzdCB0cmFja2VkIHRvIHRoZSBsb3cgMzIgYml0cwogKiBBZ2FpbiAtIHRoaXMgaXMganVzdCBhICh2ZXJ5IHN0cm9uZyBpbiBwcmFjdGljZSkgaGV1cmlzdGljIHRoYXQKICogdGhlIGlub2RlIGhhc24ndCBjaGFuZ2VkLgogKgogKiBXZSBzYXZlIHRoZSBmaWVsZHMgaW4gYmlnLWVuZGlhbiBvcmRlciB0byBhbGxvdyB1c2luZyB0aGUKICogaW5kZXggZmlsZSBvdmVyIE5GUyB0cmFuc3BhcmVudGx5LgogKi8Kc3RydWN0IGNhY2hlX2VudHJ5IHsKCXN0cnVjdCBjYWNoZV90aW1lIGNlX2N0aW1lOwoJc3RydWN0IGNhY2hlX3RpbWUgY2VfbXRpbWU7Cgl1bnNpZ25lZCBpbnQgY2VfZGV2OwoJdW5zaWduZWQgaW50IGNlX2lubzsKCXVuc2lnbmVkIGludCBjZV9tb2RlOwoJdW5zaWduZWQgaW50IGNlX3VpZDsKCXVuc2lnbmVkIGludCBjZV9naWQ7Cgl1bnNpZ25lZCBpbnQgY2Vfc2l6ZTsKCXVuc2lnbmVkIGNoYXIgc2hhMVsyMF07Cgl1bnNpZ25lZCBzaG9ydCBjZV9mbGFnczsKCWNoYXIgbmFtZVtGTEVYX0FSUkFZXTsgLyogbW9yZSAqLwp9OwoKI2RlZmluZSBDRV9OQU1FTUFTSyAgKDB4MGZmZikKI2RlZmluZSBDRV9TVEFHRU1BU0sgKDB4MzAwMCkKI2RlZmluZSBDRV9VUERBVEUgICAgKDB4NDAwMCkKI2RlZmluZSBDRV9WQUxJRCAgICAgKDB4ODAwMCkKI2RlZmluZSBDRV9TVEFHRVNISUZUIDEyCgojZGVmaW5lIGNyZWF0ZV9jZV9mbGFncyhsZW4sIHN0YWdlKSBodG9ucygobGVuKSB8ICgoc3RhZ2UpIDw8IENFX1NUQUdFU0hJRlQpKQojZGVmaW5lIGNlX25hbWVsZW4oY2UpIChDRV9OQU1FTUFTSyAmIG50b2hzKChjZSktPmNlX2ZsYWdzKSkKI2RlZmluZSBjZV9zaXplKGNlKSBjYWNoZV9lbnRyeV9zaXplKGNlX25hbWVsZW4oY2UpKQojZGVmaW5lIGNlX3N0YWdlKGNlKSAoKENFX1NUQUdFTUFTSyAmIG50b2hzKChjZSktPmNlX2ZsYWdzKSkgPj4gQ0VfU1RBR0VTSElGVCkKCiNkZWZpbmUgY2VfcGVybWlzc2lvbnMobW9kZSkgKCgobW9kZSkgJiAwMTAwKSA/IDA3NTUgOiAwNjQ0KQpzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGludCBjcmVhdGVfY2VfbW9kZSh1bnNpZ25lZCBpbnQgbW9kZSkKewoJaWYgKFNfSVNMTksobW9kZSkpCgkJcmV0dXJuIGh0b25sKFNfSUZMTkspOwoJcmV0dXJuIGh0b25sKFNfSUZSRUcgfCBjZV9wZXJtaXNzaW9ucyhtb2RlKSk7Cn0KI2RlZmluZSBjYW5vbl9tb2RlKG1vZGUpIFwKCShTX0lTUkVHKG1vZGUpID8gKFNfSUZSRUcgfCBjZV9wZXJtaXNzaW9ucyhtb2RlKSkgOiBcCglTX0lTTE5LKG1vZGUpID8gU19JRkxOSyA6IFNfSUZESVIpCgojZGVmaW5lIGNhY2hlX2VudHJ5X3NpemUobGVuKSAoKG9mZnNldG9mKHN0cnVjdCBjYWNoZV9lbnRyeSxuYW1lKSArIChsZW4pICsgOCkgJiB+NykKCmV4dGVybiBzdHJ1Y3QgY2FjaGVfZW50cnkgKiphY3RpdmVfY2FjaGU7CmV4dGVybiB1bnNpZ25lZCBpbnQgYWN0aXZlX25yLCBhY3RpdmVfYWxsb2MsIGFjdGl2ZV9jYWNoZV9jaGFuZ2VkOwpleHRlcm4gc3RydWN0IGNhY2hlX3RyZWUgKmFjdGl2ZV9jYWNoZV90cmVlOwoKI2RlZmluZSBHSVRfRElSX0VOVklST05NRU5UICJHSVRfRElSIgojZGVmaW5lIERFRkFVTFRfR0lUX0RJUl9FTlZJUk9OTUVOVCAiLmdpdCIKI2RlZmluZSBEQl9FTlZJUk9OTUVOVCAiR0lUX09CSkVDVF9ESVJFQ1RPUlkiCiNkZWZpbmUgSU5ERVhfRU5WSVJPTk1FTlQgIkdJVF9JTkRFWF9GSUxFIgojZGVmaW5lIEdSQUZUX0VOVklST05NRU5UICJHSVRfR1JBRlRfRklMRSIKCmV4dGVybiBjaGFyICpnZXRfZ2l0X2Rpcih2b2lkKTsKZXh0ZXJuIGNoYXIgKmdldF9vYmplY3RfZGlyZWN0b3J5KHZvaWQpOwpleHRlcm4gY2hhciAqZ2V0X3JlZnNfZGlyZWN0b3J5KHZvaWQpOwpleHRlcm4gY2hhciAqZ2V0X2luZGV4X2ZpbGUodm9pZCk7CmV4dGVybiBjaGFyICpnZXRfZ3JhZnRfZmlsZSh2b2lkKTsKCiNkZWZpbmUgQUxURVJOQVRFX0RCX0VOVklST05NRU5UICJHSVRfQUxURVJOQVRFX09CSkVDVF9ESVJFQ1RPUklFUyIKCmV4dGVybiBjb25zdCBjaGFyICoqZ2V0X3BhdGhzcGVjKGNvbnN0IGNoYXIgKnByZWZpeCwgY29uc3QgY2hhciAqKnBhdGhzcGVjKTsKZXh0ZXJuIGNvbnN0IGNoYXIgKnNldHVwX2dpdF9kaXJlY3RvcnlfZ2VudGx5KGludCAqKTsKZXh0ZXJuIGNvbnN0IGNoYXIgKnNldHVwX2dpdF9kaXJlY3Rvcnkodm9pZCk7CmV4dGVybiBjb25zdCBjaGFyICpwcmVmaXhfcGF0aChjb25zdCBjaGFyICpwcmVmaXgsIGludCBsZW4sIGNvbnN0IGNoYXIgKnBhdGgpOwpleHRlcm4gY29uc3QgY2hhciAqcHJlZml4X2ZpbGVuYW1lKGNvbnN0IGNoYXIgKnByZWZpeCwgaW50IGxlbiwgY29uc3QgY2hhciAqcGF0aCk7CmV4dGVybiB2b2lkIHZlcmlmeV9maWxlbmFtZShjb25zdCBjaGFyICpwcmVmaXgsIGNvbnN0IGNoYXIgKm5hbWUpOwoKI2RlZmluZSBhbGxvY19ucih4KSAoKCh4KSsxNikqMy8yKQoKLyogSW5pdGlhbGl6ZSBhbmQgdXNlIHRoZSBjYWNoZSBpbmZvcm1hdGlvbiAqLwpleHRlcm4gaW50IHJlYWRfY2FjaGUodm9pZCk7CmV4dGVybiBpbnQgd3JpdGVfY2FjaGUoaW50IG5ld2ZkLCBzdHJ1Y3QgY2FjaGVfZW50cnkgKipjYWNoZSwgaW50IGVudHJpZXMpOwpleHRlcm4gaW50IGNhY2hlX25hbWVfcG9zKGNvbnN0IGNoYXIgKm5hbWUsIGludCBuYW1lbGVuKTsKI2RlZmluZSBBRERfQ0FDSEVfT0tfVE9fQUREIDEJCS8qIE9rIHRvIGFkZCAqLwojZGVmaW5lIEFERF9DQUNIRV9PS19UT19SRVBMQUNFIDIJLyogT2sgdG8gcmVwbGFjZSBmaWxlL2RpcmVjdG9yeSAqLwojZGVmaW5lIEFERF9DQUNIRV9TS0lQX0RGQ0hFQ0sgNAkvKiBPayB0byBza2lwIERGIGNvbmZsaWN0IGNoZWNrcyAqLwpleHRlcm4gaW50IGFkZF9jYWNoZV9lbnRyeShzdHJ1Y3QgY2FjaGVfZW50cnkgKmNlLCBpbnQgb3B0aW9uKTsKZXh0ZXJuIGludCByZW1vdmVfY2FjaGVfZW50cnlfYXQoaW50IHBvcyk7CmV4dGVybiBpbnQgcmVtb3ZlX2ZpbGVfZnJvbV9jYWNoZShjb25zdCBjaGFyICpwYXRoKTsKZXh0ZXJuIGludCBjZV9zYW1lX25hbWUoc3RydWN0IGNhY2hlX2VudHJ5ICphLCBzdHJ1Y3QgY2FjaGVfZW50cnkgKmIpOwpleHRlcm4gaW50IGNlX21hdGNoX3N0YXQoc3RydWN0IGNhY2hlX2VudHJ5ICpjZSwgc3RydWN0IHN0YXQgKnN0LCBpbnQpOwpleHRlcm4gaW50IGNlX21vZGlmaWVkKHN0cnVjdCBjYWNoZV9lbnRyeSAqY2UsIHN0cnVjdCBzdGF0ICpzdCwgaW50KTsKZXh0ZXJuIGludCBjZV9wYXRoX21hdGNoKGNvbnN0IHN0cnVjdCBjYWNoZV9lbnRyeSAqY2UsIGNvbnN0IGNoYXIgKipwYXRoc3BlYyk7CmV4dGVybiBpbnQgaW5kZXhfZmQodW5zaWduZWQgY2hhciAqc2hhMSwgaW50IGZkLCBzdHJ1Y3Qgc3RhdCAqc3QsIGludCB3cml0ZV9vYmplY3QsIGNvbnN0IGNoYXIgKnR5cGUpOwpleHRlcm4gaW50IGluZGV4X3BpcGUodW5zaWduZWQgY2hhciAqc2hhMSwgaW50IGZkLCBjb25zdCBjaGFyICp0eXBlLCBpbnQgd3JpdGVfb2JqZWN0KTsKZXh0ZXJuIGludCBpbmRleF9wYXRoKHVuc2lnbmVkIGNoYXIgKnNoYTEsIGNvbnN0IGNoYXIgKnBhdGgsIHN0cnVjdCBzdGF0ICpzdCwgaW50IHdyaXRlX29iamVjdCk7CmV4dGVybiB2b2lkIGZpbGxfc3RhdF9jYWNoZV9pbmZvKHN0cnVjdCBjYWNoZV9lbnRyeSAqY2UsIHN0cnVjdCBzdGF0ICpzdCk7CgpzdHJ1Y3QgY2FjaGVfZmlsZSB7CglzdHJ1Y3QgY2FjaGVfZmlsZSAqbmV4dDsKCWNoYXIgbG9ja2ZpbGVbUEFUSF9NQVhdOwp9OwpleHRlcm4gaW50IGhvbGRfaW5kZXhfZmlsZV9mb3JfdXBkYXRlKHN0cnVjdCBjYWNoZV9maWxlICosIGNvbnN0IGNoYXIgKnBhdGgpOwpleHRlcm4gaW50IGNvbW1pdF9pbmRleF9maWxlKHN0cnVjdCBjYWNoZV9maWxlICopOwpleHRlcm4gdm9pZCByb2xsYmFja19pbmRleF9maWxlKHN0cnVjdCBjYWNoZV9maWxlICopOwoKLyogRW52aXJvbm1lbnQgYml0cyBmcm9tIGNvbmZpZ3VyYXRpb24gbWVjaGFuaXNtICovCmV4dGVybiBpbnQgdHJ1c3RfZXhlY3V0YWJsZV9iaXQ7CmV4dGVybiBpbnQgYXNzdW1lX3VuY2hhbmdlZDsKZXh0ZXJuIGludCBvbmx5X3VzZV9zeW1yZWZzOwpleHRlcm4gaW50IHdhcm5fYW1iaWd1b3VzX3JlZnM7CmV4dGVybiBpbnQgZGlmZl9yZW5hbWVfbGltaXRfZGVmYXVsdDsKZXh0ZXJuIGludCBzaGFyZWRfcmVwb3NpdG9yeTsKZXh0ZXJuIGNvbnN0IGNoYXIgKmFwcGx5X2RlZmF1bHRfd2hpdGVzcGFjZTsKCiNkZWZpbmUgR0lUX1JFUE9fVkVSU0lPTiAwCmV4dGVybiBpbnQgcmVwb3NpdG9yeV9mb3JtYXRfdmVyc2lvbjsKZXh0ZXJuIGludCBjaGVja19yZXBvc2l0b3J5X2Zvcm1hdCh2b2lkKTsKCiNkZWZpbmUgTVRJTUVfQ0hBTkdFRAkweDAwMDEKI2RlZmluZSBDVElNRV9DSEFOR0VECTB4MDAwMgojZGVmaW5lIE9XTkVSX0NIQU5HRUQJMHgwMDA0CiNkZWZpbmUgTU9ERV9DSEFOR0VEICAgIDB4MDAwOAojZGVmaW5lIElOT0RFX0NIQU5HRUQgICAweDAwMTAKI2RlZmluZSBEQVRBX0NIQU5HRUQgICAgMHgwMDIwCiNkZWZpbmUgVFlQRV9DSEFOR0VEICAgIDB4MDA0MAoKLyogUmV0dXJuIGEgc3RhdGljYWxseSBhbGxvY2F0ZWQgZmlsZW5hbWUgbWF0Y2hpbmcgdGhlIHNoYTEgc2lnbmF0dXJlICovCmV4dGVybiBjaGFyICpta3BhdGgoY29uc3QgY2hhciAqZm10LCAuLi4pIF9fYXR0cmlidXRlX18oKGZvcm1hdCAocHJpbnRmLCAxLCAyKSkpOwpleHRlcm4gY2hhciAqZ2l0X3BhdGgoY29uc3QgY2hhciAqZm10LCAuLi4pIF9fYXR0cmlidXRlX18oKGZvcm1hdCAocHJpbnRmLCAxLCAyKSkpOwpleHRlcm4gY2hhciAqc2hhMV9maWxlX25hbWUoY29uc3QgdW5zaWduZWQgY2hhciAqc2hhMSk7CmV4dGVybiBjaGFyICpzaGExX3BhY2tfbmFtZShjb25zdCB1bnNpZ25lZCBjaGFyICpzaGExKTsKZXh0ZXJuIGNoYXIgKnNoYTFfcGFja19pbmRleF9uYW1lKGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEpOwpleHRlcm4gY29uc3QgY2hhciAqZmluZF91bmlxdWVfYWJicmV2KGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEsIGludCk7CmV4dGVybiBjb25zdCB1bnNpZ25lZCBjaGFyIG51bGxfc2hhMVsyMF07CgppbnQgZ2l0X21rc3RlbXAoY2hhciAqcGF0aCwgc2l6ZV90IG4sIGNvbnN0IGNoYXIgKnRlbXBsYXRlKTsKCmludCBhZGp1c3Rfc2hhcmVkX3Blcm0oY29uc3QgY2hhciAqcGF0aCk7CmludCBzYWZlX2NyZWF0ZV9sZWFkaW5nX2RpcmVjdG9yaWVzKGNoYXIgKnBhdGgpOwpjaGFyICpzYWZlX3N0cm5jcHkoY2hhciAqLCBjb25zdCBjaGFyICosIHNpemVfdCk7CmNoYXIgKmVudGVyX3JlcG8oY2hhciAqcGF0aCwgaW50IHN0cmljdCk7CgovKiBSZWFkIGFuZCB1bnBhY2sgYSBzaGExIGZpbGUgaW50byBtZW1vcnksIHdyaXRlIG1lbW9yeSB0byBhIHNoYTEgZmlsZSAqLwpleHRlcm4gaW50IHVucGFja19zaGExX2hlYWRlcih6X3N0cmVhbSAqc3RyZWFtLCB2b2lkICptYXAsIHVuc2lnbmVkIGxvbmcgbWFwc2l6ZSwgdm9pZCAqYnVmZmVyLCB1bnNpZ25lZCBsb25nIHNpemUpOwpleHRlcm4gaW50IHBhcnNlX3NoYTFfaGVhZGVyKGNoYXIgKmhkciwgY2hhciAqdHlwZSwgdW5zaWduZWQgbG9uZyAqc2l6ZXApOwpleHRlcm4gaW50IHNoYTFfb2JqZWN0X2luZm8oY29uc3QgdW5zaWduZWQgY2hhciAqLCBjaGFyICosIHVuc2lnbmVkIGxvbmcgKik7CmV4dGVybiB2b2lkICogdW5wYWNrX3NoYTFfZmlsZSh2b2lkICptYXAsIHVuc2lnbmVkIGxvbmcgbWFwc2l6ZSwgY2hhciAqdHlwZSwgdW5zaWduZWQgbG9uZyAqc2l6ZSk7CmV4dGVybiB2b2lkICogcmVhZF9zaGExX2ZpbGUoY29uc3QgdW5zaWduZWQgY2hhciAqc2hhMSwgY2hhciAqdHlwZSwgdW5zaWduZWQgbG9uZyAqc2l6ZSk7CmV4dGVybiBpbnQgd3JpdGVfc2hhMV9maWxlKHZvaWQgKmJ1ZiwgdW5zaWduZWQgbG9uZyBsZW4sIGNvbnN0IGNoYXIgKnR5cGUsIHVuc2lnbmVkIGNoYXIgKnJldHVybl9zaGExKTsKZXh0ZXJuIGNoYXIgKndyaXRlX3NoYTFfZmlsZV9wcmVwYXJlKHZvaWQgKmJ1ZiwKCQkJCSAgICAgdW5zaWduZWQgbG9uZyBsZW4sCgkJCQkgICAgIGNvbnN0IGNoYXIgKnR5cGUsCgkJCQkgICAgIHVuc2lnbmVkIGNoYXIgKnNoYTEsCgkJCQkgICAgIHVuc2lnbmVkIGNoYXIgKmhkciwKCQkJCSAgICAgaW50ICpoZHJsZW4pOwoKZXh0ZXJuIGludCBjaGVja19zaGExX3NpZ25hdHVyZShjb25zdCB1bnNpZ25lZCBjaGFyICpzaGExLCB2b2lkICpidWYsIHVuc2lnbmVkIGxvbmcgc2l6ZSwgY29uc3QgY2hhciAqdHlwZSk7CgpleHRlcm4gaW50IHdyaXRlX3NoYTFfZnJvbV9mZChjb25zdCB1bnNpZ25lZCBjaGFyICpzaGExLCBpbnQgZmQsIGNoYXIgKmJ1ZmZlciwKCQkJICAgICAgc2l6ZV90IGJ1ZnNpemUsIHNpemVfdCAqYnVmcG9zbik7CmV4dGVybiBpbnQgd3JpdGVfc2hhMV90b19mZChpbnQgZmQsIGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEpOwpleHRlcm4gaW50IG1vdmVfdGVtcF90b19maWxlKGNvbnN0IGNoYXIgKnRtcGZpbGUsIGNoYXIgKmZpbGVuYW1lKTsKCmV4dGVybiBpbnQgaGFzX3NoYTFfcGFjayhjb25zdCB1bnNpZ25lZCBjaGFyICpzaGExKTsKZXh0ZXJuIGludCBoYXNfc2hhMV9maWxlKGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEpOwoKZXh0ZXJuIGludCBoYXNfcGFja19maWxlKGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEpOwpleHRlcm4gaW50IGhhc19wYWNrX2luZGV4KGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEpOwoKLyogQ29udmVydCB0by9mcm9tIGhleC9zaGExIHJlcHJlc2VudGF0aW9uICovCiNkZWZpbmUgTUlOSU1VTV9BQkJSRVYgNAojZGVmaW5lIERFRkFVTFRfQUJCUkVWIDcKCmV4dGVybiBpbnQgZ2V0X3NoYTEoY29uc3QgY2hhciAqc3RyLCB1bnNpZ25lZCBjaGFyICpzaGExKTsKZXh0ZXJuIGludCBnZXRfc2hhMV9oZXgoY29uc3QgY2hhciAqaGV4LCB1bnNpZ25lZCBjaGFyICpzaGExKTsKZXh0ZXJuIGNoYXIgKnNoYTFfdG9faGV4KGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEpOwkvKiBzdGF0aWMgYnVmZmVyIHJlc3VsdCEgKi8KZXh0ZXJuIGludCByZWFkX3JlZihjb25zdCBjaGFyICpmaWxlbmFtZSwgdW5zaWduZWQgY2hhciAqc2hhMSk7CmV4dGVybiBjb25zdCBjaGFyICpyZXNvbHZlX3JlZihjb25zdCBjaGFyICpwYXRoLCB1bnNpZ25lZCBjaGFyICpzaGExLCBpbnQpOwpleHRlcm4gaW50IGNyZWF0ZV9zeW1yZWYoY29uc3QgY2hhciAqZ2l0X0hFQUQsIGNvbnN0IGNoYXIgKnJlZnNfaGVhZHNfbWFzdGVyKTsKZXh0ZXJuIGludCB2YWxpZGF0ZV9zeW1yZWYoY29uc3QgY2hhciAqZ2l0X0hFQUQpOwoKZXh0ZXJuIGludCBiYXNlX25hbWVfY29tcGFyZShjb25zdCBjaGFyICpuYW1lMSwgaW50IGxlbjEsIGludCBtb2RlMSwgY29uc3QgY2hhciAqbmFtZTIsIGludCBsZW4yLCBpbnQgbW9kZTIpOwpleHRlcm4gaW50IGNhY2hlX25hbWVfY29tcGFyZShjb25zdCBjaGFyICpuYW1lMSwgaW50IGxlbjEsIGNvbnN0IGNoYXIgKm5hbWUyLCBpbnQgbGVuMik7CgpleHRlcm4gdm9pZCAqcmVhZF9vYmplY3Rfd2l0aF9yZWZlcmVuY2UoY29uc3QgdW5zaWduZWQgY2hhciAqc2hhMSwKCQkJCQljb25zdCBjaGFyICpyZXF1aXJlZF90eXBlLAoJCQkJCXVuc2lnbmVkIGxvbmcgKnNpemUsCgkJCQkJdW5zaWduZWQgY2hhciAqc2hhMV9yZXQpOwoKY29uc3QgY2hhciAqc2hvd19kYXRlKHVuc2lnbmVkIGxvbmcgdGltZSwgaW50IHRpbWV6b25lKTsKaW50IHBhcnNlX2RhdGUoY29uc3QgY2hhciAqZGF0ZSwgY2hhciAqYnVmLCBpbnQgYnVmc2l6ZSk7CnZvaWQgZGF0ZXN0YW1wKGNoYXIgKmJ1ZiwgaW50IGJ1ZnNpemUpOwp1bnNpZ25lZCBsb25nIGFwcHJveGlkYXRlKGNvbnN0IGNoYXIgKik7CgpleHRlcm4gaW50IHNldHVwX2lkZW50KHZvaWQpOwpleHRlcm4gY29uc3QgY2hhciAqZ2l0X2F1dGhvcl9pbmZvKGludCk7CmV4dGVybiBjb25zdCBjaGFyICpnaXRfY29tbWl0dGVyX2luZm8oaW50KTsKCnN0cnVjdCBjaGVja291dCB7Cgljb25zdCBjaGFyICpiYXNlX2RpcjsKCWludCBiYXNlX2Rpcl9sZW47Cgl1bnNpZ25lZCBmb3JjZToxLAoJCSBxdWlldDoxLAoJCSBub3RfbmV3OjEsCgkJIHJlZnJlc2hfY2FjaGU6MTsKfTsKCmV4dGVybiBpbnQgY2hlY2tvdXRfZW50cnkoc3RydWN0IGNhY2hlX2VudHJ5ICpjZSwgc3RydWN0IGNoZWNrb3V0ICpzdGF0ZSwgY2hhciAqdG9wYXRoKTsKCmV4dGVybiBzdHJ1Y3QgYWx0ZXJuYXRlX29iamVjdF9kYXRhYmFzZSB7CglzdHJ1Y3QgYWx0ZXJuYXRlX29iamVjdF9kYXRhYmFzZSAqbmV4dDsKCWNoYXIgKm5hbWU7CgljaGFyIGJhc2VbRkxFWF9BUlJBWV07IC8qIG1vcmUgKi8KfSAqYWx0X29kYl9saXN0OwpleHRlcm4gdm9pZCBwcmVwYXJlX2FsdF9vZGIodm9pZCk7CgpleHRlcm4gc3RydWN0IHBhY2tlZF9naXQgewoJc3RydWN0IHBhY2tlZF9naXQgKm5leHQ7Cgl1bnNpZ25lZCBsb25nIGluZGV4X3NpemU7Cgl1bnNpZ25lZCBsb25nIHBhY2tfc2l6ZTsKCXVuc2lnbmVkIGludCAqaW5kZXhfYmFzZTsKCXZvaWQgKnBhY2tfYmFzZTsKCXVuc2lnbmVkIGludCBwYWNrX2xhc3RfdXNlZDsKCXVuc2lnbmVkIGludCBwYWNrX3VzZV9jbnQ7CglpbnQgcGFja19sb2NhbDsKCXVuc2lnbmVkIGNoYXIgc2hhMVsyMF07CgkvKiBzb21ldGhpbmcgbGlrZSAiLmdpdC9vYmplY3RzL3BhY2sveHh4eHgucGFjayIgKi8KCWNoYXIgcGFja19uYW1lW0ZMRVhfQVJSQVldOyAvKiBtb3JlICovCn0gKnBhY2tlZF9naXQ7CgpzdHJ1Y3QgcGFja19lbnRyeSB7Cgl1bnNpZ25lZCBpbnQgb2Zmc2V0OwoJdW5zaWduZWQgY2hhciBzaGExWzIwXTsKCXN0cnVjdCBwYWNrZWRfZ2l0ICpwOwp9OwoKc3RydWN0IHJlZiB7CglzdHJ1Y3QgcmVmICpuZXh0OwoJdW5zaWduZWQgY2hhciBvbGRfc2hhMVsyMF07Cgl1bnNpZ25lZCBjaGFyIG5ld19zaGExWzIwXTsKCXVuc2lnbmVkIGNoYXIgZm9yY2U7CglzdHJ1Y3QgcmVmICpwZWVyX3JlZjsgLyogd2hlbiByZW5hbWluZyAqLwoJY2hhciBuYW1lW0ZMRVhfQVJSQVldOyAvKiBtb3JlICovCn07CgpleHRlcm4gaW50IGdpdF9jb25uZWN0KGludCBmZFsyXSwgY2hhciAqdXJsLCBjb25zdCBjaGFyICpwcm9nKTsKZXh0ZXJuIGludCBmaW5pc2hfY29ubmVjdChwaWRfdCBwaWQpOwpleHRlcm4gaW50IHBhdGhfbWF0Y2goY29uc3QgY2hhciAqcGF0aCwgaW50IG5yLCBjaGFyICoqbWF0Y2gpOwpleHRlcm4gaW50IG1hdGNoX3JlZnMoc3RydWN0IHJlZiAqc3JjLCBzdHJ1Y3QgcmVmICpkc3QsIHN0cnVjdCByZWYgKioqZHN0X3RhaWwsCgkJICAgICAgaW50IG5yX3JlZnNwZWMsIGNoYXIgKipyZWZzcGVjLCBpbnQgYWxsKTsKZXh0ZXJuIGludCBnZXRfYWNrKGludCBmZCwgdW5zaWduZWQgY2hhciAqcmVzdWx0X3NoYTEpOwpleHRlcm4gc3RydWN0IHJlZiAqKmdldF9yZW1vdGVfaGVhZHMoaW50IGluLCBzdHJ1Y3QgcmVmICoqbGlzdCwgaW50IG5yX21hdGNoLCBjaGFyICoqbWF0Y2gsIGludCBpZ25vcmVfZnVubnkpOwpleHRlcm4gaW50IHNlcnZlcl9zdXBwb3J0cyhjb25zdCBjaGFyICpmZWF0dXJlKTsKCmV4dGVybiBzdHJ1Y3QgcGFja2VkX2dpdCAqcGFyc2VfcGFja19pbmRleCh1bnNpZ25lZCBjaGFyICpzaGExKTsKZXh0ZXJuIHN0cnVjdCBwYWNrZWRfZ2l0ICpwYXJzZV9wYWNrX2luZGV4X2ZpbGUoY29uc3QgdW5zaWduZWQgY2hhciAqc2hhMSwKCQkJCQkJY2hhciAqaWR4X3BhdGgpOwoKZXh0ZXJuIHZvaWQgcHJlcGFyZV9wYWNrZWRfZ2l0KHZvaWQpOwpleHRlcm4gdm9pZCBpbnN0YWxsX3BhY2tlZF9naXQoc3RydWN0IHBhY2tlZF9naXQgKnBhY2spOwoKZXh0ZXJuIHN0cnVjdCBwYWNrZWRfZ2l0ICpmaW5kX3NoYTFfcGFjayhjb25zdCB1bnNpZ25lZCBjaGFyICpzaGExLCAKCQkJCQkgc3RydWN0IHBhY2tlZF9naXQgKnBhY2tzKTsKCmV4dGVybiBpbnQgdXNlX3BhY2tlZF9naXQoc3RydWN0IHBhY2tlZF9naXQgKik7CmV4dGVybiB2b2lkIHVudXNlX3BhY2tlZF9naXQoc3RydWN0IHBhY2tlZF9naXQgKik7CmV4dGVybiBzdHJ1Y3QgcGFja2VkX2dpdCAqYWRkX3BhY2tlZF9naXQoY2hhciAqLCBpbnQsIGludCk7CmV4dGVybiBpbnQgbnVtX3BhY2tlZF9vYmplY3RzKGNvbnN0IHN0cnVjdCBwYWNrZWRfZ2l0ICpwKTsKZXh0ZXJuIGludCBudGhfcGFja2VkX29iamVjdF9zaGExKGNvbnN0IHN0cnVjdCBwYWNrZWRfZ2l0ICosIGludCwgdW5zaWduZWQgY2hhciopOwpleHRlcm4gaW50IGZpbmRfcGFja19lbnRyeV9vbmUoY29uc3QgdW5zaWduZWQgY2hhciAqLCBzdHJ1Y3QgcGFja19lbnRyeSAqLCBzdHJ1Y3QgcGFja2VkX2dpdCAqKTsKZXh0ZXJuIHZvaWQgKnVucGFja19lbnRyeV9nZW50bHkoc3RydWN0IHBhY2tfZW50cnkgKiwgY2hhciAqLCB1bnNpZ25lZCBsb25nICopOwpleHRlcm4gdm9pZCBwYWNrZWRfb2JqZWN0X2luZm9fZGV0YWlsKHN0cnVjdCBwYWNrX2VudHJ5ICosIGNoYXIgKiwgdW5zaWduZWQgbG9uZyAqLCB1bnNpZ25lZCBsb25nICosIHVuc2lnbmVkIGludCAqLCB1bnNpZ25lZCBjaGFyICopOwoKLyogRHVtYiBzZXJ2ZXJzIHN1cHBvcnQgKi8KZXh0ZXJuIGludCB1cGRhdGVfc2VydmVyX2luZm8oaW50KTsKCnR5cGVkZWYgaW50ICgqY29uZmlnX2ZuX3QpKGNvbnN0IGNoYXIgKiwgY29uc3QgY2hhciAqKTsKZXh0ZXJuIGludCBnaXRfZGVmYXVsdF9jb25maWcoY29uc3QgY2hhciAqLCBjb25zdCBjaGFyICopOwpleHRlcm4gaW50IGdpdF9jb25maWdfZnJvbV9maWxlKGNvbmZpZ19mbl90IGZuLCBjb25zdCBjaGFyICopOwpleHRlcm4gaW50IGdpdF9jb25maWcoY29uZmlnX2ZuX3QgZm4pOwpleHRlcm4gaW50IGdpdF9jb25maWdfaW50KGNvbnN0IGNoYXIgKiwgY29uc3QgY2hhciAqKTsKZXh0ZXJuIGludCBnaXRfY29uZmlnX2Jvb2woY29uc3QgY2hhciAqLCBjb25zdCBjaGFyICopOwpleHRlcm4gaW50IGdpdF9jb25maWdfc2V0KGNvbnN0IGNoYXIgKiwgY29uc3QgY2hhciAqKTsKZXh0ZXJuIGludCBnaXRfY29uZmlnX3NldF9tdWx0aXZhcihjb25zdCBjaGFyICosIGNvbnN0IGNoYXIgKiwgY29uc3QgY2hhciAqLCBpbnQpOwpleHRlcm4gaW50IGNoZWNrX3JlcG9zaXRvcnlfZm9ybWF0X3ZlcnNpb24oY29uc3QgY2hhciAqdmFyLCBjb25zdCBjaGFyICp2YWx1ZSk7CgojZGVmaW5lIE1BWF9HSVROQU1FICgxMDAwKQpleHRlcm4gY2hhciBnaXRfZGVmYXVsdF9lbWFpbFtNQVhfR0lUTkFNRV07CmV4dGVybiBjaGFyIGdpdF9kZWZhdWx0X25hbWVbTUFYX0dJVE5BTUVdOwoKI2RlZmluZSBNQVhfRU5DT0RJTkdfTEVOR1RIIDY0CmV4dGVybiBjaGFyIGdpdF9jb21taXRfZW5jb2RpbmdbTUFYX0VOQ09ESU5HX0xFTkdUSF07CgpleHRlcm4gaW50IGNvcHlfZmQoaW50IGlmZCwgaW50IG9mZCk7CgovKiBGaW5pc2ggb2ZmIHBhY2sgdHJhbnNmZXIgcmVjZWl2aW5nIGVuZCAqLwpleHRlcm4gaW50IHJlY2VpdmVfdW5wYWNrX3BhY2soaW50IGZkWzJdLCBjb25zdCBjaGFyICptZSwgaW50IHF1aWV0KTsKZXh0ZXJuIGludCByZWNlaXZlX2tlZXBfcGFjayhpbnQgZmRbMl0sIGNvbnN0IGNoYXIgKm1lLCBpbnQgcXVpZXQpOwoKLyogcGFnZXIuYyAqLwpleHRlcm4gdm9pZCBzZXR1cF9wYWdlcih2b2lkKTsKCiNlbmRpZiAvKiBDQUNIRV9IICovCg==",
    "text": "#ifndef CACHE_H\n#define CACHE_H\n\n#include \"git-compat-util.h\"\n\n#include SHA1_HEADER\n#include <zlib.h>\n\n#if ZLIB_VERNUM < 0x1200\n#define deflateBound(c,s)  ((s) + (((s) + 7) >> 3) + (((s) + 63) >> 6) + 11)\n#endif\n\n#if defined(DT_UNKNOWN) && !defined(NO_D_TYPE_IN_DIRENT)\n#define DTYPE(de)\t((de)->d_type)\n#else\n#undef DT_UNKNOWN\n#undef DT_DIR\n#undef DT_REG\n#undef DT_LNK\n#define DT_UNKNOWN\t0\n#define DT_DIR\t\t1\n#define DT_REG\t\t2\n#define DT_LNK\t\t3\n#define DTYPE(de)\tDT_UNKNOWN\n#endif\n\n/*\n * Intensive research over the course of many years has shown that\n * port 9418 is totally unused by anything else. Or\n *\n *\tYour search - \"port 9418\" - did not match any documents.\n *\n * as www.google.com puts it.\n *\n * This port has been properly assigned for git use by IANA:\n * git (Assigned-9418) [I06-050728-0001].\n *\n *\tgit  9418/tcp   git pack transfer service\n *\tgit  9418/udp   git pack transfer service\n *\n * with Linus Torvalds <torvalds@osdl.org> as the point of\n * contact. September 2005.\n *\n * See http://www.iana.org/assignments/port-numbers\n */\n#define DEFAULT_GIT_PORT 9418\n\n/*\n * Basic data structures for the directory cache\n */\n\n#define CACHE_SIGNATURE 0x44495243\t/* \"DIRC\" */\nstruct cache_header {\n\tunsigned int hdr_signature;\n\tunsigned int hdr_version;\n\tunsigned int hdr_entries;\n};\n\n/*\n * The \"cache_time\" is just the low 32 bits of the\n * time. It doesn't matter if it overflows - we only\n * check it for equality in the 32 bits we save.\n */\nstruct cache_time {\n\tunsigned int sec;\n\tunsigned int nsec;\n};\n\n/*\n * dev/ino/uid/gid/size are also just tracked to the low 32 bits\n * Again - this is just a (very strong in practice) heuristic that\n * the inode hasn't changed.\n *\n * We save the fields in big-endian order to allow using the\n * index file over NFS transparently.\n */\nstruct cache_entry {\n\tstruct cache_time ce_ctime;\n\tstruct cache_time ce_mtime;\n\tunsigned int ce_dev;\n\tunsigned int ce_ino;\n\tunsigned int ce_mode;\n\tunsigned int ce_uid;\n\tunsigned int ce_gid;\n\tunsigned int ce_size;\n\tunsigned char sha1[20];\n\tunsigned short ce_flags;\n\tchar name[FLEX_ARRAY]; /* more */\n};\n\n#define CE_NAMEMASK  (0x0fff)\n#define CE_STAGEMASK (0x3000)\n#define CE_UPDATE    (0x4000)\n#define CE_VALID     (0x8000)\n#define CE_STAGESHIFT 12\n\n#define create_ce_flags(len, stage) htons((len) | ((stage) << CE_STAGESHIFT))\n#define ce_namelen(ce) (CE_NAMEMASK & ntohs((ce)->ce_flags))\n#define ce_size(ce) cache_entry_size(ce_namelen(ce))\n#define ce_stage(ce) ((CE_STAGEMASK & ntohs((ce)->ce_flags)) >> CE_STAGESHIFT)\n\n#define ce_permissions(mode) (((mode) & 0100) ? 0755 : 0644)\nstatic inline unsigned int create_ce_mode(unsigned int mode)\n{\n\tif (S_ISLNK(mode))\n\t\treturn htonl(S_IFLNK);\n\treturn htonl(S_IFREG | ce_permissions(mode));\n}\n#define canon_mode(mode) \\\n\t(S_ISREG(mode) ? (S_IFREG | ce_permissions(mode)) : \\\n\tS_ISLNK(mode) ? S_IFLNK : S_IFDIR)\n\n#define cache_entry_size(len) ((offsetof(struct cache_entry,name) + (len) + 8) & ~7)\n\nextern struct cache_entry **active_cache;\nextern unsigned int active_nr, active_alloc, active_cache_changed;\nextern struct cache_tree *active_cache_tree;\n\n#define GIT_DIR_ENVIRONMENT \"GIT_DIR\"\n#define DEFAULT_GIT_DIR_ENVIRONMENT \".git\"\n#define DB_ENVIRONMENT \"GIT_OBJECT_DIRECTORY\"\n#define INDEX_ENVIRONMENT \"GIT_INDEX_FILE\"\n#define GRAFT_ENVIRONMENT \"GIT_GRAFT_FILE\"\n\nextern char *get_git_dir(void);\nextern char *get_object_directory(void);\nextern char *get_refs_directory(void);\nextern char *get_index_file(void);\nextern char *get_graft_file(void);\n\n#define ALTERNATE_DB_ENVIRONMENT \"GIT_ALTERNATE_OBJECT_DIRECTORIES\"\n\nextern const char **get_pathspec(const char *prefix, const char **pathspec);\nextern const char *setup_git_directory_gently(int *);\nextern const char *setup_git_directory(void);\nextern const char *prefix_path(const char *prefix, int len, const char *path);\nextern const char *prefix_filename(const char *prefix, int len, const char *path);\nextern void verify_filename(const char *prefix, const char *name);\n\n#define alloc_nr(x) (((x)+16)*3/2)\n\n/* Initialize and use the cache information */\nextern int read_cache(void);\nextern int write_cache(int newfd, struct cache_entry **cache, int entries);\nextern int cache_name_pos(const char *name, int namelen);\n#define ADD_CACHE_OK_TO_ADD 1\t\t/* Ok to add */\n#define ADD_CACHE_OK_TO_REPLACE 2\t/* Ok to replace file/directory */\n#define ADD_CACHE_SKIP_DFCHECK 4\t/* Ok to skip DF conflict checks */\nextern int add_cache_entry(struct cache_entry *ce, int option);\nextern int remove_cache_entry_at(int pos);\nextern int remove_file_from_cache(const char *path);\nextern int ce_same_name(struct cache_entry *a, struct cache_entry *b);\nextern int ce_match_stat(struct cache_entry *ce, struct stat *st, int);\nextern int ce_modified(struct cache_entry *ce, struct stat *st, int);\nextern int ce_path_match(const struct cache_entry *ce, const char **pathspec);\nextern int index_fd(unsigned char *sha1, int fd, struct stat *st, int write_object, const char *type);\nextern int index_pipe(unsigned char *sha1, int fd, const char *type, int write_object);\nextern int index_path(unsigned char *sha1, const char *path, struct stat *st, int write_object);\nextern void fill_stat_cache_info(struct cache_entry *ce, struct stat *st);\n\nstruct cache_file {\n\tstruct cache_file *next;\n\tchar lockfile[PATH_MAX];\n};\nextern int hold_index_file_for_update(struct cache_file *, const char *path);\nextern int commit_index_file(struct cache_file *);\nextern void rollback_index_file(struct cache_file *);\n\n/* Environment bits from configuration mechanism */\nextern int trust_executable_bit;\nextern int assume_unchanged;\nextern int only_use_symrefs;\nextern int warn_ambiguous_refs;\nextern int diff_rename_limit_default;\nextern int shared_repository;\nextern const char *apply_default_whitespace;\n\n#define GIT_REPO_VERSION 0\nextern int repository_format_version;\nextern int check_repository_format(void);\n\n#define MTIME_CHANGED\t0x0001\n#define CTIME_CHANGED\t0x0002\n#define OWNER_CHANGED\t0x0004\n#define MODE_CHANGED    0x0008\n#define INODE_CHANGED   0x0010\n#define DATA_CHANGED    0x0020\n#define TYPE_CHANGED    0x0040\n\n/* Return a statically allocated filename matching the sha1 signature */\nextern char *mkpath(const char *fmt, ...) __attribute__((format (printf, 1, 2)));\nextern char *git_path(const char *fmt, ...) __attribute__((format (printf, 1, 2)));\nextern char *sha1_file_name(const unsigned char *sha1);\nextern char *sha1_pack_name(const unsigned char *sha1);\nextern char *sha1_pack_index_name(const unsigned char *sha1);\nextern const char *find_unique_abbrev(const unsigned char *sha1, int);\nextern const unsigned char null_sha1[20];\n\nint git_mkstemp(char *path, size_t n, const char *template);\n\nint adjust_shared_perm(const char *path);\nint safe_create_leading_directories(char *path);\nchar *safe_strncpy(char *, const char *, size_t);\nchar *enter_repo(char *path, int strict);\n\n/* Read and unpack a sha1 file into memory, write memory to a sha1 file */\nextern int unpack_sha1_header(z_stream *stream, void *map, unsigned long mapsize, void *buffer, unsigned long size);\nextern int parse_sha1_header(char *hdr, char *type, unsigned long *sizep);\nextern int sha1_object_info(const unsigned char *, char *, unsigned long *);\nextern void * unpack_sha1_file(void *map, unsigned long mapsize, char *type, unsigned long *size);\nextern void * read_sha1_file(const unsigned char *sha1, char *type, unsigned long *size);\nextern int write_sha1_file(void *buf, unsigned long len, const char *type, unsigned char *return_sha1);\nextern char *write_sha1_file_prepare(void *buf,\n\t\t\t\t     unsigned long len,\n\t\t\t\t     const char *type,\n\t\t\t\t     unsigned char *sha1,\n\t\t\t\t     unsigned char *hdr,\n\t\t\t\t     int *hdrlen);\n\nextern int check_sha1_signature(const unsigned char *sha1, void *buf, unsigned long size, const char *type);\n\nextern int write_sha1_from_fd(const unsigned char *sha1, int fd, char *buffer,\n\t\t\t      size_t bufsize, size_t *bufposn);\nextern int write_sha1_to_fd(int fd, const unsigned char *sha1);\nextern int move_temp_to_file(const char *tmpfile, char *filename);\n\nextern int has_sha1_pack(const unsigned char *sha1);\nextern int has_sha1_file(const unsigned char *sha1);\n\nextern int has_pack_file(const unsigned char *sha1);\nextern int has_pack_index(const unsigned char *sha1);\n\n/* Convert to/from hex/sha1 representation */\n#define MINIMUM_ABBREV 4\n#define DEFAULT_ABBREV 7\n\nextern int get_sha1(const char *str, unsigned char *sha1);\nextern int get_sha1_hex(const char *hex, unsigned char *sha1);\nextern char *sha1_to_hex(const unsigned char *sha1);\t/* static buffer result! */\nextern int read_ref(const char *filename, unsigned char *sha1);\nextern const char *resolve_ref(const char *path, unsigned char *sha1, int);\nextern int create_symref(const char *git_HEAD, const char *refs_heads_master);\nextern int validate_symref(const char *git_HEAD);\n\nextern int base_name_compare(const char *name1, int len1, int mode1, const char *name2, int len2, int mode2);\nextern int cache_name_compare(const char *name1, int len1, const char *name2, int len2);\n\nextern void *read_object_with_reference(const unsigned char *sha1,\n\t\t\t\t\tconst char *required_type,\n\t\t\t\t\tunsigned long *size,\n\t\t\t\t\tunsigned char *sha1_ret);\n\nconst char *show_date(unsigned long time, int timezone);\nint parse_date(const char *date, char *buf, int bufsize);\nvoid datestamp(char *buf, int bufsize);\nunsigned long approxidate(const char *);\n\nextern int setup_ident(void);\nextern const char *git_author_info(int);\nextern const char *git_committer_info(int);\n\nstruct checkout {\n\tconst char *base_dir;\n\tint base_dir_len;\n\tunsigned force:1,\n\t\t quiet:1,\n\t\t not_new:1,\n\t\t refresh_cache:1;\n};\n\nextern int checkout_entry(struct cache_entry *ce, struct checkout *state, char *topath);\n\nextern struct alternate_object_database {\n\tstruct alternate_object_database *next;\n\tchar *name;\n\tchar base[FLEX_ARRAY]; /* more */\n} *alt_odb_list;\nextern void prepare_alt_odb(void);\n\nextern struct packed_git {\n\tstruct packed_git *next;\n\tunsigned long index_size;\n\tunsigned long pack_size;\n\tunsigned int *index_base;\n\tvoid *pack_base;\n\tunsigned int pack_last_used;\n\tunsigned int pack_use_cnt;\n\tint pack_local;\n\tunsigned char sha1[20];\n\t/* something like \".git/objects/pack/xxxxx.pack\" */\n\tchar pack_name[FLEX_ARRAY]; /* more */\n} *packed_git;\n\nstruct pack_entry {\n\tunsigned int offset;\n\tunsigned char sha1[20];\n\tstruct packed_git *p;\n};\n\nstruct ref {\n\tstruct ref *next;\n\tunsigned char old_sha1[20];\n\tunsigned char new_sha1[20];\n\tunsigned char force;\n\tstruct ref *peer_ref; /* when renaming */\n\tchar name[FLEX_ARRAY]; /* more */\n};\n\nextern int git_connect(int fd[2], char *url, const char *prog);\nextern int finish_connect(pid_t pid);\nextern int path_match(const char *path, int nr, char **match);\nextern int match_refs(struct ref *src, struct ref *dst, struct ref ***dst_tail,\n\t\t      int nr_refspec, char **refspec, int all);\nextern int get_ack(int fd, unsigned char *result_sha1);\nextern struct ref **get_remote_heads(int in, struct ref **list, int nr_match, char **match, int ignore_funny);\nextern int server_supports(const char *feature);\n\nextern struct packed_git *parse_pack_index(unsigned char *sha1);\nextern struct packed_git *parse_pack_index_file(const unsigned char *sha1,\n\t\t\t\t\t\tchar *idx_path);\n\nextern void prepare_packed_git(void);\nextern void install_packed_git(struct packed_git *pack);\n\nextern struct packed_git *find_sha1_pack(const unsigned char *sha1, \n\t\t\t\t\t struct packed_git *packs);\n\nextern int use_packed_git(struct packed_git *);\nextern void unuse_packed_git(struct packed_git *);\nextern struct packed_git *add_packed_git(char *, int, int);\nextern int num_packed_objects(const struct packed_git *p);\nextern int nth_packed_object_sha1(const struct packed_git *, int, unsigned char*);\nextern int find_pack_entry_one(const unsigned char *, struct pack_entry *, struct packed_git *);\nextern void *unpack_entry_gently(struct pack_entry *, char *, unsigned long *);\nextern void packed_object_info_detail(struct pack_entry *, char *, unsigned long *, unsigned long *, unsigned int *, unsigned char *);\n\n/* Dumb servers support */\nextern int update_server_info(int);\n\ntypedef int (*config_fn_t)(const char *, const char *);\nextern int git_default_config(const char *, const char *);\nextern int git_config_from_file(config_fn_t fn, const char *);\nextern int git_config(config_fn_t fn);\nextern int git_config_int(const char *, const char *);\nextern int git_config_bool(const char *, const char *);\nextern int git_config_set(const char *, const char *);\nextern int git_config_set_multivar(const char *, const char *, const char *, int);\nextern int check_repository_format_version(const char *var, const char *value);\n\n#define MAX_GITNAME (1000)\nextern char git_default_email[MAX_GITNAME];\nextern char git_default_name[MAX_GITNAME];\n\n#define MAX_ENCODING_LENGTH 64\nextern char git_commit_encoding[MAX_ENCODING_LENGTH];\n\nextern int copy_fd(int ifd, int ofd);\n\n/* Finish off pack transfer receiving end */\nextern int receive_unpack_pack(int fd[2], const char *me, int quiet);\nextern int receive_keep_pack(int fd[2], const char *me, int quiet);\n\n/* pager.c */\nextern void setup_pager(void);\n\n#endif /* CACHE_H */\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00b8804da8f74b6ea23e348adaeb8322f9b00c92",
  "sha1_ok": true,
  "size": 13129
}
