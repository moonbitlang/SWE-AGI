{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMDcgQW5keSBQYXJraW5zCiMKCnRlc3RfZGVzY3JpcHRpb249J2Zvci1lYWNoLXJlZiB0ZXN0JwoKLiAuL3Rlc3QtbGliLnNoCkdOVVBHSE9NRV9OT1RfVVNFRD0kR05VUEdIT01FCi4gIiRURVNUX0RJUkVDVE9SWSIvbGliLWdwZy5zaAouICIkVEVTVF9ESVJFQ1RPUlkiL2xpYi10ZXJtaW5hbC5zaAoKIyBNb24gSnVsIDMgMjM6MTg6NDMgMjAwNiArMDAwMApkYXRlc3RhbXA9MTE1MTk2ODcyMwpzZXRkYXRlX2FuZF9pbmNyZW1lbnQgKCkgewogICAgR0lUX0NPTU1JVFRFUl9EQVRFPSIkZGF0ZXN0YW1wICswMjAwIgogICAgZGF0ZXN0YW1wPSQoZXhwciAiJGRhdGVzdGFtcCIgKyAxKQogICAgR0lUX0FVVEhPUl9EQVRFPSIkZGF0ZXN0YW1wICswMjAwIgogICAgZGF0ZXN0YW1wPSQoZXhwciAiJGRhdGVzdGFtcCIgKyAxKQogICAgZXhwb3J0IEdJVF9DT01NSVRURVJfREFURSBHSVRfQVVUSE9SX0RBVEUKfQoKdGVzdF9leHBlY3Rfc3VjY2VzcyBzZXR1cCAnCgl0ZXN0X29pZF9jYWNoZSA8PC1FT0YgJiYKCWRpc2tsZW4gc2hhMToxMzgKCWRpc2tsZW4gc2hhMjU2OjE1NAoJRU9GCgoJIyBzZXR1cCAubWFpbG1hcAoJY2F0ID4ubWFpbG1hcCA8PC1FT0YgJiYKCUEgVGhvciA8YXRob3JAZXhhbXBsZS5jb20+IEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+CglDIE1pdHRlciA8Y21pdHRlckBleGFtcGxlLmNvbT4gQyBPIE1pdHRlciA8Y29tbWl0dGVyQGV4YW1wbGUuY29tPgoJRU9GCgoJc2V0ZGF0ZV9hbmRfaW5jcmVtZW50ICYmCgllY2hvICJVc2luZyAkZGF0ZXN0YW1wIiA+IG9uZSAmJgoJZ2l0IGFkZCBvbmUgJiYKCWdpdCBjb21taXQgLW0gIkluaXRpYWwiICYmCglnaXQgYnJhbmNoIC1NIG1haW4gJiYKCXNldGRhdGVfYW5kX2luY3JlbWVudCAmJgoJZ2l0IHRhZyAtYSAtbSAiVGFnZ2luZyBhdCAkZGF0ZXN0YW1wIiB0ZXN0dGFnICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL3JlbW90ZXMvb3JpZ2luL21haW4gbWFpbiAmJgoJZ2l0IHJlbW90ZSBhZGQgb3JpZ2luIG5vd2hlcmUgJiYKCWdpdCBjb25maWcgYnJhbmNoLm1haW4ucmVtb3RlIG9yaWdpbiAmJgoJZ2l0IGNvbmZpZyBicmFuY2gubWFpbi5tZXJnZSByZWZzL2hlYWRzL21haW4gJiYKCWdpdCByZW1vdGUgYWRkIG15Zm9yayBlbHNld2hlcmUgJiYKCWdpdCBjb25maWcgcmVtb3RlLnB1c2hkZWZhdWx0IG15Zm9yayAmJgoJZ2l0IGNvbmZpZyBwdXNoLmRlZmF1bHQgY3VycmVudAonCgp0ZXN0X2F0b20gKCkgewoJY2FzZSAiJDEiIGluCgkJaGVhZCkgcmVmPXJlZnMvaGVhZHMvbWFpbiA7OwoJCSB0YWcpIHJlZj1yZWZzL3RhZ3MvdGVzdHRhZyA7OwoJCSBzeW0pIHJlZj1yZWZzL2hlYWRzL3N5bSA7OwoJCSAgICopIHJlZj0kMSA7OwoJZXNhYwoJZm9ybWF0PSQyCgl0ZXN0X2RvPXRlc3RfZXhwZWN0XyR7NDotc3VjY2Vzc30KCglwcmludGYgJyVzXG4nICIkMyIgPmV4cGVjdGVkCgkkdGVzdF9kbyAkUFJFUkVRICJiYXNpYyBhdG9tOiAkcmVmICRmb3JtYXQiICcKCQlnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKCRmb3JtYXQpIiAiJHJlZiIgPmFjdHVhbCAmJgoJCXNhbml0aXplX3BncCA8YWN0dWFsID5hY3R1YWwuY2xlYW4gJiYKCQl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwuY2xlYW4KCScKCgkjIEF1dG9tYXRpY2FsbHkgdGVzdCAiY29udGVudHM6c2l6ZSIgYXRvbSBhZnRlciB0ZXN0aW5nICJjb250ZW50cyIKCWlmIHRlc3QgIiRmb3JtYXQiID0gImNvbnRlbnRzIgoJdGhlbgoJCSMgZm9yIGNvbW1pdCBsZWcsICQzIGlzIGNoYW5nZWQgdGhlcmUKCQlleHBlY3Q9JChwcmludGYgJyVzJyAiJDMiIHwgd2MgLWMpCgkJJHRlc3RfZG8gJFBSRVJFUSAiYmFzaWMgYXRvbTogJHJlZiBjb250ZW50czpzaXplIiAnCgkJCXR5cGU9JChnaXQgY2F0LWZpbGUgLXQgIiRyZWYiKSAmJgoJCQljYXNlICR0eXBlIGluCgkJCXRhZykKCQkJCSMgV2UgY2Fubm90IHVzZSAkMyBhcyBpdCBleHBlY3RzIHNhbml0aXplX3BncCB0byBydW4KCQkJCWdpdCBjYXQtZmlsZSB0YWcgJHJlZiA+b3V0ICYmCgkJCQlleHBlY3Q9JCh0YWlsIC1uICs2IG91dCB8IHdjIC1jKSAmJgoJCQkJcm0gLWYgb3V0IDs7CgkJCXRyZWUgfCBibG9iKQoJCQkJZXhwZWN0PSIiIDs7CgkJCWNvbW1pdCkKCQkJCTogInVzZSB0aGUgY2FsY3VsYXRlZCBleHBlY3QiIDs7CgkJCSopCgkJCQlCVUcgInVua25vd24gb2JqZWN0IHR5cGUiIDs7CgkJCWVzYWMgJiYKCQkJIyBMZWF2ZSAkZXhwZWN0IHVucXVvdGVkIHRvIGxvc2UgcG9zc2libGUgbGVhZGluZyB3aGl0ZXNwYWNlcwoJCQllY2hvICRleHBlY3QgPmV4cGVjdGVkICYmCgkJCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoY29udGVudHM6c2l6ZSkiICIkcmVmIiA+YWN0dWFsICYmCgkJCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAoJCScKCWZpCn0KCmhleGxlbj0kKHRlc3Rfb2lkIGhleHN6KQpkaXNrbGVuPSQodGVzdF9vaWQgZGlza2xlbikKCnRlc3RfYXRvbSBoZWFkIHJlZm5hbWUgcmVmcy9oZWFkcy9tYWluCnRlc3RfYXRvbSBoZWFkIHJlZm5hbWU6IHJlZnMvaGVhZHMvbWFpbgp0ZXN0X2F0b20gaGVhZCByZWZuYW1lOnNob3J0IG1haW4KdGVzdF9hdG9tIGhlYWQgcmVmbmFtZTpsc3RyaXA9MSBoZWFkcy9tYWluCnRlc3RfYXRvbSBoZWFkIHJlZm5hbWU6bHN0cmlwPTIgbWFpbgp0ZXN0X2F0b20gaGVhZCByZWZuYW1lOmxzdHJpcD0tMSBtYWluCnRlc3RfYXRvbSBoZWFkIHJlZm5hbWU6bHN0cmlwPS0yIGhlYWRzL21haW4KdGVzdF9hdG9tIGhlYWQgcmVmbmFtZTpyc3RyaXA9MSByZWZzL2hlYWRzCnRlc3RfYXRvbSBoZWFkIHJlZm5hbWU6cnN0cmlwPTIgcmVmcwp0ZXN0X2F0b20gaGVhZCByZWZuYW1lOnJzdHJpcD0tMSByZWZzCnRlc3RfYXRvbSBoZWFkIHJlZm5hbWU6cnN0cmlwPS0yIHJlZnMvaGVhZHMKdGVzdF9hdG9tIGhlYWQgcmVmbmFtZTpzdHJpcD0xIGhlYWRzL21haW4KdGVzdF9hdG9tIGhlYWQgcmVmbmFtZTpzdHJpcD0yIG1haW4KdGVzdF9hdG9tIGhlYWQgcmVmbmFtZTpzdHJpcD0tMSBtYWluCnRlc3RfYXRvbSBoZWFkIHJlZm5hbWU6c3RyaXA9LTIgaGVhZHMvbWFpbgp0ZXN0X2F0b20gaGVhZCB1cHN0cmVhbSByZWZzL3JlbW90ZXMvb3JpZ2luL21haW4KdGVzdF9hdG9tIGhlYWQgdXBzdHJlYW06c2hvcnQgb3JpZ2luL21haW4KdGVzdF9hdG9tIGhlYWQgdXBzdHJlYW06bHN0cmlwPTIgb3JpZ2luL21haW4KdGVzdF9hdG9tIGhlYWQgdXBzdHJlYW06bHN0cmlwPS0yIG9yaWdpbi9tYWluCnRlc3RfYXRvbSBoZWFkIHVwc3RyZWFtOnJzdHJpcD0yIHJlZnMvcmVtb3Rlcwp0ZXN0X2F0b20gaGVhZCB1cHN0cmVhbTpyc3RyaXA9LTIgcmVmcy9yZW1vdGVzCnRlc3RfYXRvbSBoZWFkIHVwc3RyZWFtOnN0cmlwPTIgb3JpZ2luL21haW4KdGVzdF9hdG9tIGhlYWQgdXBzdHJlYW06c3RyaXA9LTIgb3JpZ2luL21haW4KdGVzdF9hdG9tIGhlYWQgcHVzaCByZWZzL3JlbW90ZXMvbXlmb3JrL21haW4KdGVzdF9hdG9tIGhlYWQgcHVzaDpzaG9ydCBteWZvcmsvbWFpbgp0ZXN0X2F0b20gaGVhZCBwdXNoOmxzdHJpcD0xIHJlbW90ZXMvbXlmb3JrL21haW4KdGVzdF9hdG9tIGhlYWQgcHVzaDpsc3RyaXA9LTEgbWFpbgp0ZXN0X2F0b20gaGVhZCBwdXNoOnJzdHJpcD0xIHJlZnMvcmVtb3Rlcy9teWZvcmsKdGVzdF9hdG9tIGhlYWQgcHVzaDpyc3RyaXA9LTEgcmVmcwp0ZXN0X2F0b20gaGVhZCBwdXNoOnN0cmlwPTEgcmVtb3Rlcy9teWZvcmsvbWFpbgp0ZXN0X2F0b20gaGVhZCBwdXNoOnN0cmlwPS0xIG1haW4KdGVzdF9hdG9tIGhlYWQgb2JqZWN0dHlwZSBjb21taXQKdGVzdF9hdG9tIGhlYWQgb2JqZWN0c2l6ZSAkKCgxMzEgKyBoZXhsZW4pKQp0ZXN0X2F0b20gaGVhZCBvYmplY3RzaXplOmRpc2sgJGRpc2tsZW4KdGVzdF9hdG9tIGhlYWQgZGVsdGFiYXNlICRaRVJPX09JRAp0ZXN0X2F0b20gaGVhZCBvYmplY3RuYW1lICQoZ2l0IHJldi1wYXJzZSByZWZzL2hlYWRzL21haW4pCnRlc3RfYXRvbSBoZWFkIG9iamVjdG5hbWU6c2hvcnQgJChnaXQgcmV2LXBhcnNlIC0tc2hvcnQgcmVmcy9oZWFkcy9tYWluKQp0ZXN0X2F0b20gaGVhZCBvYmplY3RuYW1lOnNob3J0PTEgJChnaXQgcmV2LXBhcnNlIC0tc2hvcnQ9MSByZWZzL2hlYWRzL21haW4pCnRlc3RfYXRvbSBoZWFkIG9iamVjdG5hbWU6c2hvcnQ9MTAgJChnaXQgcmV2LXBhcnNlIC0tc2hvcnQ9MTAgcmVmcy9oZWFkcy9tYWluKQp0ZXN0X2F0b20gaGVhZCB0cmVlICQoZ2l0IHJldi1wYXJzZSByZWZzL2hlYWRzL21haW5ee3RyZWV9KQp0ZXN0X2F0b20gaGVhZCB0cmVlOnNob3J0ICQoZ2l0IHJldi1wYXJzZSAtLXNob3J0IHJlZnMvaGVhZHMvbWFpbl57dHJlZX0pCnRlc3RfYXRvbSBoZWFkIHRyZWU6c2hvcnQ9MSAkKGdpdCByZXYtcGFyc2UgLS1zaG9ydD0xIHJlZnMvaGVhZHMvbWFpbl57dHJlZX0pCnRlc3RfYXRvbSBoZWFkIHRyZWU6c2hvcnQ9MTAgJChnaXQgcmV2LXBhcnNlIC0tc2hvcnQ9MTAgcmVmcy9oZWFkcy9tYWluXnt0cmVlfSkKdGVzdF9hdG9tIGhlYWQgcGFyZW50ICcnCnRlc3RfYXRvbSBoZWFkIHBhcmVudDpzaG9ydCAnJwp0ZXN0X2F0b20gaGVhZCBwYXJlbnQ6c2hvcnQ9MSAnJwp0ZXN0X2F0b20gaGVhZCBwYXJlbnQ6c2hvcnQ9MTAgJycKdGVzdF9hdG9tIGhlYWQgbnVtcGFyZW50IDAKdGVzdF9hdG9tIGhlYWQgb2JqZWN0ICcnCnRlc3RfYXRvbSBoZWFkIHR5cGUgJycKdGVzdF9hdG9tIGhlYWQgcmF3ICIkKGdpdCBjYXQtZmlsZSBjb21taXQgcmVmcy9oZWFkcy9tYWluKQoiCnRlc3RfYXRvbSBoZWFkICcqb2JqZWN0bmFtZScgJycKdGVzdF9hdG9tIGhlYWQgJypvYmplY3R0eXBlJyAnJwp0ZXN0X2F0b20gaGVhZCBhdXRob3IgJ0EgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+IDExNTE5Njg3MjQgKzAyMDAnCnRlc3RfYXRvbSBoZWFkIGF1dGhvcm5hbWUgJ0EgVSBUaG9yJwp0ZXN0X2F0b20gaGVhZCBhdXRob3JuYW1lOm1haWxtYXAgJ0EgVGhvcicKdGVzdF9hdG9tIGhlYWQgYXV0aG9yZW1haWwgJzxhdXRob3JAZXhhbXBsZS5jb20+Jwp0ZXN0X2F0b20gaGVhZCBhdXRob3JlbWFpbDp0cmltICdhdXRob3JAZXhhbXBsZS5jb20nCnRlc3RfYXRvbSBoZWFkIGF1dGhvcmVtYWlsOmxvY2FscGFydCAnYXV0aG9yJwp0ZXN0X2F0b20gaGVhZCBhdXRob3JlbWFpbDp0cmltLGxvY2FscGFydCAnYXV0aG9yJwp0ZXN0X2F0b20gaGVhZCBhdXRob3JlbWFpbDptYWlsbWFwICc8YXRob3JAZXhhbXBsZS5jb20+Jwp0ZXN0X2F0b20gaGVhZCBhdXRob3JlbWFpbDptYWlsbWFwLHRyaW0gJ2F0aG9yQGV4YW1wbGUuY29tJwp0ZXN0X2F0b20gaGVhZCBhdXRob3JlbWFpbDp0cmltLG1haWxtYXAgJ2F0aG9yQGV4YW1wbGUuY29tJwp0ZXN0X2F0b20gaGVhZCBhdXRob3JlbWFpbDptYWlsbWFwLGxvY2FscGFydCAnYXRob3InCnRlc3RfYXRvbSBoZWFkIGF1dGhvcmVtYWlsOmxvY2FscGFydCxtYWlsbWFwICdhdGhvcicKdGVzdF9hdG9tIGhlYWQgYXV0aG9yZW1haWw6bWFpbG1hcCx0cmltLGxvY2FscGFydCxtYWlsbWFwLHRyaW0gJ2F0aG9yJwp0ZXN0X2F0b20gaGVhZCBhdXRob3JkYXRlICdUdWUgSnVsIDQgMDE6MTg6NDQgMjAwNiArMDIwMCcKdGVzdF9hdG9tIGhlYWQgY29tbWl0dGVyICdDIE8gTWl0dGVyIDxjb21taXR0ZXJAZXhhbXBsZS5jb20+IDExNTE5Njg3MjMgKzAyMDAnCnRlc3RfYXRvbSBoZWFkIGNvbW1pdHRlcm5hbWUgJ0MgTyBNaXR0ZXInCnRlc3RfYXRvbSBoZWFkIGNvbW1pdHRlcm5hbWU6bWFpbG1hcCAnQyBNaXR0ZXInCnRlc3RfYXRvbSBoZWFkIGNvbW1pdHRlcmVtYWlsICc8Y29tbWl0dGVyQGV4YW1wbGUuY29tPicKdGVzdF9hdG9tIGhlYWQgY29tbWl0dGVyZW1haWw6dHJpbSAnY29tbWl0dGVyQGV4YW1wbGUuY29tJwp0ZXN0X2F0b20gaGVhZCBjb21taXR0ZXJlbWFpbDpsb2NhbHBhcnQgJ2NvbW1pdHRlcicKdGVzdF9hdG9tIGhlYWQgY29tbWl0dGVyZW1haWw6bG9jYWxwYXJ0LHRyaW0gJ2NvbW1pdHRlcicKdGVzdF9hdG9tIGhlYWQgY29tbWl0dGVyZW1haWw6bWFpbG1hcCAnPGNtaXR0ZXJAZXhhbXBsZS5jb20+Jwp0ZXN0X2F0b20gaGVhZCBjb21taXR0ZXJlbWFpbDptYWlsbWFwLHRyaW0gJ2NtaXR0ZXJAZXhhbXBsZS5jb20nCnRlc3RfYXRvbSBoZWFkIGNvbW1pdHRlcmVtYWlsOnRyaW0sbWFpbG1hcCAnY21pdHRlckBleGFtcGxlLmNvbScKdGVzdF9hdG9tIGhlYWQgY29tbWl0dGVyZW1haWw6bWFpbG1hcCxsb2NhbHBhcnQgJ2NtaXR0ZXInCnRlc3RfYXRvbSBoZWFkIGNvbW1pdHRlcmVtYWlsOmxvY2FscGFydCxtYWlsbWFwICdjbWl0dGVyJwp0ZXN0X2F0b20gaGVhZCBjb21taXR0ZXJlbWFpbDp0cmltLG1haWxtYXAsdHJpbSx0cmltLGxvY2FscGFydCAnY21pdHRlcicKdGVzdF9hdG9tIGhlYWQgY29tbWl0dGVyZGF0ZSAnVHVlIEp1bCA0IDAxOjE4OjQzIDIwMDYgKzAyMDAnCnRlc3RfYXRvbSBoZWFkIHRhZyAnJwp0ZXN0X2F0b20gaGVhZCB0YWdnZXIgJycKdGVzdF9hdG9tIGhlYWQgdGFnZ2VybmFtZSAnJwp0ZXN0X2F0b20gaGVhZCB0YWdnZXJlbWFpbCAnJwp0ZXN0X2F0b20gaGVhZCB0YWdnZXJlbWFpbDp0cmltICcnCnRlc3RfYXRvbSBoZWFkIHRhZ2dlcmVtYWlsOmxvY2FscGFydCAnJwp0ZXN0X2F0b20gaGVhZCB0YWdnZXJkYXRlICcnCnRlc3RfYXRvbSBoZWFkIGNyZWF0b3IgJ0MgTyBNaXR0ZXIgPGNvbW1pdHRlckBleGFtcGxlLmNvbT4gMTE1MTk2ODcyMyArMDIwMCcKdGVzdF9hdG9tIGhlYWQgY3JlYXRvcmRhdGUgJ1R1ZSBKdWwgNCAwMToxODo0MyAyMDA2ICswMjAwJwp0ZXN0X2F0b20gaGVhZCBzdWJqZWN0ICdJbml0aWFsJwp0ZXN0X2F0b20gaGVhZCBzdWJqZWN0OnNhbml0aXplICdJbml0aWFsJwp0ZXN0X2F0b20gaGVhZCBjb250ZW50czpzdWJqZWN0ICdJbml0aWFsJwp0ZXN0X2F0b20gaGVhZCBib2R5ICcnCnRlc3RfYXRvbSBoZWFkIGNvbnRlbnRzOmJvZHkgJycKdGVzdF9hdG9tIGhlYWQgY29udGVudHM6c2lnbmF0dXJlICcnCnRlc3RfYXRvbSBoZWFkIGNvbnRlbnRzICdJbml0aWFsCicKdGVzdF9hdG9tIGhlYWQgSEVBRCAnKicKCnRlc3RfYXRvbSB0YWcgcmVmbmFtZSByZWZzL3RhZ3MvdGVzdHRhZwp0ZXN0X2F0b20gdGFnIHJlZm5hbWU6c2hvcnQgdGVzdHRhZwp0ZXN0X2F0b20gdGFnIHVwc3RyZWFtICcnCnRlc3RfYXRvbSB0YWcgcHVzaCAnJwp0ZXN0X2F0b20gdGFnIG9iamVjdHR5cGUgdGFnCnRlc3RfYXRvbSB0YWcgb2JqZWN0c2l6ZSAkKCgxMTQgKyBoZXhsZW4pKQp0ZXN0X2F0b20gdGFnIG9iamVjdHNpemU6ZGlzayAkZGlza2xlbgp0ZXN0X2F0b20gdGFnICcqb2JqZWN0c2l6ZTpkaXNrJyAkZGlza2xlbgp0ZXN0X2F0b20gdGFnIGRlbHRhYmFzZSAkWkVST19PSUQKdGVzdF9hdG9tIHRhZyAnKmRlbHRhYmFzZScgJFpFUk9fT0lECnRlc3RfYXRvbSB0YWcgb2JqZWN0bmFtZSAkKGdpdCByZXYtcGFyc2UgcmVmcy90YWdzL3Rlc3R0YWcpCnRlc3RfYXRvbSB0YWcgb2JqZWN0bmFtZTpzaG9ydCAkKGdpdCByZXYtcGFyc2UgLS1zaG9ydCByZWZzL3RhZ3MvdGVzdHRhZykKdGVzdF9hdG9tIGhlYWQgb2JqZWN0bmFtZTpzaG9ydD0xICQoZ2l0IHJldi1wYXJzZSAtLXNob3J0PTEgcmVmcy9oZWFkcy9tYWluKQp0ZXN0X2F0b20gaGVhZCBvYmplY3RuYW1lOnNob3J0PTEwICQoZ2l0IHJldi1wYXJzZSAtLXNob3J0PTEwIHJlZnMvaGVhZHMvbWFpbikKdGVzdF9hdG9tIHRhZyB0cmVlICcnCnRlc3RfYXRvbSB0YWcgdHJlZTpzaG9ydCAnJwp0ZXN0X2F0b20gdGFnIHRyZWU6c2hvcnQ9MSAnJwp0ZXN0X2F0b20gdGFnIHRyZWU6c2hvcnQ9MTAgJycKdGVzdF9hdG9tIHRhZyBwYXJlbnQgJycKdGVzdF9hdG9tIHRhZyBwYXJlbnQ6c2hvcnQgJycKdGVzdF9hdG9tIHRhZyBwYXJlbnQ6c2hvcnQ9MSAnJwp0ZXN0X2F0b20gdGFnIHBhcmVudDpzaG9ydD0xMCAnJwp0ZXN0X2F0b20gdGFnIG51bXBhcmVudCAnJwp0ZXN0X2F0b20gdGFnIG9iamVjdCAkKGdpdCByZXYtcGFyc2UgcmVmcy90YWdzL3Rlc3R0YWdeMCkKdGVzdF9hdG9tIHRhZyB0eXBlICdjb21taXQnCnRlc3RfYXRvbSB0YWcgJypvYmplY3RuYW1lJyAkKGdpdCByZXYtcGFyc2UgcmVmcy90YWdzL3Rlc3R0YWdee30pCnRlc3RfYXRvbSB0YWcgJypvYmplY3R0eXBlJyAnY29tbWl0Jwp0ZXN0X2F0b20gdGFnIGF1dGhvciAnJwp0ZXN0X2F0b20gdGFnIGF1dGhvcm5hbWUgJycKdGVzdF9hdG9tIHRhZyBhdXRob3JuYW1lOm1haWxtYXAgJycKdGVzdF9hdG9tIHRhZyBhdXRob3JlbWFpbCAnJwp0ZXN0X2F0b20gdGFnIGF1dGhvcmVtYWlsOnRyaW0gJycKdGVzdF9hdG9tIHRhZyBhdXRob3JlbWFpbDpsb2NhbHBhcnQgJycKdGVzdF9hdG9tIHRhZyBhdXRob3JlbWFpbDp0cmltLGxvY2FscGFydCAnJwp0ZXN0X2F0b20gdGFnIGF1dGhvcmVtYWlsOm1haWxtYXAgJycKdGVzdF9hdG9tIHRhZyBhdXRob3JlbWFpbDptYWlsbWFwLHRyaW0gJycKdGVzdF9hdG9tIHRhZyBhdXRob3JlbWFpbDp0cmltLG1haWxtYXAgJycKdGVzdF9hdG9tIHRhZyBhdXRob3JlbWFpbDptYWlsbWFwLGxvY2FscGFydCAnJwp0ZXN0X2F0b20gdGFnIGF1dGhvcmVtYWlsOmxvY2FscGFydCxtYWlsbWFwICcnCnRlc3RfYXRvbSB0YWcgYXV0aG9yZW1haWw6bWFpbG1hcCx0cmltLGxvY2FscGFydCxtYWlsbWFwLHRyaW0gJycKdGVzdF9hdG9tIHRhZyBhdXRob3JkYXRlICcnCnRlc3RfYXRvbSB0YWcgY29tbWl0dGVyICcnCnRlc3RfYXRvbSB0YWcgY29tbWl0dGVybmFtZSAnJwp0ZXN0X2F0b20gdGFnIGNvbW1pdHRlcm5hbWU6bWFpbG1hcCAnJwp0ZXN0X2F0b20gdGFnIGNvbW1pdHRlcmVtYWlsICcnCnRlc3RfYXRvbSB0YWcgY29tbWl0dGVyZW1haWw6dHJpbSAnJwp0ZXN0X2F0b20gdGFnIGNvbW1pdHRlcmVtYWlsOmxvY2FscGFydCAnJwp0ZXN0X2F0b20gdGFnIGNvbW1pdHRlcmVtYWlsOmxvY2FscGFydCx0cmltICcnCnRlc3RfYXRvbSB0YWcgY29tbWl0dGVyZW1haWw6bWFpbG1hcCAnJwp0ZXN0X2F0b20gdGFnIGNvbW1pdHRlcmVtYWlsOm1haWxtYXAsdHJpbSAnJwp0ZXN0X2F0b20gdGFnIGNvbW1pdHRlcmVtYWlsOnRyaW0sbWFpbG1hcCAnJwp0ZXN0X2F0b20gdGFnIGNvbW1pdHRlcmVtYWlsOm1haWxtYXAsbG9jYWxwYXJ0ICcnCnRlc3RfYXRvbSB0YWcgY29tbWl0dGVyZW1haWw6bG9jYWxwYXJ0LG1haWxtYXAgJycKdGVzdF9hdG9tIHRhZyBjb21taXR0ZXJlbWFpbDp0cmltLG1haWxtYXAsdHJpbSx0cmltLGxvY2FscGFydCAnJwp0ZXN0X2F0b20gdGFnIGNvbW1pdHRlcmRhdGUgJycKdGVzdF9hdG9tIHRhZyB0YWcgJ3Rlc3R0YWcnCnRlc3RfYXRvbSB0YWcgdGFnZ2VyICdDIE8gTWl0dGVyIDxjb21taXR0ZXJAZXhhbXBsZS5jb20+IDExNTE5Njg3MjUgKzAyMDAnCnRlc3RfYXRvbSB0YWcgdGFnZ2VybmFtZSAnQyBPIE1pdHRlcicKdGVzdF9hdG9tIHRhZyB0YWdnZXJuYW1lOm1haWxtYXAgJ0MgTWl0dGVyJwp0ZXN0X2F0b20gdGFnIHRhZ2dlcmVtYWlsICc8Y29tbWl0dGVyQGV4YW1wbGUuY29tPicKdGVzdF9hdG9tIHRhZyB0YWdnZXJlbWFpbDp0cmltICdjb21taXR0ZXJAZXhhbXBsZS5jb20nCnRlc3RfYXRvbSB0YWcgdGFnZ2VyZW1haWw6bG9jYWxwYXJ0ICdjb21taXR0ZXInCnRlc3RfYXRvbSB0YWcgdGFnZ2VyZW1haWw6dHJpbSxsb2NhbHBhcnQgJ2NvbW1pdHRlcicKdGVzdF9hdG9tIHRhZyB0YWdnZXJlbWFpbDptYWlsbWFwICc8Y21pdHRlckBleGFtcGxlLmNvbT4nCnRlc3RfYXRvbSB0YWcgdGFnZ2VyZW1haWw6bWFpbG1hcCx0cmltICdjbWl0dGVyQGV4YW1wbGUuY29tJwp0ZXN0X2F0b20gdGFnIHRhZ2dlcmVtYWlsOnRyaW0sbWFpbG1hcCAnY21pdHRlckBleGFtcGxlLmNvbScKdGVzdF9hdG9tIHRhZyB0YWdnZXJlbWFpbDptYWlsbWFwLGxvY2FscGFydCAnY21pdHRlcicKdGVzdF9hdG9tIHRhZyB0YWdnZXJlbWFpbDpsb2NhbHBhcnQsbWFpbG1hcCAnY21pdHRlcicKdGVzdF9hdG9tIHRhZyB0YWdnZXJlbWFpbDp0cmltLG1haWxtYXAsdHJpbSxsb2NhbHBhcnQsbG9jYWxwYXJ0ICdjbWl0dGVyJwp0ZXN0X2F0b20gdGFnIHRhZ2dlcmRhdGUgJ1R1ZSBKdWwgNCAwMToxODo0NSAyMDA2ICswMjAwJwp0ZXN0X2F0b20gdGFnIGNyZWF0b3IgJ0MgTyBNaXR0ZXIgPGNvbW1pdHRlckBleGFtcGxlLmNvbT4gMTE1MTk2ODcyNSArMDIwMCcKdGVzdF9hdG9tIHRhZyBjcmVhdG9yZGF0ZSAnVHVlIEp1bCA0IDAxOjE4OjQ1IDIwMDYgKzAyMDAnCnRlc3RfYXRvbSB0YWcgc3ViamVjdCAnVGFnZ2luZyBhdCAxMTUxOTY4NzI3Jwp0ZXN0X2F0b20gdGFnIHN1YmplY3Q6c2FuaXRpemUgJ1RhZ2dpbmctYXQtMTE1MTk2ODcyNycKdGVzdF9hdG9tIHRhZyBjb250ZW50czpzdWJqZWN0ICdUYWdnaW5nIGF0IDExNTE5Njg3MjcnCnRlc3RfYXRvbSB0YWcgYm9keSAnJwp0ZXN0X2F0b20gdGFnIGNvbnRlbnRzOmJvZHkgJycKdGVzdF9hdG9tIHRhZyBjb250ZW50czpzaWduYXR1cmUgJycKdGVzdF9hdG9tIHRhZyBjb250ZW50cyAnVGFnZ2luZyBhdCAxMTUxOTY4NzI3CicKdGVzdF9hdG9tIHRhZyBIRUFEICcgJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnYmFzaWMgYXRvbTogcmVmcy90YWdzL3Rlc3R0YWcgKnJhdycgJwoJZ2l0IGNhdC1maWxlIGNvbW1pdCByZWZzL3RhZ3MvdGVzdHRhZ157fSA+ZXhwZWN0ZWQgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoKnJhdykiIHJlZnMvdGFncy90ZXN0dGFnID5hY3R1YWwgJiYKCXNhbml0aXplX3BncCA8ZXhwZWN0ZWQgPmV4cGVjdGVkLmNsZWFuICYmCgllY2hvID4+ZXhwZWN0ZWQuY2xlYW4gJiYKCXNhbml0aXplX3BncCA8YWN0dWFsID5hY3R1YWwuY2xlYW4gJiYKCXRlc3RfY21wIGV4cGVjdGVkLmNsZWFuIGFjdHVhbC5jbGVhbgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBpbnZhbGlkIGF0b21zIG5hbWVzIGFyZSBlcnJvcnMnICcKCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoSU5WQUxJRCkiIHJlZnMvaGVhZHMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnQ2hlY2sgZm9ybWF0IHNwZWNpZmllcnMgYXJlIGlnbm9yZWQgaW4gbmFtaW5nIGRhdGUgYXRvbXMnICcKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoYXV0aG9yZGF0ZSkiIHJlZnMvaGVhZHMgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoYXV0aG9yZGF0ZTpkZWZhdWx0KSAlKGF1dGhvcmRhdGUpIiByZWZzL2hlYWRzICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKGF1dGhvcmRhdGUpICUoYXV0aG9yZGF0ZTpkZWZhdWx0KSIgcmVmcy9oZWFkcyAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShhdXRob3JkYXRlOmRlZmF1bHQpICUoYXV0aG9yZGF0ZTpkZWZhdWx0KSIgcmVmcy9oZWFkcwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayB2YWxpZCBmb3JtYXQgc3BlY2lmaWVycyBmb3IgZGF0ZSBmaWVsZHMnICcKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoYXV0aG9yZGF0ZTpkZWZhdWx0KSIgcmVmcy9oZWFkcyAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShhdXRob3JkYXRlOnJlbGF0aXZlKSIgcmVmcy9oZWFkcyAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShhdXRob3JkYXRlOnNob3J0KSIgcmVmcy9oZWFkcyAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShhdXRob3JkYXRlOmxvY2FsKSIgcmVmcy9oZWFkcyAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShhdXRob3JkYXRlOmlzbzg2MDEpIiByZWZzL2hlYWRzICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKGF1dGhvcmRhdGU6cmZjMjgyMikiIHJlZnMvaGVhZHMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnQ2hlY2sgaW52YWxpZCBmb3JtYXQgc3BlY2lmaWVycyBhcmUgZXJyb3JzJyAnCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKGF1dGhvcmRhdGU6SU5WQUxJRCkiIHJlZnMvaGVhZHMKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnYXJndW1lbnRzIHRvICUob2JqZWN0bmFtZTpzaG9ydD0pIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnICcKCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUob2JqZWN0bmFtZTpzaG9ydD0wKSIgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUob2JqZWN0bmFtZTpzaG9ydD0tMSkiICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKG9iamVjdG5hbWU6c2hvcnQ9Zm9vKSIKJwoKdGVzdF9iYWRfYXRvbSAoKSB7CgljYXNlICIkMSIgaW4KCWhlYWQpIHJlZj1yZWZzL2hlYWRzL21haW4gOzsKCSB0YWcpIHJlZj1yZWZzL3RhZ3MvdGVzdHRhZyA7OwoJIHN5bSkgcmVmPXJlZnMvaGVhZHMvc3ltIDs7CgkgICAqKSByZWY9JDEgOzsKCWVzYWMKCWZvcm1hdD0kMgoJdGVzdF9kbz10ZXN0X2V4cGVjdF8kezQ6LXN1Y2Nlc3N9CgoJcHJpbnRmICclc1xuJyAiJDMiID5leHBlY3QKCSR0ZXN0X2RvICRQUkVSRVEgImVyciBiYXNpYyBhdG9tOiAkcmVmICRmb3JtYXQiICcKCQl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIFwKCQkJLS1mb3JtYXQ9IiUoJGZvcm1hdCkiICIkcmVmIiAyPmVycm9yICYmCgkJdGVzdF9jbXAgZXhwZWN0IGVycm9yCgknCn0KCnRlc3RfYmFkX2F0b20gaGVhZCAnYXV0aG9yZW1haWw6Zm9vJyBcCgknZmF0YWw6IHVucmVjb2duaXplZCAlKGF1dGhvcmVtYWlsKSBhcmd1bWVudDogZm9vJwoKdGVzdF9iYWRfYXRvbSBoZWFkICdhdXRob3JlbWFpbDptYWlsbWFwLHRyaW0sYmFyJyBcCgknZmF0YWw6IHVucmVjb2duaXplZCAlKGF1dGhvcmVtYWlsKSBhcmd1bWVudDogYmFyJwoKdGVzdF9iYWRfYXRvbSBoZWFkICdhdXRob3JlbWFpbDp0cmltLCcgXAoJJ2ZhdGFsOiB1bnJlY29nbml6ZWQgJShhdXRob3JlbWFpbCkgYXJndW1lbnQ6ICcKCnRlc3RfYmFkX2F0b20gaGVhZCAnYXV0aG9yZW1haWw6bWFpbG1hcHRyaW0nIFwKCSdmYXRhbDogdW5yZWNvZ25pemVkICUoYXV0aG9yZW1haWwpIGFyZ3VtZW50OiB0cmltJwoKdGVzdF9iYWRfYXRvbSBoZWFkICdjb21taXR0ZXJlbWFpbDogJyBcCgknZmF0YWw6IHVucmVjb2duaXplZCAlKGNvbW1pdHRlcmVtYWlsKSBhcmd1bWVudDogICcKCnRlc3RfYmFkX2F0b20gaGVhZCAnY29tbWl0dGVyZW1haWw6IHRyaW0sZm9vJyBcCgknZmF0YWw6IHVucmVjb2duaXplZCAlKGNvbW1pdHRlcmVtYWlsKSBhcmd1bWVudDogIHRyaW0sZm9vJwoKdGVzdF9iYWRfYXRvbSBoZWFkICdjb21taXR0ZXJlbWFpbDptYWlsbWFwLGxvY2FscGFydCAnIFwKCSdmYXRhbDogdW5yZWNvZ25pemVkICUoY29tbWl0dGVyZW1haWwpIGFyZ3VtZW50OiAgJwoKdGVzdF9iYWRfYXRvbSBoZWFkICdjb21taXR0ZXJlbWFpbDp0cmltX2xvY2FscGFydCcgXAoJJ2ZhdGFsOiB1bnJlY29nbml6ZWQgJShjb21taXR0ZXJlbWFpbCkgYXJndW1lbnQ6IF9sb2NhbHBhcnQnCgp0ZXN0X2JhZF9hdG9tIGhlYWQgJ2NvbW1pdHRlcmVtYWlsOmxvY2FscGFydCwsLHRyaW0nIFwKCSdmYXRhbDogdW5yZWNvZ25pemVkICUoY29tbWl0dGVyZW1haWwpIGFyZ3VtZW50OiAsLHRyaW0nCgp0ZXN0X2JhZF9hdG9tIHRhZyAndGFnZ2VyZW1haWw6bWFpbG1hcCx0cmltLCBmb28gJyBcCgknZmF0YWw6IHVucmVjb2duaXplZCAlKHRhZ2dlcmVtYWlsKSBhcmd1bWVudDogIGZvbyAnCgp0ZXN0X2JhZF9hdG9tIHRhZyAndGFnZ2VyZW1haWw6dHJpbSxsb2NhbHBhcnQsJyBcCgknZmF0YWw6IHVucmVjb2duaXplZCAlKHRhZ2dlcmVtYWlsKSBhcmd1bWVudDogJwoKdGVzdF9iYWRfYXRvbSB0YWcgJ3RhZ2dlcmVtYWlsOm1haWxtYXA7bG9jYWxwYXJ0IHRyaW0nIFwKCSdmYXRhbDogdW5yZWNvZ25pemVkICUodGFnZ2VyZW1haWwpIGFyZ3VtZW50OiA7bG9jYWxwYXJ0IHRyaW0nCgp0ZXN0X2JhZF9hdG9tIHRhZyAndGFnZ2VyZW1haWw6bG9jYWxwYXJ0IHRyaW0nIFwKCSdmYXRhbDogdW5yZWNvZ25pemVkICUodGFnZ2VyZW1haWwpIGFyZ3VtZW50OiAgdHJpbScKCnRlc3RfYmFkX2F0b20gdGFnICd0YWdnZXJlbWFpbDptYWlsbWFwLG1haWxtYXAsdHJpbSxxdXgsbG9jYWxwYXJ0LHRyaW0nIFwKCSdmYXRhbDogdW5yZWNvZ25pemVkICUodGFnZ2VyZW1haWwpIGFyZ3VtZW50OiBxdXgsbG9jYWxwYXJ0LHRyaW0nCgp0ZXN0X2RhdGUgKCkgewoJZj0kMSAmJgoJY29tbWl0dGVyX2RhdGU9JDIgJiYKCWF1dGhvcl9kYXRlPSQzICYmCgl0YWdnZXJfZGF0ZT0kNCAmJgoJY2F0ID5leHBlY3RlZCA8PC1FT0YgJiYKCSdyZWZzL2hlYWRzL21haW4nICckY29tbWl0dGVyX2RhdGUnICckYXV0aG9yX2RhdGUnCgkncmVmcy90YWdzL3Rlc3R0YWcnICckdGFnZ2VyX2RhdGUnCglFT0YKCSgKCQlnaXQgZm9yLWVhY2gtcmVmIC0tc2hlbGwgXAoJCQktLWZvcm1hdD0iJShyZWZuYW1lKSAlKGNvbW1pdHRlcmRhdGUke2Y6KzokZn0pICUoYXV0aG9yZGF0ZSR7ZjorOiRmfSkiIFwKCQkJcmVmcy9oZWFkcyAmJgoJCWdpdCBmb3ItZWFjaC1yZWYgLS1zaGVsbCBcCgkJCS0tZm9ybWF0PSIlKHJlZm5hbWUpICUodGFnZ2VyZGF0ZSR7ZjorOiRmfSkiIFwKCQkJcmVmcy90YWdzCgkpID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAp9Cgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayB1bmZvcm1hdHRlZCBkYXRlIGZpZWxkcyBvdXRwdXQnICcKCXRlc3RfZGF0ZSAiIiBcCgkJIlR1ZSBKdWwgNCAwMToxODo0MyAyMDA2ICswMjAwIiBcCgkJIlR1ZSBKdWwgNCAwMToxODo0NCAyMDA2ICswMjAwIiBcCgkJIlR1ZSBKdWwgNCAwMToxODo0NSAyMDA2ICswMjAwIgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBmb3JtYXQgImRlZmF1bHQiIGZvcm1hdHRlZCBkYXRlIGZpZWxkcyBvdXRwdXQnICcKCXRlc3RfZGF0ZSBkZWZhdWx0IFwKCQkiVHVlIEp1bCA0IDAxOjE4OjQzIDIwMDYgKzAyMDAiIFwKCQkiVHVlIEp1bCA0IDAxOjE4OjQ0IDIwMDYgKzAyMDAiIFwKCQkiVHVlIEp1bCA0IDAxOjE4OjQ1IDIwMDYgKzAyMDAiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ0NoZWNrIGZvcm1hdCAiZGVmYXVsdC1sb2NhbCIgZGF0ZSBmaWVsZHMgb3V0cHV0JyAnCgl0ZXN0X2RhdGUgZGVmYXVsdC1sb2NhbCAiTW9uIEp1bCAzIDIzOjE4OjQzIDIwMDYiICJNb24gSnVsIDMgMjM6MTg6NDQgMjAwNiIgIk1vbiBKdWwgMyAyMzoxODo0NSAyMDA2IgonCgojIERvbid0IGtub3cgaG93IHRvIGRvIHJlbGF0aXZlIGNoZWNrIGJlY2F1c2UgSSBjYW4ndCBrbm93IHdoZW4gdGhpcyBzY3JpcHQKIyBpcyBnb2luZyB0byBiZSBydW4gYW5kIGNhbid0IGZha2UgdGhlIGN1cnJlbnQgdGltZSB0byBnaXQsIGFuZCBoZW5jZSBjYW4ndAojIHByb3ZpZGUgZXhwZWN0ZWQgb3V0cHV0LiAgSW5zdGVhZCwgSSdsbCBqdXN0IG1ha2Ugc3VyZSB0aGF0ICJyZWxhdGl2ZSIKIyBkb2Vzbid0IGV4aXQgaW4gZXJyb3IKdGVzdF9leHBlY3Rfc3VjY2VzcyAnQ2hlY2sgZm9ybWF0ICJyZWxhdGl2ZSIgZGF0ZSBmaWVsZHMgb3V0cHV0JyAnCglmPXJlbGF0aXZlICYmCgkoZ2l0IGZvci1lYWNoLXJlZiAtLXNoZWxsIC0tZm9ybWF0PSIlKHJlZm5hbWUpICUoY29tbWl0dGVyZGF0ZTokZikgJShhdXRob3JkYXRlOiRmKSIgcmVmcy9oZWFkcyAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLXNoZWxsIC0tZm9ybWF0PSIlKHJlZm5hbWUpICUodGFnZ2VyZGF0ZTokZikiIHJlZnMvdGFncykgPmFjdHVhbAonCgojIFdlIGp1c3QgY2hlY2sgdGhhdCB0aGlzIGlzIHRoZSBzYW1lIGFzICJyZWxhdGl2ZSIgZm9yIG5vdy4KdGVzdF9leHBlY3Rfc3VjY2VzcyAnQ2hlY2sgZm9ybWF0ICJyZWxhdGl2ZS1sb2NhbCIgZGF0ZSBmaWVsZHMgb3V0cHV0JyAnCgl0ZXN0X2RhdGUgcmVsYXRpdmUtbG9jYWwgXAoJCSIkKGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoY29tbWl0dGVyZGF0ZTpyZWxhdGl2ZSkiIHJlZnMvaGVhZHMpIiBcCgkJIiQoZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShhdXRob3JkYXRlOnJlbGF0aXZlKSIgcmVmcy9oZWFkcykiIFwKCQkiJChnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHRhZ2dlcmRhdGU6cmVsYXRpdmUpIiByZWZzL3RhZ3MpIgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBmb3JtYXQgInNob3J0IiBkYXRlIGZpZWxkcyBvdXRwdXQnICcKCXRlc3RfZGF0ZSBzaG9ydCAyMDA2LTA3LTA0IDIwMDYtMDctMDQgMjAwNi0wNy0wNAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBmb3JtYXQgInNob3J0LWxvY2FsIiBkYXRlIGZpZWxkcyBvdXRwdXQnICcKCXRlc3RfZGF0ZSBzaG9ydC1sb2NhbCAyMDA2LTA3LTAzIDIwMDYtMDctMDMgMjAwNi0wNy0wMwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBmb3JtYXQgImxvY2FsIiBkYXRlIGZpZWxkcyBvdXRwdXQnICcKCXRlc3RfZGF0ZSBsb2NhbCBcCgkJIk1vbiBKdWwgMyAyMzoxODo0MyAyMDA2IiBcCgkJIk1vbiBKdWwgMyAyMzoxODo0NCAyMDA2IiBcCgkJIk1vbiBKdWwgMyAyMzoxODo0NSAyMDA2IgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBmb3JtYXQgImlzbzg2MDEiIGRhdGUgZmllbGRzIG91dHB1dCcgJwoJdGVzdF9kYXRlIGlzbzg2MDEgXAoJCSIyMDA2LTA3LTA0IDAxOjE4OjQzICswMjAwIiBcCgkJIjIwMDYtMDctMDQgMDE6MTg6NDQgKzAyMDAiIFwKCQkiMjAwNi0wNy0wNCAwMToxODo0NSArMDIwMCIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnQ2hlY2sgZm9ybWF0ICJpc284NjAxLWxvY2FsIiBkYXRlIGZpZWxkcyBvdXRwdXQnICcKCXRlc3RfZGF0ZSBpc284NjAxLWxvY2FsICIyMDA2LTA3LTAzIDIzOjE4OjQzICswMDAwIiAiMjAwNi0wNy0wMyAyMzoxODo0NCArMDAwMCIgIjIwMDYtMDctMDMgMjM6MTg6NDUgKzAwMDAiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ0NoZWNrIGZvcm1hdCAicmZjMjgyMiIgZGF0ZSBmaWVsZHMgb3V0cHV0JyAnCgl0ZXN0X2RhdGUgcmZjMjgyMiBcCgkJIlR1ZSwgNCBKdWwgMjAwNiAwMToxODo0MyArMDIwMCIgXAoJCSJUdWUsIDQgSnVsIDIwMDYgMDE6MTg6NDQgKzAyMDAiIFwKCQkiVHVlLCA0IEp1bCAyMDA2IDAxOjE4OjQ1ICswMjAwIgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBmb3JtYXQgInJmYzI4MjItbG9jYWwiIGRhdGUgZmllbGRzIG91dHB1dCcgJwoJdGVzdF9kYXRlIHJmYzI4MjItbG9jYWwgIk1vbiwgMyBKdWwgMjAwNiAyMzoxODo0MyArMDAwMCIgIk1vbiwgMyBKdWwgMjAwNiAyMzoxODo0NCArMDAwMCIgIk1vbiwgMyBKdWwgMjAwNiAyMzoxODo0NSArMDAwMCIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnQ2hlY2sgZm9ybWF0ICJyYXciIGRhdGUgZmllbGRzIG91dHB1dCcgJwoJdGVzdF9kYXRlIHJhdyAiMTE1MTk2ODcyMyArMDIwMCIgIjExNTE5Njg3MjQgKzAyMDAiICIxMTUxOTY4NzI1ICswMjAwIgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBmb3JtYXQgInJhdy1sb2NhbCIgZGF0ZSBmaWVsZHMgb3V0cHV0JyAnCgl0ZXN0X2RhdGUgcmF3LWxvY2FsICIxMTUxOTY4NzIzICswMDAwIiAiMTE1MTk2ODcyNCArMDAwMCIgIjExNTE5Njg3MjUgKzAwMDAiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ0NoZWNrIGZvcm1hdCBvZiBzdHJmdGltZSBkYXRlIGZpZWxkcycgJwoJZWNobyAibXkgZGF0ZSBpcyAyMDA2LTA3LTA0IiA+ZXhwZWN0ZWQgJiYKCWdpdCBmb3ItZWFjaC1yZWYgXAoJICAtLWZvcm1hdD0iJShhdXRob3JkYXRlOmZvcm1hdDpteSBkYXRlIGlzICVZLSVtLSVkKSIgXAoJICByZWZzL2hlYWRzID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBmb3JtYXQgb2Ygc3RyZnRpbWUtbG9jYWwgZGF0ZSBmaWVsZHMnICcKCWVjaG8gIm15IGRhdGUgaXMgMjAwNi0wNy0wMyIgPmV4cGVjdGVkICYmCglnaXQgZm9yLWVhY2gtcmVmIFwKCSAgLS1mb3JtYXQ9IiUoYXV0aG9yZGF0ZTpmb3JtYXQtbG9jYWw6bXkgZGF0ZSBpcyAlWS0lbS0lZCkiIFwKCSAgcmVmcy9oZWFkcyA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZXhlcmNpc2Ugc3RyZnRpbWUgd2l0aCBvZGQgZmllbGRzJyAnCgllY2hvID5leHBlY3RlZCAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShhdXRob3JkYXRlOmZvcm1hdDopIiByZWZzL2hlYWRzID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbCAmJgoJbG9uZz0ibG9uZyBmb3JtYXQgLS0gJFpFUk9fT0lEJFpFUk9fT0lEJFpFUk9fT0lEJFpFUk9fT0lEJFpFUk9fT0lEJFpFUk9fT0lEJFpFUk9fT0lEIiAmJgoJZWNobyAkbG9uZyA+ZXhwZWN0ZWQgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoYXV0aG9yZGF0ZTpmb3JtYXQ6JGxvbmcpIiByZWZzL2hlYWRzID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgpjYXQgPmV4cGVjdGVkIDw8XEVPRgpyZWZzL2hlYWRzL21haW4KcmVmcy9yZW1vdGVzL29yaWdpbi9tYWluCnJlZnMvdGFncy90ZXN0dGFnCkVPRgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnVmVyaWZ5IGFzY2VuZGluZyBzb3J0JyAnCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiAtLXNvcnQ9cmVmbmFtZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKCmNhdCA+ZXhwZWN0ZWQgPDxcRU9GCnJlZnMvdGFncy90ZXN0dGFnCnJlZnMvcmVtb3Rlcy9vcmlnaW4vbWFpbgpyZWZzL2hlYWRzL21haW4KRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdWZXJpZnkgZGVzY2VuZGluZyBzb3J0JyAnCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiAtLXNvcnQ9LXJlZm5hbWUgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ0dpdmUgaGVscCBldmVuIHdpdGggaW52YWxpZCBzb3J0IGF0b21zJyAnCgl0ZXN0X2V4cGVjdF9jb2RlIDEyOSBnaXQgZm9yLWVhY2gtcmVmIC0tc29ydD1ib2d1cyAtaCA+YWN0dWFsIDI+JjEgJiYKCWdyZXAgIl51c2FnZTogZ2l0IGZvci1lYWNoLXJlZiIgYWN0dWFsCicKCmNhdCA+ZXhwZWN0ZWQgPDxcRU9GCnJlZnMvdGFncy90ZXN0dGFnCnJlZnMvdGFncy90ZXN0dGFnLTIKRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdleGVyY2lzZSBwYXR0ZXJucyB3aXRoIHByZWZpeGVzJyAnCglnaXQgdGFnIHRlc3R0YWctMiAmJgoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgdGFnIC1kIHRlc3R0YWctMiIgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZSkiIFwKCQlyZWZzL3RhZ3MvdGVzdHRhZyByZWZzL3RhZ3MvdGVzdHRhZy0yID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgpjYXQgPmV4cGVjdGVkIDw8XEVPRgpyZWZzL3RhZ3MvdGVzdHRhZwpyZWZzL3RhZ3MvdGVzdHRhZy0yCkVPRgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZXhlcmNpc2UgZ2xvYiBwYXR0ZXJucyB3aXRoIHByZWZpeGVzJyAnCglnaXQgdGFnIHRlc3R0YWctMiAmJgoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgdGFnIC1kIHRlc3R0YWctMiIgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZSkiIFwKCQlyZWZzL3RhZ3MvdGVzdHRhZyAicmVmcy90YWdzL3Rlc3R0YWctKiIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCmNhdCA+ZXhwZWN0ZWQgPDxcRU9GCnJlZnMvdGFncy9iYXIKcmVmcy90YWdzL2JhegpyZWZzL3RhZ3MvdGVzdHRhZwpFT0YKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2V4ZXJjaXNlIHBhdHRlcm5zIHdpdGggcHJlZml4IGV4Y2x1c2lvbnMnICcKCWZvciB0YWcgaW4gZm9vL29uZSBmb28vdHdvIGZvby90aHJlZSBiYXIgYmF6CglkbwoJCWdpdCB0YWcgIiR0YWciIHx8IHJldHVybiAxCglkb25lICYmCgl0ZXN0X3doZW5fZmluaXNoZWQgImdpdCB0YWcgLWQgZm9vL29uZSBmb28vdHdvIGZvby90aHJlZSBiYXIgYmF6IiAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShyZWZuYW1lKSIgXAoJCXJlZnMvdGFncy8gLS1leGNsdWRlPXJlZnMvdGFncy9mb28gPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCmNhdCA+ZXhwZWN0ZWQgPDxcRU9GCnJlZnMvdGFncy9iYXIKcmVmcy90YWdzL2JhegpyZWZzL3RhZ3MvZm9vL29uZQpyZWZzL3RhZ3MvdGVzdHRhZwpFT0YKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2V4ZXJjaXNlIHBhdHRlcm5zIHdpdGggcGF0dGVybiBleGNsdXNpb25zJyAnCglmb3IgdGFnIGluIGZvby9vbmUgZm9vL3R3byBmb28vdGhyZWUgYmFyIGJhegoJZG8KCQlnaXQgdGFnICIkdGFnIiB8fCByZXR1cm4gMQoJZG9uZSAmJgoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgdGFnIC1kIGZvby9vbmUgZm9vL3R3byBmb28vdGhyZWUgYmFyIGJheiIgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZSkiIFwKCQlyZWZzL3RhZ3MvIC0tZXhjbHVkZT0icmVmcy90YWdzL2Zvby90KiIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCmNhdCA+ZXhwZWN0ZWQgPDxcRU9GCidyZWZzL2hlYWRzL21haW4nCidyZWZzL3JlbW90ZXMvb3JpZ2luL21haW4nCidyZWZzL3RhZ3MvdGVzdHRhZycKRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdRdW90aW5nIHN0eWxlOiBzaGVsbCcgJwoJZ2l0IGZvci1lYWNoLXJlZiAtLXNoZWxsIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnUXVvdGluZyBzdHlsZTogcGVybCcgJwoJZ2l0IGZvci1lYWNoLXJlZiAtLXBlcmwgLS1mb3JtYXQ9IiUocmVmbmFtZSkiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdRdW90aW5nIHN0eWxlOiBweXRob24nICcKCWdpdCBmb3ItZWFjaC1yZWYgLS1weXRob24gLS1mb3JtYXQ9IiUocmVmbmFtZSkiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgpjYXQgPmV4cGVjdGVkIDw8XEVPRgoicmVmcy9oZWFkcy9tYWluIgoicmVmcy9yZW1vdGVzL29yaWdpbi9tYWluIgoicmVmcy90YWdzL3Rlc3R0YWciCkVPRgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnUXVvdGluZyBzdHlsZTogdGNsJyAnCglnaXQgZm9yLWVhY2gtcmVmIC0tdGNsIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKZm9yIGkgaW4gIi0tcGVybCAtLXNoZWxsIiAiLXMgLS1weXRob24iICItLXB5dGhvbiAtLXRjbCIgIi0tdGNsIC0tcGVybCI7IGRvCgl0ZXN0X2V4cGVjdF9zdWNjZXNzICJtb3JlIHRoYW4gb25lIHF1b3Rpbmcgc3R5bGU6ICRpIiAiCgkJdGVzdF9tdXN0X2ZhaWwgZ2l0IGZvci1lYWNoLXJlZiAkaSAyPmVyciAmJgoJCWdyZXAgJ15lcnJvcjogbW9yZSB0aGFuIG9uZSBxdW90aW5nIHN0eWxlJyBlcnIKCSIKZG9uZQoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0dXAgZm9yIHVwc3RyZWFtOnRyYWNrW3Nob3J0XScgJwoJdGVzdF9jb21taXQgdHdvCicKCnRlc3RfYXRvbSBoZWFkIHVwc3RyZWFtOnRyYWNrICdbYWhlYWQgMV0nCnRlc3RfYXRvbSBoZWFkIHVwc3RyZWFtOnRyYWNrc2hvcnQgJz4nCnRlc3RfYXRvbSBoZWFkIHVwc3RyZWFtOnRyYWNrLG5vYnJhY2tldCAnYWhlYWQgMScKdGVzdF9hdG9tIGhlYWQgdXBzdHJlYW06bm9icmFja2V0LHRyYWNrICdhaGVhZCAxJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0dXAgZm9yIHB1c2g6dHJhY2tbc2hvcnRdJyAnCgl0ZXN0X2NvbW1pdCB0aGlyZCAmJgoJZ2l0IHVwZGF0ZS1yZWYgcmVmcy9yZW1vdGVzL215Zm9yay9tYWluIG1haW4gJiYKCWdpdCByZXNldCBtYWlufjEKJwoKdGVzdF9hdG9tIGhlYWQgcHVzaDp0cmFjayAnW2JlaGluZCAxXScKdGVzdF9hdG9tIGhlYWQgcHVzaDp0cmFja3Nob3J0ICc8JwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnQ2hlY2sgdGhhdCA6dHJhY2tbc2hvcnRdIGNhbm5vdCBiZSB1c2VkIHdpdGggb3RoZXIgYXRvbXMnICcKCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZTp0cmFjaykiIDI+L2Rldi9udWxsICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWU6dHJhY2tzaG9ydCkiIDI+L2Rldi9udWxsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ0NoZWNrIHRoYXQgOnRyYWNrW3Nob3J0XSB3b3JrcyB3aGVuIHVwc3RyZWFtIGlzIGludmFsaWQnICcKCWNhdCA+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJW2dvbmVdCgoJRU9GCgl0ZXN0X3doZW5fZmluaXNoZWQgImdpdCBjb25maWcgYnJhbmNoLm1haW4ubWVyZ2UgcmVmcy9oZWFkcy9tYWluIiAmJgoJZ2l0IGNvbmZpZyBicmFuY2gubWFpbi5tZXJnZSByZWZzL2hlYWRzL2RvZXMtbm90LWV4aXN0ICYmCglnaXQgZm9yLWVhY2gtcmVmIFwKCQktLWZvcm1hdD0iJSh1cHN0cmVhbTp0cmFjaykkTEYlKHVwc3RyZWFtOnRyYWNrc2hvcnQpIiBcCgkJcmVmcy9oZWFkcyA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnQ2hlY2sgZm9yIGludmFsaWQgcmVmbmFtZSBmb3JtYXQnICcKCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZTpJTlZBTElEKSIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0IHVwIGNvbG9yIHRlc3RzJyAnCgljYXQgPmV4cGVjdGVkLmNvbG9yIDw8LUVPRiAmJgoJJChnaXQgcmV2LXBhcnNlIC0tc2hvcnQgcmVmcy9oZWFkcy9tYWluKSA8R1JFRU4+bWFpbjxSRVNFVD4KCSQoZ2l0IHJldi1wYXJzZSAtLXNob3J0IHJlZnMvcmVtb3Rlcy9teWZvcmsvbWFpbikgPEdSRUVOPm15Zm9yay9tYWluPFJFU0VUPgoJJChnaXQgcmV2LXBhcnNlIC0tc2hvcnQgcmVmcy9yZW1vdGVzL29yaWdpbi9tYWluKSA8R1JFRU4+b3JpZ2luL21haW48UkVTRVQ+CgkkKGdpdCByZXYtcGFyc2UgLS1zaG9ydCByZWZzL3RhZ3MvdGVzdHRhZykgPEdSRUVOPnRlc3R0YWc8UkVTRVQ+CgkkKGdpdCByZXYtcGFyc2UgLS1zaG9ydCByZWZzL3RhZ3MvdGhpcmQpIDxHUkVFTj50aGlyZDxSRVNFVD4KCSQoZ2l0IHJldi1wYXJzZSAtLXNob3J0IHJlZnMvdGFncy90d28pIDxHUkVFTj50d288UkVTRVQ+CglFT0YKCXNlZCAicy88W14+XSo+Ly9nIiA8ZXhwZWN0ZWQuY29sb3IgPmV4cGVjdGVkLmJhcmUgJiYKCWNvbG9yX2Zvcm1hdD0iJShvYmplY3RuYW1lOnNob3J0KSAlKGNvbG9yOmdyZWVuKSUocmVmbmFtZTpzaG9ydCkiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgVFRZICclKGNvbG9yKSBzaG93cyBjb2xvciB3aXRoIGEgdHR5JyAnCgl0ZXN0X3Rlcm1pbmFsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiRjb2xvcl9mb3JtYXQiID5hY3R1YWwucmF3ICYmCgl0ZXN0X2RlY29kZV9jb2xvciA8YWN0dWFsLnJhdyA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZC5jb2xvciBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJShjb2xvcikgZG9lcyBub3Qgc2hvdyBjb2xvciB3aXRob3V0IHR0eScgJwoJVEVSTT12dDEwMCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIkY29sb3JfZm9ybWF0IiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZC5iYXJlIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICctLWNvbG9yIGNhbiBvdmVycmlkZSB0dHkgY2hlY2snICcKCWdpdCBmb3ItZWFjaC1yZWYgLS1jb2xvciAtLWZvcm1hdD0iJGNvbG9yX2Zvcm1hdCIgPmFjdHVhbC5yYXcgJiYKCXRlc3RfZGVjb2RlX2NvbG9yIDxhY3R1YWwucmF3ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkLmNvbG9yIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjb2xvci51aT1hbHdheXMgZG9lcyBub3Qgb3ZlcnJpZGUgdHR5IGNoZWNrJyAnCglnaXQgLWMgY29sb3IudWk9YWx3YXlzIGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJGNvbG9yX2Zvcm1hdCIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQuYmFyZSBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0dXAgZm9yIGRlc2NyaWJlIGF0b20gdGVzdHMnICcKCWdpdCBpbml0IC1iIG1hc3RlciBkZXNjcmliZS1yZXBvICYmCgkoCgkJY2QgZGVzY3JpYmUtcmVwbyAmJgoKCQl0ZXN0X2NvbW1pdCAtLW5vLXRhZyBvbmUgJiYKCQlnaXQgdGFnIHRhZ29uZSAmJgoKCQl0ZXN0X2NvbW1pdCAtLW5vLXRhZyB0d28gJiYKCQlnaXQgdGFnIC1hIC1tICJ0YWcgdHdvIiB0YWd0d28KCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZGVzY3JpYmUgYXRvbSB2cyBnaXQgZGVzY3JpYmUnICcKCSgKCQljZCBkZXNjcmliZS1yZXBvICYmCgoJCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUob2JqZWN0bmFtZSkiIFwKCQkJcmVmcy90YWdzLyA+b2JqICYmCgkJd2hpbGUgcmVhZCBoYXNoCgkJZG8KCQkJaWYgZGVzYz0kKGdpdCBkZXNjcmliZSAkaGFzaCkKCQkJdGhlbgoJCQkJOiA+ZXhwZWN0LWNvbnRhaW5zLWdvb2QKCQkJZWxzZQoJCQkJOiA+ZXhwZWN0LWNvbnRhaW5zLWJhZAoJCQlmaSAmJgoJCQllY2hvICIkaGFzaCAkZGVzYyIgfHwgcmV0dXJuIDEKCQlkb25lIDxvYmogPmV4cGVjdCAmJgoJCXRlc3RfcGF0aF9leGlzdHMgZXhwZWN0LWNvbnRhaW5zLWdvb2QgJiYKCQl0ZXN0X3BhdGhfZXhpc3RzIGV4cGVjdC1jb250YWlucy1iYWQgJiYKCgkJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShvYmplY3RuYW1lKSAlKGRlc2NyaWJlKSIgXAoJCQlyZWZzL3RhZ3MvID5hY3R1YWwgMj5lcnIgJiYKCQl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsICYmCgkJdGVzdF9tdXN0X2JlX2VtcHR5IGVycgoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdkZXNjcmliZTp0YWdzIHZzIGRlc2NyaWJlIC0tdGFncycgJwoJKAoJCWNkIGRlc2NyaWJlLXJlcG8gJiYKCQlnaXQgZGVzY3JpYmUgLS10YWdzID5leHBlY3QgJiYKCQlnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKGRlc2NyaWJlOnRhZ3MpIiBcCgkJCQlyZWZzL2hlYWRzL21hc3RlciA+YWN0dWFsICYmCgkJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdkZXNjcmliZTphYmJyZXY9Li4uIHZzIGRlc2NyaWJlIC0tYWJicmV2PS4uLicgJwoJKAoJCWNkIGRlc2NyaWJlLXJlcG8gJiYKCgkJIyBDYXNlIDE6IFdlIGhhdmUgY29tbWl0cyBiZXR3ZWVuIEhFQUQgYW5kIHRoZSBtb3N0CgkJIwkgIHJlY2VudCB0YWcgcmVhY2hhYmxlIGZyb20gaXQKCQl0ZXN0X2NvbW1pdCAtLW5vLXRhZyBmaWxlICYmCgkJZ2l0IGRlc2NyaWJlIC0tYWJicmV2PTE0ID5leHBlY3QgJiYKCQlnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKGRlc2NyaWJlOmFiYnJldj0xNCkiIFwKCQkJcmVmcy9oZWFkcy9tYXN0ZXIgPmFjdHVhbCAmJgoJCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCgkJIyBNYWtlIHN1cmUgdGhlIGhhc2ggdXNlZCBpcyBhdGxlYXN0IDE0IGRpZ2l0cyBsb25nCgkJc2VkIC1lICJzL14uKi1nXChbMC05YS1mXSpcKSQvXDEvIiA8YWN0dWFsID5oZXhwYXJ0ICYmCgkJdGVzdCAxNSAtbGUgJCh3YyAtYyA8aGV4cGFydCkgJiYKCgkJIyBDYXNlIDI6IFdlIGhhdmUgYSB0YWcgYXQgSEVBRCwgZGVzY3JpYmUgZGlyZWN0bHkgZ2l2ZXMKCQkjCSAgdGhlIG5hbWUgb2YgdGhlIHRhZwoJCWdpdCB0YWcgLWEgLW0gdGFnZ2VkIHRhZ25hbWUgJiYKCQlnaXQgZGVzY3JpYmUgLS1hYmJyZXY9MTQgPmV4cGVjdCAmJgoJCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoZGVzY3JpYmU6YWJicmV2PTE0KSIgXAoJCQlyZWZzL2hlYWRzL21hc3RlciA+YWN0dWFsICYmCgkJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJCXRlc3QgdGFnbmFtZSA9ICQoY2F0IGFjdHVhbCkKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZGVzY3JpYmU6bWF0Y2g9Li4uIHZzIGRlc2NyaWJlIC0tbWF0Y2ggLi4uJyAnCgkoCgkJY2QgZGVzY3JpYmUtcmVwbyAmJgoJCWdpdCB0YWcgLWEgLW0gInRhZyBmb28iIHRhZy1mb28gJiYKCQlnaXQgZGVzY3JpYmUgLS1tYXRjaCAiKi1mb28iID5leHBlY3QgJiYKCQlnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKGRlc2NyaWJlOm1hdGNoPSIqLWZvbyIpIiBcCgkJCXJlZnMvaGVhZHMvbWFzdGVyID5hY3R1YWwgJiYKCQl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2Rlc2NyaWJlOmV4Y2x1ZGU6Li4uIHZzIGRlc2NyaWJlIC0tZXhjbHVkZSAuLi4nICcKCSgKCQljZCBkZXNjcmliZS1yZXBvICYmCgkJZ2l0IHRhZyAtYSAtbSAidGFnIGJhciIgdGFnLWJhciAmJgoJCWdpdCBkZXNjcmliZSAtLWV4Y2x1ZGUgIiotYmFyIiA+ZXhwZWN0ICYmCgkJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShkZXNjcmliZTpleGNsdWRlPSIqLWJhciIpIiBcCgkJCXJlZnMvaGVhZHMvbWFzdGVyID5hY3R1YWwgJiYKCQl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2RlcmVmIHdpdGggZGVzY3JpYmUgYXRvbScgJwoJKAoJCWNkIGRlc2NyaWJlLXJlcG8gJiYKCQljYXQgPmV4cGVjdCA8PC1cRU9GICYmCgoJCXRhZ25hbWUKCQl0YWduYW1lCgkJdGFnbmFtZQoKCQl0YWd0d28KCQlFT0YKCQlnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKCpkZXNjcmliZSkiID5hY3R1YWwgJiYKCQl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2VyciBvbiBiYWQgZGVzY3JpYmUgYXRvbSBhcmcnICcKCSgKCQljZCBkZXNjcmliZS1yZXBvICYmCgoJCSMgVGhlIGJhZCBhcmcgaXMgdGhlIG9ubHkgYXJnIHBhc3NlZCB0byBkZXNjcmliZSBhdG9tCgkJY2F0ID5leHBlY3QgPDwtXEVPRiAmJgoJCWZhdGFsOiB1bnJlY29nbml6ZWQgJShkZXNjcmliZSkgYXJndW1lbnQ6IGJhegoJCUVPRgoJCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoZGVzY3JpYmU6YmF6KSIgXAoJCQlyZWZzL2hlYWRzL21hc3RlciAyPmFjdHVhbCAmJgoJCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCgkJIyBUaGUgYmFkIGFyZyBpcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBvcHRpb24gc3RyaW5nCgkJIyBwYXNzZWQgdG8gdGhlIGRlc2NyaWJlIGF0b20KCQljYXQgPmV4cGVjdCA8PC1cRU9GICYmCgkJZmF0YWw6IHVucmVjb2duaXplZCAlKGRlc2NyaWJlKSBhcmd1bWVudDogcXV4PTEsYWJicmV2PTE0CgkJRU9GCgkJdGVzdF9tdXN0X2ZhaWwgZ2l0IGZvci1lYWNoLXJlZiBcCgkJCS0tZm9ybWF0PSIlKGRlc2NyaWJlOnRhZ3MscXV4PTEsYWJicmV2PTE0KSIgXAoJCQlyZWYvaGVhZHMvbWFzdGVyIDI+YWN0dWFsICYmCgkJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAoJKQonCgpjYXQgPmV4cGVjdGVkIDw8XEVPRgpoZWFkcy9tYWluCnRhZ3MvbWFpbgpFT0YKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ0NoZWNrIGFtYmlndW91cyBoZWFkIGFuZCB0YWcgcmVmcyAoc3RyaWN0KScgJwoJZ2l0IGNvbmZpZyAtLWJvb2wgY29yZS53YXJuYW1iaWd1b3VzcmVmcyB0cnVlICYmCglnaXQgY2hlY2tvdXQgLWIgbmV3dGFnICYmCgllY2hvICJVc2luZyAkZGF0ZXN0YW1wIiA+IG9uZSAmJgoJZ2l0IGFkZCBvbmUgJiYKCWdpdCBjb21taXQgLW0gIkJyYW5jaCIgJiYKCXNldGRhdGVfYW5kX2luY3JlbWVudCAmJgoJZ2l0IHRhZyAtbSAiVGFnZ2luZyBhdCAkZGF0ZXN0YW1wIiBtYWluICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0ICIlKHJlZm5hbWU6c2hvcnQpIiByZWZzL2hlYWRzL21haW4gcmVmcy90YWdzL21haW4gPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCmNhdCA+ZXhwZWN0ZWQgPDxcRU9GCmhlYWRzL21haW4KbWFpbgpFT0YKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ0NoZWNrIGFtYmlndW91cyBoZWFkIGFuZCB0YWcgcmVmcyAobG9vc2UpJyAnCglnaXQgY29uZmlnIC0tYm9vbCBjb3JlLndhcm5hbWJpZ3VvdXNyZWZzIGZhbHNlICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0ICIlKHJlZm5hbWU6c2hvcnQpIiByZWZzL2hlYWRzL21haW4gcmVmcy90YWdzL21haW4gPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCmNhdCA+ZXhwZWN0ZWQgPDxcRU9GCmhlYWRzL2FtYmlndW91cwphbWJpZ3VvdXMKRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdDaGVjayBhbWJpZ3VvdXMgaGVhZCBhbmQgdGFnIHJlZnMgSUkgKGxvb3NlKScgJwoJZ2l0IGNoZWNrb3V0IG1haW4gJiYKCWdpdCB0YWcgYW1iaWd1b3VzIHRlc3R0YWdeMCAmJgoJZ2l0IGJyYW5jaCBhbWJpZ3VvdXMgdGVzdHRhZ14wICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0ICIlKHJlZm5hbWU6c2hvcnQpIiByZWZzL2hlYWRzL2FtYmlndW91cyByZWZzL3RhZ3MvYW1iaWd1b3VzID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjcmVhdGUgdGFnIHdpdGhvdXQgdGFnZ2VyJyAnCglnaXQgdGFnIC1hIC1tICJCcm9rZW4gdGFnIiB0YWdnZXJsZXNzICYmCglnaXQgdGFnIC1mIHRhZ2dlcmxlc3MgJChnaXQgY2F0LWZpbGUgdGFnIHRhZ2dlcmxlc3MgfAoJCXNlZCAtZSAiL150YWdnZXIgL2QiIHwKCQlnaXQgaGFzaC1vYmplY3QgLS1saXRlcmFsbHkgLS1zdGRpbiAtdyAtdCB0YWcpCicKCnRlc3RfYXRvbSByZWZzL3RhZ3MvdGFnZ2VybGVzcyB0eXBlICdjb21taXQnCnRlc3RfYXRvbSByZWZzL3RhZ3MvdGFnZ2VybGVzcyB0YWcgJ3RhZ2dlcmxlc3MnCnRlc3RfYXRvbSByZWZzL3RhZ3MvdGFnZ2VybGVzcyB0YWdnZXIgJycKdGVzdF9hdG9tIHJlZnMvdGFncy90YWdnZXJsZXNzIHRhZ2dlcm5hbWUgJycKdGVzdF9hdG9tIHJlZnMvdGFncy90YWdnZXJsZXNzIHRhZ2dlcmVtYWlsICcnCnRlc3RfYXRvbSByZWZzL3RhZ3MvdGFnZ2VybGVzcyB0YWdnZXJlbWFpbDp0cmltICcnCnRlc3RfYXRvbSByZWZzL3RhZ3MvdGFnZ2VybGVzcyB0YWdnZXJlbWFpbDpsb2NhbHBhcnQgJycKdGVzdF9hdG9tIHJlZnMvdGFncy90YWdnZXJsZXNzIHRhZ2dlcmRhdGUgJycKdGVzdF9hdG9tIHJlZnMvdGFncy90YWdnZXJsZXNzIGNvbW1pdHRlciAnJwp0ZXN0X2F0b20gcmVmcy90YWdzL3RhZ2dlcmxlc3MgY29tbWl0dGVybmFtZSAnJwp0ZXN0X2F0b20gcmVmcy90YWdzL3RhZ2dlcmxlc3MgY29tbWl0dGVyZW1haWwgJycKdGVzdF9hdG9tIHJlZnMvdGFncy90YWdnZXJsZXNzIGNvbW1pdHRlcmVtYWlsOnRyaW0gJycKdGVzdF9hdG9tIHJlZnMvdGFncy90YWdnZXJsZXNzIGNvbW1pdHRlcmVtYWlsOmxvY2FscGFydCAnJwp0ZXN0X2F0b20gcmVmcy90YWdzL3RhZ2dlcmxlc3MgY29tbWl0dGVyZGF0ZSAnJwp0ZXN0X2F0b20gcmVmcy90YWdzL3RhZ2dlcmxlc3Mgc3ViamVjdCAnQnJva2VuIHRhZycKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2FuIHVudXN1YWwgdGFnIHdpdGggYW4gaW5jb21wbGV0ZSBsaW5lJyAnCgoJZ2l0IHRhZyAtbSAiYm9nbyIgYm9nbyAmJgoJYm9nbz0kKGdpdCBjYXQtZmlsZSB0YWcgYm9nbykgJiYKCWJvZ289JChwcmludGYgIiVzIiAiJGJvZ28iIHwgZ2l0IG1rdGFnKSAmJgoJZ2l0IHRhZyAtZiBib2dvICIkYm9nbyIgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQgIiUoYm9keSkiIHJlZnMvdGFncy9ib2dvCgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjcmVhdGUgdGFnIHdpdGggc3ViamVjdCBhbmQgYm9keSBjb250ZW50JyAnCgljYXQgPj5tc2cgPDwtXEVPRiAmJgoJCXRoZSBzdWJqZWN0IGxpbmUKCgkJZmlyc3QgYm9keSBsaW5lCgkJc2Vjb25kIGJvZHkgbGluZQoJRU9GCglnaXQgdGFnIC1GIG1zZyBzdWJqZWN0LWJvZHkKJwp0ZXN0X2F0b20gcmVmcy90YWdzL3N1YmplY3QtYm9keSBzdWJqZWN0ICd0aGUgc3ViamVjdCBsaW5lJwp0ZXN0X2F0b20gcmVmcy90YWdzL3N1YmplY3QtYm9keSBzdWJqZWN0OnNhbml0aXplICd0aGUtc3ViamVjdC1saW5lJwp0ZXN0X2F0b20gcmVmcy90YWdzL3N1YmplY3QtYm9keSBib2R5ICdmaXJzdCBib2R5IGxpbmUKc2Vjb25kIGJvZHkgbGluZQonCnRlc3RfYXRvbSByZWZzL3RhZ3Mvc3ViamVjdC1ib2R5IGNvbnRlbnRzICd0aGUgc3ViamVjdCBsaW5lCgpmaXJzdCBib2R5IGxpbmUKc2Vjb25kIGJvZHkgbGluZQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjcmVhdGUgdGFnIHdpdGggbXVsdGlsaW5lIHN1YmplY3QnICcKCWNhdCA+bXNnIDw8LVxFT0YgJiYKCQlmaXJzdCBzdWJqZWN0IGxpbmUKCQlzZWNvbmQgc3ViamVjdCBsaW5lCgoJCWZpcnN0IGJvZHkgbGluZQoJCXNlY29uZCBib2R5IGxpbmUKCUVPRgoJZ2l0IHRhZyAtRiBtc2cgbXVsdGlsaW5lCicKdGVzdF9hdG9tIHJlZnMvdGFncy9tdWx0aWxpbmUgc3ViamVjdCAnZmlyc3Qgc3ViamVjdCBsaW5lIHNlY29uZCBzdWJqZWN0IGxpbmUnCnRlc3RfYXRvbSByZWZzL3RhZ3MvbXVsdGlsaW5lIHN1YmplY3Q6c2FuaXRpemUgJ2ZpcnN0LXN1YmplY3QtbGluZS1zZWNvbmQtc3ViamVjdC1saW5lJwp0ZXN0X2F0b20gcmVmcy90YWdzL211bHRpbGluZSBjb250ZW50czpzdWJqZWN0ICdmaXJzdCBzdWJqZWN0IGxpbmUgc2Vjb25kIHN1YmplY3QgbGluZScKdGVzdF9hdG9tIHJlZnMvdGFncy9tdWx0aWxpbmUgYm9keSAnZmlyc3QgYm9keSBsaW5lCnNlY29uZCBib2R5IGxpbmUKJwp0ZXN0X2F0b20gcmVmcy90YWdzL211bHRpbGluZSBjb250ZW50czpib2R5ICdmaXJzdCBib2R5IGxpbmUKc2Vjb25kIGJvZHkgbGluZQonCnRlc3RfYXRvbSByZWZzL3RhZ3MvbXVsdGlsaW5lIGNvbnRlbnRzOnNpZ25hdHVyZSAnJwp0ZXN0X2F0b20gcmVmcy90YWdzL211bHRpbGluZSBjb250ZW50cyAnZmlyc3Qgc3ViamVjdCBsaW5lCnNlY29uZCBzdWJqZWN0IGxpbmUKCmZpcnN0IGJvZHkgbGluZQpzZWNvbmQgYm9keSBsaW5lCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgR1BHICdjcmVhdGUgc2lnbmVkIHRhZ3MnICcKCWdpdCB0YWcgLXMgLW0gIiIgc2lnbmVkLWVtcHR5ICYmCglnaXQgdGFnIC1zIC1tICJzdWJqZWN0IGxpbmUiIHNpZ25lZC1zaG9ydCAmJgoJY2F0ID5tc2cgPDwtXEVPRiAmJgoJc3ViamVjdCBsaW5lCgoJYm9keSBjb250ZW50cwoJRU9GCglnaXQgdGFnIC1zIC1GIG1zZyBzaWduZWQtbG9uZwonCgpzaWc9Jy0tLS0tQkVHSU4gUEdQIFNJR05BVFVSRS0tLS0tCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQonCgpQUkVSRVE9R1BHCnRlc3RfYXRvbSByZWZzL3RhZ3Mvc2lnbmVkLWVtcHR5IHN1YmplY3QgJycKdGVzdF9hdG9tIHJlZnMvdGFncy9zaWduZWQtZW1wdHkgc3ViamVjdDpzYW5pdGl6ZSAnJwp0ZXN0X2F0b20gcmVmcy90YWdzL3NpZ25lZC1lbXB0eSBjb250ZW50czpzdWJqZWN0ICcnCnRlc3RfYXRvbSByZWZzL3RhZ3Mvc2lnbmVkLWVtcHR5IGJvZHkgIiRzaWciCnRlc3RfYXRvbSByZWZzL3RhZ3Mvc2lnbmVkLWVtcHR5IGNvbnRlbnRzOmJvZHkgJycKdGVzdF9hdG9tIHJlZnMvdGFncy9zaWduZWQtZW1wdHkgY29udGVudHM6c2lnbmF0dXJlICIkc2lnIgp0ZXN0X2F0b20gcmVmcy90YWdzL3NpZ25lZC1lbXB0eSBjb250ZW50cyAiJHNpZyIKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgR1BHICdiYXNpYyBhdG9tOiByZWZzL3RhZ3Mvc2lnbmVkLWVtcHR5IHJhdycgJwoJZ2l0IGNhdC1maWxlIHRhZyByZWZzL3RhZ3Mvc2lnbmVkLWVtcHR5ID5leHBlY3RlZCAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShyYXcpIiByZWZzL3RhZ3Mvc2lnbmVkLWVtcHR5ID5hY3R1YWwgJiYKCXNhbml0aXplX3BncCA8ZXhwZWN0ZWQgPmV4cGVjdGVkLmNsZWFuICYmCgllY2hvID4+ZXhwZWN0ZWQuY2xlYW4gJiYKCXNhbml0aXplX3BncCA8YWN0dWFsID5hY3R1YWwuY2xlYW4gJiYKCXRlc3RfY21wIGV4cGVjdGVkLmNsZWFuIGFjdHVhbC5jbGVhbgonCgp0ZXN0X2F0b20gcmVmcy90YWdzL3NpZ25lZC1zaG9ydCBzdWJqZWN0ICdzdWJqZWN0IGxpbmUnCnRlc3RfYXRvbSByZWZzL3RhZ3Mvc2lnbmVkLXNob3J0IHN1YmplY3Q6c2FuaXRpemUgJ3N1YmplY3QtbGluZScKdGVzdF9hdG9tIHJlZnMvdGFncy9zaWduZWQtc2hvcnQgY29udGVudHM6c3ViamVjdCAnc3ViamVjdCBsaW5lJwp0ZXN0X2F0b20gcmVmcy90YWdzL3NpZ25lZC1zaG9ydCBib2R5ICIkc2lnIgp0ZXN0X2F0b20gcmVmcy90YWdzL3NpZ25lZC1zaG9ydCBjb250ZW50czpib2R5ICcnCnRlc3RfYXRvbSByZWZzL3RhZ3Mvc2lnbmVkLXNob3J0IGNvbnRlbnRzOnNpZ25hdHVyZSAiJHNpZyIKdGVzdF9hdG9tIHJlZnMvdGFncy9zaWduZWQtc2hvcnQgY29udGVudHMgInN1YmplY3QgbGluZQokc2lnIgoKdGVzdF9leHBlY3Rfc3VjY2VzcyBHUEcgJ2Jhc2ljIGF0b206IHJlZnMvdGFncy9zaWduZWQtc2hvcnQgcmF3JyAnCglnaXQgY2F0LWZpbGUgdGFnIHJlZnMvdGFncy9zaWduZWQtc2hvcnQgPmV4cGVjdGVkICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJhdykiIHJlZnMvdGFncy9zaWduZWQtc2hvcnQgPmFjdHVhbCAmJgoJc2FuaXRpemVfcGdwIDxleHBlY3RlZCA+ZXhwZWN0ZWQuY2xlYW4gJiYKCWVjaG8gPj5leHBlY3RlZC5jbGVhbiAmJgoJc2FuaXRpemVfcGdwIDxhY3R1YWwgPmFjdHVhbC5jbGVhbiAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQuY2xlYW4gYWN0dWFsLmNsZWFuCicKCnRlc3RfYXRvbSByZWZzL3RhZ3Mvc2lnbmVkLWxvbmcgc3ViamVjdCAnc3ViamVjdCBsaW5lJwp0ZXN0X2F0b20gcmVmcy90YWdzL3NpZ25lZC1sb25nIHN1YmplY3Q6c2FuaXRpemUgJ3N1YmplY3QtbGluZScKdGVzdF9hdG9tIHJlZnMvdGFncy9zaWduZWQtbG9uZyBjb250ZW50czpzdWJqZWN0ICdzdWJqZWN0IGxpbmUnCnRlc3RfYXRvbSByZWZzL3RhZ3Mvc2lnbmVkLWxvbmcgYm9keSAiYm9keSBjb250ZW50cwokc2lnIgp0ZXN0X2F0b20gcmVmcy90YWdzL3NpZ25lZC1sb25nIGNvbnRlbnRzOmJvZHkgJ2JvZHkgY29udGVudHMKJwp0ZXN0X2F0b20gcmVmcy90YWdzL3NpZ25lZC1sb25nIGNvbnRlbnRzOnNpZ25hdHVyZSAiJHNpZyIKdGVzdF9hdG9tIHJlZnMvdGFncy9zaWduZWQtbG9uZyBjb250ZW50cyAic3ViamVjdCBsaW5lCgpib2R5IGNvbnRlbnRzCiRzaWciCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIEdQRyAnYmFzaWMgYXRvbTogcmVmcy90YWdzL3NpZ25lZC1sb25nIHJhdycgJwoJZ2l0IGNhdC1maWxlIHRhZyByZWZzL3RhZ3Mvc2lnbmVkLWxvbmcgPmV4cGVjdGVkICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJhdykiIHJlZnMvdGFncy9zaWduZWQtbG9uZyA+YWN0dWFsICYmCglzYW5pdGl6ZV9wZ3AgPGV4cGVjdGVkID5leHBlY3RlZC5jbGVhbiAmJgoJZWNobyA+PmV4cGVjdGVkLmNsZWFuICYmCglzYW5pdGl6ZV9wZ3AgPGFjdHVhbCA+YWN0dWFsLmNsZWFuICYmCgl0ZXN0X2NtcCBleHBlY3RlZC5jbGVhbiBhY3R1YWwuY2xlYW4KJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0IHVwIHJlZnMgcG9pbnRpbmcgdG8gdHJlZSBhbmQgYmxvYicgJwoJZ2l0IHVwZGF0ZS1yZWYgcmVmcy9teXRyZWVzL2ZpcnN0IHJlZnMvaGVhZHMvbWFpbl57dHJlZX0gJiYKCWdpdCB1cGRhdGUtcmVmIHJlZnMvbXlibG9icy9maXJzdCByZWZzL2hlYWRzL21haW46b25lCicKCnRlc3RfYXRvbSByZWZzL215dHJlZXMvZmlyc3Qgc3ViamVjdCAiIgp0ZXN0X2F0b20gcmVmcy9teXRyZWVzL2ZpcnN0IGNvbnRlbnRzOnN1YmplY3QgIiIKdGVzdF9hdG9tIHJlZnMvbXl0cmVlcy9maXJzdCBib2R5ICIiCnRlc3RfYXRvbSByZWZzL215dHJlZXMvZmlyc3QgY29udGVudHM6Ym9keSAiIgp0ZXN0X2F0b20gcmVmcy9teXRyZWVzL2ZpcnN0IGNvbnRlbnRzOnNpZ25hdHVyZSAiIgp0ZXN0X2F0b20gcmVmcy9teXRyZWVzL2ZpcnN0IGNvbnRlbnRzICIiCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdiYXNpYyBhdG9tOiByZWZzL215dHJlZXMvZmlyc3QgcmF3JyAnCglnaXQgY2F0LWZpbGUgdHJlZSByZWZzL215dHJlZXMvZmlyc3QgPmV4cGVjdGVkICYmCgllY2hvID4+ZXhwZWN0ZWQgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmF3KSIgcmVmcy9teXRyZWVzL2ZpcnN0ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbCAmJgoJZ2l0IGNhdC1maWxlIC1zIHJlZnMvbXl0cmVlcy9maXJzdCA+ZXhwZWN0ZWQgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmF3OnNpemUpIiByZWZzL215dHJlZXMvZmlyc3QgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfYXRvbSByZWZzL215YmxvYnMvZmlyc3Qgc3ViamVjdCAiIgp0ZXN0X2F0b20gcmVmcy9teWJsb2JzL2ZpcnN0IGNvbnRlbnRzOnN1YmplY3QgIiIKdGVzdF9hdG9tIHJlZnMvbXlibG9icy9maXJzdCBib2R5ICIiCnRlc3RfYXRvbSByZWZzL215YmxvYnMvZmlyc3QgY29udGVudHM6Ym9keSAiIgp0ZXN0X2F0b20gcmVmcy9teWJsb2JzL2ZpcnN0IGNvbnRlbnRzOnNpZ25hdHVyZSAiIgp0ZXN0X2F0b20gcmVmcy9teWJsb2JzL2ZpcnN0IGNvbnRlbnRzICIiCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdiYXNpYyBhdG9tOiByZWZzL215YmxvYnMvZmlyc3QgcmF3JyAnCglnaXQgY2F0LWZpbGUgYmxvYiByZWZzL215YmxvYnMvZmlyc3QgPmV4cGVjdGVkICYmCgllY2hvID4+ZXhwZWN0ZWQgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmF3KSIgcmVmcy9teWJsb2JzL2ZpcnN0ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbCAmJgoJZ2l0IGNhdC1maWxlIC1zIHJlZnMvbXlibG9icy9maXJzdCA+ZXhwZWN0ZWQgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmF3OnNpemUpIiByZWZzL215YmxvYnMvZmlyc3QgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3NldCB1cCByZWZzIHBvaW50aW5nIHRvIGJpbmFyeSBibG9iJyAnCglwcmludGYgImFcMGJcMGMiID5ibG9iMSAmJgoJcHJpbnRmICJhXDBjXDBiIiA+YmxvYjIgJiYKCXByaW50ZiAiXDBhXDBiXDBjIiA+YmxvYjMgJiYKCXByaW50ZiAiYWJjIiA+YmxvYjQgJiYKCXByaW50ZiAiXDAgXDAgXDAgIiA+YmxvYjUgJiYKCXByaW50ZiAiXDAgXDBhXDAgIiA+YmxvYjYgJiYKCXByaW50ZiAiICAiID5ibG9iNyAmJgoJPmJsb2I4ICYmCglvYmo9JChnaXQgaGFzaC1vYmplY3QgLXcgYmxvYjEpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL215YmxvYnMvYmxvYjEgIiRvYmoiICYmCglvYmo9JChnaXQgaGFzaC1vYmplY3QgLXcgYmxvYjIpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL215YmxvYnMvYmxvYjIgIiRvYmoiICYmCglvYmo9JChnaXQgaGFzaC1vYmplY3QgLXcgYmxvYjMpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL215YmxvYnMvYmxvYjMgIiRvYmoiICYmCglvYmo9JChnaXQgaGFzaC1vYmplY3QgLXcgYmxvYjQpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL215YmxvYnMvYmxvYjQgIiRvYmoiICYmCglvYmo9JChnaXQgaGFzaC1vYmplY3QgLXcgYmxvYjUpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL215YmxvYnMvYmxvYjUgIiRvYmoiICYmCglvYmo9JChnaXQgaGFzaC1vYmplY3QgLXcgYmxvYjYpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL215YmxvYnMvYmxvYjYgIiRvYmoiICYmCglvYmo9JChnaXQgaGFzaC1vYmplY3QgLXcgYmxvYjcpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL215YmxvYnMvYmxvYjcgIiRvYmoiICYmCglvYmo9JChnaXQgaGFzaC1vYmplY3QgLXcgYmxvYjgpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL215YmxvYnMvYmxvYjggIiRvYmoiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ1ZlcmlmeSBzb3J0cyB3aXRoIHJhdycgJwoJY2F0ID5leHBlY3RlZCA8PC1FT0YgJiYKCXJlZnMvbXlibG9icy9ibG9iOAoJcmVmcy9teWJsb2JzL2Jsb2I1CglyZWZzL215YmxvYnMvYmxvYjYKCXJlZnMvbXlibG9icy9ibG9iMwoJcmVmcy9teWJsb2JzL2Jsb2I3CglyZWZzL215dHJlZXMvZmlyc3QKCXJlZnMvbXlibG9icy9maXJzdAoJcmVmcy9teWJsb2JzL2Jsb2IxCglyZWZzL215YmxvYnMvYmxvYjIKCXJlZnMvbXlibG9icy9ibG9iNAoJcmVmcy9oZWFkcy9tYWluCglFT0YKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZSkiIC0tc29ydD1yYXcgXAoJCXJlZnMvaGVhZHMvbWFpbiByZWZzL215YmxvYnMvIHJlZnMvbXl0cmVlcy9maXJzdCA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnVmVyaWZ5IHNvcnRzIHdpdGggcmF3OnNpemUnICcKCWNhdCA+ZXhwZWN0ZWQgPDwtRU9GICYmCglyZWZzL215YmxvYnMvYmxvYjgKCXJlZnMvbXlibG9icy9ibG9iNwoJcmVmcy9teWJsb2JzL2Jsb2I0CglyZWZzL215YmxvYnMvYmxvYjEKCXJlZnMvbXlibG9icy9ibG9iMgoJcmVmcy9teWJsb2JzL2Jsb2IzCglyZWZzL215YmxvYnMvYmxvYjUKCXJlZnMvbXlibG9icy9ibG9iNgoJcmVmcy9teWJsb2JzL2ZpcnN0CglyZWZzL215dHJlZXMvZmlyc3QKCXJlZnMvaGVhZHMvbWFpbgoJRU9GCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiAtLXNvcnQ9cmF3OnNpemUgXAoJCXJlZnMvaGVhZHMvbWFpbiByZWZzL215YmxvYnMvIHJlZnMvbXl0cmVlcy9maXJzdCA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndmFsaWRhdGUgcmF3IGF0b20gd2l0aCAlKGlmOmVxdWFscyknICcKCWNhdCA+ZXhwZWN0ZWQgPDwtRU9GICYmCglub3QgZXF1YWxzCglub3QgZXF1YWxzCglub3QgZXF1YWxzCglub3QgZXF1YWxzCglub3QgZXF1YWxzCglub3QgZXF1YWxzCglyZWZzL215YmxvYnMvYmxvYjQKCW5vdCBlcXVhbHMKCW5vdCBlcXVhbHMKCW5vdCBlcXVhbHMKCW5vdCBlcXVhbHMKCW5vdCBlcXVhbHMKCUVPRgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShpZjplcXVhbHM9YWJjKSUocmF3KSUodGhlbiklKHJlZm5hbWUpJShlbHNlKW5vdCBlcXVhbHMlKGVuZCkiIFwKCQlyZWZzL215YmxvYnMvIHJlZnMvaGVhZHMvID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd2YWxpZGF0ZSByYXcgYXRvbSB3aXRoICUoaWY6bm90ZXF1YWxzKScgJwoJY2F0ID5leHBlY3RlZCA8PC1FT0YgJiYKCXJlZnMvaGVhZHMvYW1iaWd1b3VzCglyZWZzL2hlYWRzL21haW4KCXJlZnMvaGVhZHMvbmV3dGFnCglyZWZzL215YmxvYnMvYmxvYjEKCXJlZnMvbXlibG9icy9ibG9iMgoJcmVmcy9teWJsb2JzL2Jsb2IzCgllcXVhbHMKCXJlZnMvbXlibG9icy9ibG9iNQoJcmVmcy9teWJsb2JzL2Jsb2I2CglyZWZzL215YmxvYnMvYmxvYjcKCXJlZnMvbXlibG9icy9ibG9iOAoJcmVmcy9teWJsb2JzL2ZpcnN0CglFT0YKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoaWY6bm90ZXF1YWxzPWFiYyklKHJhdyklKHRoZW4pJShyZWZuYW1lKSUoZWxzZSllcXVhbHMlKGVuZCkiIFwKCQlyZWZzL215YmxvYnMvIHJlZnMvaGVhZHMvID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdlbXB0eSByYXcgcmVmcyB3aXRoICUoaWYpJyAnCgljYXQgPmV4cGVjdGVkIDw8LUVPRiAmJgoJcmVmcy9teWJsb2JzL2Jsb2IxIG5vdCBlbXB0eQoJcmVmcy9teWJsb2JzL2Jsb2IyIG5vdCBlbXB0eQoJcmVmcy9teWJsb2JzL2Jsb2IzIG5vdCBlbXB0eQoJcmVmcy9teWJsb2JzL2Jsb2I0IG5vdCBlbXB0eQoJcmVmcy9teWJsb2JzL2Jsb2I1IG5vdCBlbXB0eQoJcmVmcy9teWJsb2JzL2Jsb2I2IG5vdCBlbXB0eQoJcmVmcy9teWJsb2JzL2Jsb2I3IGVtcHR5CglyZWZzL215YmxvYnMvYmxvYjggZW1wdHkKCXJlZnMvbXlibG9icy9maXJzdCBub3QgZW1wdHkKCUVPRgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShyZWZuYW1lKSAlKGlmKSUocmF3KSUodGhlbilub3QgZW1wdHklKGVsc2UpZW1wdHklKGVuZCkiIFwKCQlyZWZzL215YmxvYnMvID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclKHJhdykgd2l0aCAtLXB5dGhvbiBtdXN0IGZhaWwnICcKCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmF3KSIgLS1weXRob24KJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJShyYXcpIHdpdGggLS10Y2wgbXVzdCBmYWlsJyAnCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJhdykiIC0tdGNsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJyUocmF3KSB3aXRoIC0tcGVybCcgJwoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iXCRuYW1lPSAlKHJhdyk7CnByaW50IFwiXCRuYW1lXCIiIHJlZnMvbXlibG9icy9ibG9iMSAtLXBlcmwgfCBwZXJsID5hY3R1YWwgJiYKCWNtcCBibG9iMSBhY3R1YWwgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IlwkbmFtZT0gJShyYXcpOwpwcmludCBcIlwkbmFtZVwiIiByZWZzL215YmxvYnMvYmxvYjMgLS1wZXJsIHwgcGVybCA+YWN0dWFsICYmCgljbXAgYmxvYjMgYWN0dWFsICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSJcJG5hbWU9ICUocmF3KTsKcHJpbnQgXCJcJG5hbWVcIiIgcmVmcy9teWJsb2JzL2Jsb2I4IC0tcGVybCB8IHBlcmwgPmFjdHVhbCAmJgoJY21wIGJsb2I4IGFjdHVhbCAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iXCRuYW1lPSAlKHJhdyk7CnByaW50IFwiXCRuYW1lXCIiIHJlZnMvbXlibG9icy9maXJzdCAtLXBlcmwgfCBwZXJsID5hY3R1YWwgJiYKCWNtcCBvbmUgYWN0dWFsICYmCglnaXQgY2F0LWZpbGUgdHJlZSByZWZzL215dHJlZXMvZmlyc3QgPiBleHBlY3RlZCAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iXCRuYW1lPSAlKHJhdyk7CnByaW50IFwiXCRuYW1lXCIiIHJlZnMvbXl0cmVlcy9maXJzdCAtLXBlcmwgfCBwZXJsID5hY3R1YWwgJiYKCWNtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJShyYXcpIHdpdGggLS1zaGVsbCBtdXN0IGZhaWwnICcKCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmF3KSIgLS1zaGVsbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICclKHJhdykgd2l0aCAtLXNoZWxsIGFuZCAtLXNvcnQ9cmF3IG11c3QgZmFpbCcgJwoJdGVzdF9tdXN0X2ZhaWwgZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShyYXcpIiAtLXNvcnQ9cmF3IC0tc2hlbGwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnJShyYXc6c2l6ZSkgd2l0aCAtLXNoZWxsJyAnCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJhdzpzaXplKSIgfCBzZWQgInMvXi8kU1EvO3MvJC8kU1EvIiA+ZXhwZWN0ICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJhdzpzaXplKSIgLS1zaGVsbCA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2Zvci1lYWNoLXJlZiAtLWZvcm1hdCBjb21wYXJlIHdpdGggY2F0LWZpbGUgLS1iYXRjaCcgJwoJZ2l0IHJldi1wYXJzZSByZWZzL215dHJlZXMvZmlyc3QgfCBnaXQgY2F0LWZpbGUgLS1iYXRjaCA+ZXhwZWN0ZWQgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUob2JqZWN0bmFtZSkgJShvYmplY3R0eXBlKSAlKG9iamVjdHNpemUpCiUocmF3KSIgcmVmcy9teXRyZWVzL2ZpcnN0ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd2ZXJpZnkgc29ydHMgd2l0aCBjb250ZW50czpzaXplJyAnCgljYXQgPmV4cGVjdCA8PC1cRU9GICYmCglyZWZzL2hlYWRzL21haW4KCXJlZnMvaGVhZHMvbmV3dGFnCglyZWZzL2hlYWRzL2FtYmlndW91cwoJRU9GCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiBcCgkJLS1zb3J0PWNvbnRlbnRzOnNpemUgcmVmcy9oZWFkcy8gPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzZXQgdXAgbXVsdGlwbGUtc29ydCB0YWdzJyAnCglmb3Igd2hlbiBpbiAxMDAwMDAgMjAwMDAwCglkbwoJCWZvciBlbWFpbCBpbiB1c2VyMSB1c2VyMgoJCWRvCgkJCWZvciByZWYgaW4gcmVmMSByZWYyCgkJCWRvCgkJCQlHSVRfQ09NTUlUVEVSX0RBVEU9IkAkd2hlbiArMDAwMCIgXAoJCQkJR0lUX0NPTU1JVFRFUl9FTUFJTD0iJGVtYWlsQGV4YW1wbGUuY29tIiBcCgkJCQlnaXQgdGFnIC1tICJ0YWcgJHJlZi0kd2hlbi0kZW1haWwiIFwKCQkJCW11bHRpLSRyZWYtJHdoZW4tJGVtYWlsIHx8IHJldHVybiAxCgkJCWRvbmUKCQlkb25lCglkb25lCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ1ZlcmlmeSBzb3J0IHdpdGggbXVsdGlwbGUga2V5cycgJwoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgkxMDAwMDAgPHVzZXIxQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMi0xMDAwMDAtdXNlcjEKCTEwMDAwMCA8dXNlcjFAZXhhbXBsZS5jb20+IHJlZnMvdGFncy9tdWx0aS1yZWYxLTEwMDAwMC11c2VyMQoJMTAwMDAwIDx1c2VyMkBleGFtcGxlLmNvbT4gcmVmcy90YWdzL211bHRpLXJlZjItMTAwMDAwLXVzZXIyCgkxMDAwMDAgPHVzZXIyQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMS0xMDAwMDAtdXNlcjIKCTIwMDAwMCA8dXNlcjFAZXhhbXBsZS5jb20+IHJlZnMvdGFncy9tdWx0aS1yZWYyLTIwMDAwMC11c2VyMQoJMjAwMDAwIDx1c2VyMUBleGFtcGxlLmNvbT4gcmVmcy90YWdzL211bHRpLXJlZjEtMjAwMDAwLXVzZXIxCgkyMDAwMDAgPHVzZXIyQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMi0yMDAwMDAtdXNlcjIKCTIwMDAwMCA8dXNlcjJAZXhhbXBsZS5jb20+IHJlZnMvdGFncy9tdWx0aS1yZWYxLTIwMDAwMC11c2VyMgoJRU9GCglnaXQgZm9yLWVhY2gtcmVmIFwKCQktLWZvcm1hdD0iJSh0YWdnZXJkYXRlOnVuaXgpICUodGFnZ2VyZW1haWwpICUocmVmbmFtZSkiIFwKCQktLXNvcnQ9LXJlZm5hbWUgXAoJCS0tc29ydD10YWdnZXJlbWFpbCBcCgkJLS1zb3J0PXRhZ2dlcmRhdGUgXAoJCSJyZWZzL3RhZ3MvbXVsdGktKiIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2VxdWl2YWxlbnQgc29ydHMgZmFsbCBiYWNrIG9uIHJlZm5hbWUnICcKCWNhdCA+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJMTAwMDAwIDx1c2VyMUBleGFtcGxlLmNvbT4gcmVmcy90YWdzL211bHRpLXJlZjEtMTAwMDAwLXVzZXIxCgkxMDAwMDAgPHVzZXIyQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMS0xMDAwMDAtdXNlcjIKCTEwMDAwMCA8dXNlcjFAZXhhbXBsZS5jb20+IHJlZnMvdGFncy9tdWx0aS1yZWYyLTEwMDAwMC11c2VyMQoJMTAwMDAwIDx1c2VyMkBleGFtcGxlLmNvbT4gcmVmcy90YWdzL211bHRpLXJlZjItMTAwMDAwLXVzZXIyCgkyMDAwMDAgPHVzZXIxQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMS0yMDAwMDAtdXNlcjEKCTIwMDAwMCA8dXNlcjJAZXhhbXBsZS5jb20+IHJlZnMvdGFncy9tdWx0aS1yZWYxLTIwMDAwMC11c2VyMgoJMjAwMDAwIDx1c2VyMUBleGFtcGxlLmNvbT4gcmVmcy90YWdzL211bHRpLXJlZjItMjAwMDAwLXVzZXIxCgkyMDAwMDAgPHVzZXIyQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMi0yMDAwMDAtdXNlcjIKCUVPRgoJZ2l0IGZvci1lYWNoLXJlZiBcCgkJLS1mb3JtYXQ9IiUodGFnZ2VyZGF0ZTp1bml4KSAlKHRhZ2dlcmVtYWlsKSAlKHJlZm5hbWUpIiBcCgkJLS1zb3J0PXRhZ2dlcmRhdGUgXAoJCSJyZWZzL3RhZ3MvbXVsdGktKiIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJy0tbm8tc29ydCBjYW5jZWxzIHRoZSBwcmV2aW91cyBzb3J0IGtleXMnICcKCWNhdCA+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJMTAwMDAwIDx1c2VyMUBleGFtcGxlLmNvbT4gcmVmcy90YWdzL211bHRpLXJlZjEtMTAwMDAwLXVzZXIxCgkxMDAwMDAgPHVzZXIyQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMS0xMDAwMDAtdXNlcjIKCTEwMDAwMCA8dXNlcjFAZXhhbXBsZS5jb20+IHJlZnMvdGFncy9tdWx0aS1yZWYyLTEwMDAwMC11c2VyMQoJMTAwMDAwIDx1c2VyMkBleGFtcGxlLmNvbT4gcmVmcy90YWdzL211bHRpLXJlZjItMTAwMDAwLXVzZXIyCgkyMDAwMDAgPHVzZXIxQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMS0yMDAwMDAtdXNlcjEKCTIwMDAwMCA8dXNlcjJAZXhhbXBsZS5jb20+IHJlZnMvdGFncy9tdWx0aS1yZWYxLTIwMDAwMC11c2VyMgoJMjAwMDAwIDx1c2VyMUBleGFtcGxlLmNvbT4gcmVmcy90YWdzL211bHRpLXJlZjItMjAwMDAwLXVzZXIxCgkyMDAwMDAgPHVzZXIyQGV4YW1wbGUuY29tPiByZWZzL3RhZ3MvbXVsdGktcmVmMi0yMDAwMDAtdXNlcjIKCUVPRgoJZ2l0IGZvci1lYWNoLXJlZiBcCgkJLS1mb3JtYXQ9IiUodGFnZ2VyZGF0ZTp1bml4KSAlKHRhZ2dlcmVtYWlsKSAlKHJlZm5hbWUpIiBcCgkJLS1zb3J0PS1yZWZuYW1lIFwKCQktLXNvcnQ9dGFnZ2VyZW1haWwgXAoJCS0tbm8tc29ydCBcCgkJLS1zb3J0PXRhZ2dlcmRhdGUgXAoJCSJyZWZzL3RhZ3MvbXVsdGktKiIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2RvIG5vdCBkZXJlZmVyZW5jZSBOVUxMIHVwb24gJShIRUFEKSBvbiB1bmJvcm4gYnJhbmNoJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgImdpdCBjaGVja291dCBtYWluIiAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShIRUFEKSAlKHJlZm5hbWU6c2hvcnQpIiByZWZzL2hlYWRzLyA+YWN0dWFsICYmCglzZWQgLWUgInMvXlwqIC8gIC8iIGFjdHVhbCA+ZXhwZWN0ICYmCglnaXQgY2hlY2tvdXQgLS1vcnBoYW4gb3JwaGFuZWQtYnJhbmNoICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKEhFQUQpICUocmVmbmFtZTpzaG9ydCkiIHJlZnMvaGVhZHMvID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKY2F0ID50cmFpbGVycyA8PEVPRgpSZXZpZXdlZC1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KWyB2MiB1cGRhdGVkIHBhdGNoIGRlc2NyaXB0aW9uIF0KQWNrZWQtYnk6IEEgVSBUaG9yCiAgPGF1dGhvckBleGFtcGxlLmNvbT4KRU9GCgp1bmZvbGQgKCkgewoJcGVybCAtMHBlICdzL1xuXHMrLyAvZycKfQoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0IHVwIHRyYWlsZXJzIGZvciBuZXh0IHRlc3QnICcKCWVjaG8gIlNvbWUgY29udGVudHMiID4gdHdvICYmCglnaXQgYWRkIHR3byAmJgoJZ2l0IGNvbW1pdCAtRiAtIDw8LUVPRgoJdHJhaWxlcnM6IHRoaXMgY29tbWl0IG1lc3NhZ2UgaGFzIHRyYWlsZXJzCgoJU29tZSBtZXNzYWdlIGNvbnRlbnRzCgoJJChjYXQgdHJhaWxlcnMpCglFT0YKJwoKdGVzdF90cmFpbGVyX29wdGlvbiAoKSB7Cgl0aXRsZT0kMSBvcHRpb249JDIKCWNhdCA+ZXhwZWN0Cgl0ZXN0X2V4cGVjdF9zdWNjZXNzICIkdGl0bGUiICcKCQlnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKCRvcHRpb24pIiByZWZzL2hlYWRzL21haW4gPmFjdHVhbCAmJgoJCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCQlnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKGNvbnRlbnRzOiRvcHRpb24pIiByZWZzL2hlYWRzL21haW4gPmFjdHVhbCAmJgoJCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCScKfQoKdGVzdF90cmFpbGVyX29wdGlvbiAnJSh0cmFpbGVyczp1bmZvbGQpIHVuZm9sZHMgdHJhaWxlcnMnIFwKCSd0cmFpbGVyczp1bmZvbGQnIDw8LUVPRgoJJCh1bmZvbGQgPHRyYWlsZXJzKQoKCUVPRgoKdGVzdF90cmFpbGVyX29wdGlvbiAnJSh0cmFpbGVyczpvbmx5KSBzaG93cyBvbmx5ICJrZXk6IHZhbHVlIiB0cmFpbGVycycgXAoJJ3RyYWlsZXJzOm9ubHknIDw8LUVPRgoJJChncmVwIC12IHBhdGNoLmRlc2NyaXB0aW9uIDx0cmFpbGVycykKCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6b25seT1ubyxvbmx5PXRydWUpIHNob3dzIG9ubHkgImtleTogdmFsdWUiIHRyYWlsZXJzJyBcCgkndHJhaWxlcnM6b25seT1ubyxvbmx5PXRydWUnIDw8LUVPRgoJJChncmVwIC12IHBhdGNoLmRlc2NyaXB0aW9uIDx0cmFpbGVycykKCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6b25seT15ZXMpIHNob3dzIG9ubHkgImtleTogdmFsdWUiIHRyYWlsZXJzJyBcCgkndHJhaWxlcnM6b25seT15ZXMnIDw8LUVPRgoJJChncmVwIC12IHBhdGNoLmRlc2NyaXB0aW9uIDx0cmFpbGVycykKCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6b25seT1ubykgc2hvd3MgYWxsIHRyYWlsZXJzJyBcCgkndHJhaWxlcnM6b25seT1ubycgPDwtRU9GCgkkKGNhdCB0cmFpbGVycykKCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6b25seSkgYW5kICUodHJhaWxlcnM6dW5mb2xkKSB3b3JrIHRvZ2V0aGVyJyBcCgkndHJhaWxlcnM6b25seSx1bmZvbGQnIDw8LUVPRgoJJChncmVwIC12IHBhdGNoLmRlc2NyaXB0aW9uIDx0cmFpbGVycyB8IHVuZm9sZCkKCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6dW5mb2xkKSBhbmQgJSh0cmFpbGVyczpvbmx5KSB3b3JrIHRvZ2V0aGVyJyBcCgkndHJhaWxlcnM6dW5mb2xkLG9ubHknIDw8LUVPRgoJJChncmVwIC12IHBhdGNoLmRlc2NyaXB0aW9uIDx0cmFpbGVycyB8IHVuZm9sZCkKCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6a2V5PWZvbykgc2hvd3MgdGhhdCB0cmFpbGVyJyBcCgkndHJhaWxlcnM6a2V5PVNpZ25lZC1vZmYtYnknIDw8LUVPRgoJU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6a2V5PWZvbykgaXMgY2FzZSBpbnNlbnNpdGl2ZScgXAoJJ3RyYWlsZXJzOmtleT1TaUduZWQtb0ZmLWJZJyA8PC1FT0YKCVNpZ25lZC1vZmYtYnk6IEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+CgoJRU9GCgp0ZXN0X3RyYWlsZXJfb3B0aW9uICclKHRyYWlsZXJzOmtleT1mb286KSB0cmFpbGluZyBjb2xvbiBhbHNvIHdvcmtzJyBcCgkndHJhaWxlcnM6a2V5PVNpZ25lZC1vZmYtYnk6JyA8PC1FT0YKCVNpZ25lZC1vZmYtYnk6IEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+CgoJRU9GCgp0ZXN0X3RyYWlsZXJfb3B0aW9uICclKHRyYWlsZXJzOmtleT1mb28pIG11bHRpcGxlIGtleXMnIFwKCSd0cmFpbGVyczprZXk9UmV2aWV3ZWQtYnk6LGtleT1TaWduZWQtb2ZmLWJ5JyA8PC1FT0YKCVJldmlld2VkLWJ5OiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPgoJU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6a2V5PW5vbmV4aXN0ZW50KSBiZWNvbWVzIGVtcHR5JyBcCgkndHJhaWxlcnM6a2V5PVNoaW5lZC1vZmYtYnk6JyA8PC1FT0YKCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6a2V5PWZvbykgaGFuZGxlcyBtdWx0aXBsZSBsaW5lcyBldmVuIGlmIGZvbGRlZCcgXAoJJ3RyYWlsZXJzOmtleT1BY2tlZC1ieScgPDwtRU9GCgkkKGdyZXAgLXYgcGF0Y2guZGVzY3JpcHRpb24gPHRyYWlsZXJzIHwgZ3JlcCAtdiBTaWduZWQtb2ZmLWJ5IHwgZ3JlcCAtdiBSZXZpZXdlZC1ieSkKCglFT0YKCnRlc3RfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6a2V5PWZvbyx1bmZvbGQpIHByb3Blcmx5IHVuZm9sZHMnIFwKCSd0cmFpbGVyczprZXk9U2lnbmVkLU9mZi1ieSx1bmZvbGQnIDw8LUVPRgoJJCh1bmZvbGQgPHRyYWlsZXJzIHwgZ3JlcCBTaWduZWQtb2ZmLWJ5KQoKCUVPRgoKdGVzdF90cmFpbGVyX29wdGlvbiAnJSh0cmFpbGVyczprZXk9Zm9vLG9ubHk9bm8pIGFsc28gaW5jbHVkZXMgbm9udHJhaWxlciBsaW5lcycgXAoJJ3RyYWlsZXJzOmtleT1TaWduZWQtb2ZmLWJ5LG9ubHk9bm8nIDw8LUVPRgoJU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KCSQoZ3JlcCBwYXRjaC5kZXNjcmlwdGlvbiA8dHJhaWxlcnMpCgoJRU9GCgp0ZXN0X3RyYWlsZXJfb3B0aW9uICclKHRyYWlsZXJzOmtleT1mb28sdmFsdWVvbmx5KSBzaG93cyBvbmx5IHZhbHVlJyBcCgkndHJhaWxlcnM6a2V5PVNpZ25lZC1vZmYtYnksdmFsdWVvbmx5JyA8PC1FT0YKCUEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+CgoJRU9GCgp0ZXN0X3RyYWlsZXJfb3B0aW9uICclKHRyYWlsZXJzOnNlcGFyYXRvcikgY2hhbmdlcyBzZXBhcmF0b3InIFwKCSd0cmFpbGVyczpzZXBhcmF0b3I9JXgyQyxrZXk9UmV2aWV3ZWQtYnksa2V5PVNpZ25lZC1vZmYtYnk6JyA8PC1FT0YKCVJldmlld2VkLWJ5OiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPixTaWduZWQtb2ZmLWJ5OiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPgoJRU9GCgp0ZXN0X3RyYWlsZXJfb3B0aW9uICclKHRyYWlsZXJzOmtleV92YWx1ZV9zZXBhcmF0b3IpIGNoYW5nZXMga2V5LXZhbHVlIHNlcGFyYXRvcicgXAoJJ3RyYWlsZXJzOmtleV92YWx1ZV9zZXBhcmF0b3I9JXgyQyxrZXk9UmV2aWV3ZWQtYnksa2V5PVNpZ25lZC1vZmYtYnk6JyA8PC1FT0YKCVJldmlld2VkLWJ5LEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+CglTaWduZWQtb2ZmLWJ5LEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+CgoJRU9GCgp0ZXN0X3RyYWlsZXJfb3B0aW9uICclKHRyYWlsZXJzOnNlcGFyYXRvcixrZXlfdmFsdWVfc2VwYXJhdG9yKSBjaGFuZ2VzIGJvdGggc2VwYXJhdG9ycycgXAoJJ3RyYWlsZXJzOnNlcGFyYXRvcj0leDJDLGtleV92YWx1ZV9zZXBhcmF0b3I9JXgyQyxrZXk9UmV2aWV3ZWQtYnksa2V5PVNpZ25lZC1vZmYtYnk6JyA8PC1FT0YKCVJldmlld2VkLWJ5LEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+LFNpZ25lZC1vZmYtYnksQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KCUVPRgoKdGVzdF9mYWlsaW5nX3RyYWlsZXJfb3B0aW9uICgpIHsKCXRpdGxlPSQxIG9wdGlvbj0kMgoJY2F0ID5leHBlY3QKCXRlc3RfZXhwZWN0X3N1Y2Nlc3MgIiR0aXRsZSIgJwoJCSMgZXJyb3IgbWVzc2FnZSBjYW5ub3QgYmUgY2hlY2tlZCB1bmRlciBpMThuCgkJdGVzdF9tdXN0X2ZhaWwgZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJSgkb3B0aW9uKSIgcmVmcy9oZWFkcy9tYWluIDI+YWN0dWFsICYmCgkJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJCXRlc3RfbXVzdF9mYWlsIGdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoY29udGVudHM6JG9wdGlvbikiIHJlZnMvaGVhZHMvbWFpbiAyPmFjdHVhbCAmJgoJCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCScKfQoKdGVzdF9mYWlsaW5nX3RyYWlsZXJfb3B0aW9uICclKHRyYWlsZXJzKSByZWplY3RzIHVua25vd24gdHJhaWxlcnMgYXJndW1lbnRzJyBcCgkndHJhaWxlcnM6dW5zdXBwb3J0ZWQnIDw8LVxFT0YKCWZhdGFsOiB1bmtub3duICUodHJhaWxlcnMpIGFyZ3VtZW50OiB1bnN1cHBvcnRlZAoJRU9GCgp0ZXN0X2ZhaWxpbmdfdHJhaWxlcl9vcHRpb24gJyUodHJhaWxlcnM6a2V5KSB3aXRob3V0IHZhbHVlIGlzIGVycm9yJyBcCgkndHJhaWxlcnM6a2V5JyA8PC1cRU9GCglmYXRhbDogZXhwZWN0ZWQgJSh0cmFpbGVyczprZXk9PHZhbHVlPikKCUVPRgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnaWYgYXJndW1lbnRzLCAlKGNvbnRlbnRzOnRyYWlsZXJzKSBzaG93cyBlcnJvciBpZiBjb2xvbiBpcyBtaXNzaW5nJyAnCgljYXQgPmV4cGVjdCA8PC1FT0YgJiYKCWZhdGFsOiB1bnJlY29nbml6ZWQgJShjb250ZW50cykgYXJndW1lbnQ6IHRyYWlsZXJzb25seQoJRU9GCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKGNvbnRlbnRzOnRyYWlsZXJzb25seSkiIDI+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2Jhc2ljIGF0b206IGhlYWQgY29udGVudHM6dHJhaWxlcnMnICcKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoY29udGVudHM6dHJhaWxlcnMpIiByZWZzL2hlYWRzL21haW4gPmFjdHVhbCAmJgoJc2FuaXRpemVfcGdwIDxhY3R1YWwgPmFjdHVhbC5jbGVhbiAmJgoJIyBnaXQgZm9yLWVhY2gtcmVmIGVuZHMgd2l0aCBhIGJsYW5rIGxpbmUKCWNhdCA+ZXhwZWN0IDw8LUVPRiAmJgoJJChjYXQgdHJhaWxlcnMpCgoJRU9GCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsLmNsZWFuCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2Jhc2ljIGF0b206IHJlc3QgbXVzdCBmYWlsJyAnCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlc3QpIiByZWZzL2hlYWRzL21haW4KJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnSEVBRCBhdG9tIGRvZXMgbm90IHRha2UgYXJndW1lbnRzJyAnCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKEhFQUQ6Zm9vKSIgMj5lcnIgJiYKCWVjaG8gImZhdGFsOiAlKEhFQUQpIGRvZXMgbm90IHRha2UgYXJndW1lbnRzIiA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1YmplY3QgYXRvbSByZWplY3RzIHVua25vd24gYXJndW1lbnRzJyAnCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHN1YmplY3Q6Zm9vKSIgMj5lcnIgJiYKCWVjaG8gImZhdGFsOiB1bnJlY29nbml6ZWQgJShzdWJqZWN0KSBhcmd1bWVudDogZm9vIiA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3JlZm5hbWUgYXRvbSByZWplY3RzIHVua25vd24gYXJndW1lbnRzJyAnCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWU6Zm9vKSIgMj5lcnIgJiYKCWVjaG8gImZhdGFsOiB1bnJlY29nbml6ZWQgJShyZWZuYW1lKSBhcmd1bWVudDogZm9vIiA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgZXJyCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3RyYWlsZXIgcGFyc2luZyBub3QgZm9vbGVkIGJ5IC0tLSBsaW5lJyAnCglnaXQgY29tbWl0IC0tYWxsb3ctZW1wdHkgLUYgLSA8PC1cRU9GICYmCgl0aGlzIGlzIHRoZSBzdWJqZWN0CgoJVGhpcyBpcyB0aGUgYm9keS4gVGhlIG1lc3NhZ2UgaGFzIGEgIi0tLSIgbGluZSB3aGljaCB3b3VsZCBjb25mdXNlIGEKCW1lc3NhZ2UrcGF0Y2ggcGFyc2VyLiBCdXQgaGVyZSB3ZSBrbm93IHdlIGhhdmUgb25seSBhIGNvbW1pdCBtZXNzYWdlLAoJc28gd2UgZ2V0IGl0IHJpZ2h0LgoKCXRyYWlsZXI6IHdyb25nCgktLS0KCVRoaXMgaXMgbW9yZSBib2R5LgoKCXRyYWlsZXI6IHJpZ2h0CglFT0YKCgl7CgkJZWNobyAidHJhaWxlcjogcmlnaHQiICYmCgkJZWNobwoJfSA+ZXhwZWN0ICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHRyYWlsZXJzKSIgcmVmcy9oZWFkcy9tYWluID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnQWRkIHN5bWJvbGljIHJlZiBmb3IgdGhlIGZvbGxvd2luZyB0ZXN0cycgJwoJZ2l0IHN5bWJvbGljLXJlZiByZWZzL2hlYWRzL3N5bSByZWZzL2hlYWRzL21haW4KJwoKY2F0ID5leHBlY3RlZCA8PEVPRgpyZWZzL2hlYWRzL21haW4KRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdWZXJpZnkgdXNhZ2Ugb2YgJShzeW1yZWYpIGF0b20nICcKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoc3ltcmVmKSIgcmVmcy9oZWFkcy9zeW0gPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCmNhdCA+ZXhwZWN0ZWQgPDxFT0YKaGVhZHMvbWFpbgpFT0YKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ1ZlcmlmeSB1c2FnZSBvZiAlKHN5bXJlZjpzaG9ydCkgYXRvbScgJwoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShzeW1yZWY6c2hvcnQpIiByZWZzL2hlYWRzL3N5bSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKY2F0ID5leHBlY3RlZCA8PEVPRgptYWluCmhlYWRzL21haW4KRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdWZXJpZnkgdXNhZ2Ugb2YgJShzeW1yZWY6bHN0cmlwKSBhdG9tJyAnCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHN5bXJlZjpsc3RyaXA9MikiIHJlZnMvaGVhZHMvc3ltID4gYWN0dWFsICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHN5bXJlZjpsc3RyaXA9LTIpIiByZWZzL2hlYWRzL3N5bSA+PiBhY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbCAmJgoKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoc3ltcmVmOnN0cmlwPTIpIiByZWZzL2hlYWRzL3N5bSA+IGFjdHVhbCAmJgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShzeW1yZWY6c3RyaXA9LTIpIiByZWZzL2hlYWRzL3N5bSA+PiBhY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgpjYXQgPmV4cGVjdGVkIDw8RU9GCnJlZnMKcmVmcy9oZWFkcwpFT0YKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ1ZlcmlmeSB1c2FnZSBvZiAlKHN5bXJlZjpyc3RyaXApIGF0b20nICcKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoc3ltcmVmOnJzdHJpcD0yKSIgcmVmcy9oZWFkcy9zeW0gPiBhY3R1YWwgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoc3ltcmVmOnJzdHJpcD0tMikiIHJlZnMvaGVhZHMvc3ltID4+IGFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJzpyZW1vdGVuYW1lIGFuZCA6cmVtb3RlcmVmJyAnCglnaXQgaW5pdCByZW1vdGUtdGVzdHMgJiYKCSgKCQljZCByZW1vdGUtdGVzdHMgJiYKCQl0ZXN0X2NvbW1pdCBpbml0aWFsICYmCgkJZ2l0IGJyYW5jaCAtTSBtYWluICYmCgkJZ2l0IHJlbW90ZSBhZGQgZnJvbSBmaWZ0aC5jb2ZmZWU6Ymx1YiAmJgoJCWdpdCBjb25maWcgYnJhbmNoLm1haW4ucmVtb3RlIGZyb20gJiYKCQlnaXQgY29uZmlnIGJyYW5jaC5tYWluLm1lcmdlIHJlZnMvaGVhZHMvc3RhYmxlICYmCgkJZ2l0IHJlbW90ZSBhZGQgdG8gc291dGhyaWRnZS5hdWRpbzpyZXBvICYmCgkJZ2l0IGNvbmZpZyByZW1vdGUudG8ucHVzaCAicmVmcy9oZWFkcy8qOnJlZnMvaGVhZHMvcHVzaGVkLyoiICYmCgkJZ2l0IGNvbmZpZyBicmFuY2gubWFpbi5wdXNoUmVtb3RlIHRvICYmCgkJZm9yIHBhaXIgaW4gIiUodXBzdHJlYW0pPXJlZnMvcmVtb3Rlcy9mcm9tL3N0YWJsZSIgXAoJCQkiJSh1cHN0cmVhbTpyZW1vdGVuYW1lKT1mcm9tIiBcCgkJCSIlKHVwc3RyZWFtOnJlbW90ZXJlZik9cmVmcy9oZWFkcy9zdGFibGUiIFwKCQkJIiUocHVzaCk9cmVmcy9yZW1vdGVzL3RvL3B1c2hlZC9tYWluIiBcCgkJCSIlKHB1c2g6cmVtb3RlbmFtZSk9dG8iIFwKCQkJIiUocHVzaDpyZW1vdGVyZWYpPXJlZnMvaGVhZHMvcHVzaGVkL21haW4iCgkJZG8KCQkJZWNobyAiJHtwYWlyIyo9fSIgPmV4cGVjdCAmJgoJCQlnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIke3BhaXIlPSp9IiBcCgkJCQlyZWZzL2hlYWRzL21haW4gPmFjdHVhbCAmJgoJCQl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsIHx8IGV4aXQgMQoJCWRvbmUgJiYKCQlnaXQgYnJhbmNoIHB1c2gtc2ltcGxlICYmCgkJZ2l0IGNvbmZpZyBicmFuY2gucHVzaC1zaW1wbGUucHVzaFJlbW90ZSBmcm9tICYmCgkJYWN0dWFsPSIkKGdpdCBmb3ItZWFjaC1yZWYgXAoJCQktLWZvcm1hdD0iJShwdXNoOnJlbW90ZW5hbWUpLCUocHVzaDpyZW1vdGVyZWYpIiBcCgkJCXJlZnMvaGVhZHMvcHVzaC1zaW1wbGUpIiAmJgoJCXRlc3QgZnJvbSwgPSAiJGFjdHVhbCIKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZm9yLWVhY2gtcmVmIC0taWdub3JlLWNhc2UgaWdub3JlcyBjYXNlJyAnCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiByZWZzL2hlYWRzL01BSU4gPmFjdHVhbCAmJgoJdGVzdF9tdXN0X2JlX2VtcHR5IGFjdHVhbCAmJgoKCWVjaG8gcmVmcy9oZWFkcy9tYWluID5leHBlY3QgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZSkiIC0taWdub3JlLWNhc2UgXAoJCXJlZnMvaGVhZHMvTUFJTiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2Zvci1lYWNoLXJlZiAtLW9taXQtZW1wdHkgd29ya3MnICcKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZSkiID5hY3R1YWwgJiYKCXRlc3RfbGluZV9jb3VudCAtZ3QgMSBhY3R1YWwgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUoaWY6ZXF1YWxzPXJlZnMvaGVhZHMvbWFpbiklKHJlZm5hbWUpJSh0aGVuKSUocmVmbmFtZSklKGVuZCkiIC0tb21pdC1lbXB0eSA+YWN0dWFsICYmCgllY2hvIHJlZnMvaGVhZHMvbWFpbiA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2Zvci1lYWNoLXJlZiAtLWlnbm9yZS1jYXNlIHdvcmtzIG9uIG11bHRpcGxlIHNvcnQga2V5cycgJwoJIyBuYW1lIHJlZnMgbnVtZXJpY2FsbHkgdG8gYXZvaWQgY2FzZS1pbnNlbnNpdGl2ZSBmaWxlc3lzdGVtIGNvbmZsaWN0cwoJbnI9MCAmJgoJZm9yIGVtYWlsIGluIGEgQSBiIEIKCWRvCgkJZm9yIHN1YmplY3QgaW4gYSBBIGIgQgoJCWRvCgkJCUdJVF9DT01NSVRURVJfRU1BSUw9IiRlbWFpbEBleGFtcGxlLmNvbSIgXAoJCQlnaXQgdGFnIC1tICJ0YWcgJHN1YmplY3QiIGljYXNlLSQocHJpbnRmICUwMmQgJG5yKSAmJgoJCQlucj0kKChucisxKSl8fAoJCQlyZXR1cm4gMQoJCWRvbmUKCWRvbmUgJiYKCWdpdCBmb3ItZWFjaC1yZWYgLS1pZ25vcmUtY2FzZSBcCgkJLS1mb3JtYXQ9IiUodGFnZ2VyZW1haWwpICUoc3ViamVjdCkgJShyZWZuYW1lKSIgXAoJCS0tc29ydD1yZWZuYW1lIFwKCQktLXNvcnQ9c3ViamVjdCBcCgkJLS1zb3J0PXRhZ2dlcmVtYWlsIFwKCQlyZWZzL3RhZ3MvaWNhc2UtKiA+YWN0dWFsICYmCgljYXQgPmV4cGVjdCA8PC1cRU9GICYmCgk8YUBleGFtcGxlLmNvbT4gdGFnIGEgcmVmcy90YWdzL2ljYXNlLTAwCgk8YUBleGFtcGxlLmNvbT4gdGFnIEEgcmVmcy90YWdzL2ljYXNlLTAxCgk8QUBleGFtcGxlLmNvbT4gdGFnIGEgcmVmcy90YWdzL2ljYXNlLTA0Cgk8QUBleGFtcGxlLmNvbT4gdGFnIEEgcmVmcy90YWdzL2ljYXNlLTA1Cgk8YUBleGFtcGxlLmNvbT4gdGFnIGIgcmVmcy90YWdzL2ljYXNlLTAyCgk8YUBleGFtcGxlLmNvbT4gdGFnIEIgcmVmcy90YWdzL2ljYXNlLTAzCgk8QUBleGFtcGxlLmNvbT4gdGFnIGIgcmVmcy90YWdzL2ljYXNlLTA2Cgk8QUBleGFtcGxlLmNvbT4gdGFnIEIgcmVmcy90YWdzL2ljYXNlLTA3Cgk8YkBleGFtcGxlLmNvbT4gdGFnIGEgcmVmcy90YWdzL2ljYXNlLTA4Cgk8YkBleGFtcGxlLmNvbT4gdGFnIEEgcmVmcy90YWdzL2ljYXNlLTA5Cgk8QkBleGFtcGxlLmNvbT4gdGFnIGEgcmVmcy90YWdzL2ljYXNlLTEyCgk8QkBleGFtcGxlLmNvbT4gdGFnIEEgcmVmcy90YWdzL2ljYXNlLTEzCgk8YkBleGFtcGxlLmNvbT4gdGFnIGIgcmVmcy90YWdzL2ljYXNlLTEwCgk8YkBleGFtcGxlLmNvbT4gdGFnIEIgcmVmcy90YWdzL2ljYXNlLTExCgk8QkBleGFtcGxlLmNvbT4gdGFnIGIgcmVmcy90YWdzL2ljYXNlLTE0Cgk8QkBleGFtcGxlLmNvbT4gdGFnIEIgcmVmcy90YWdzL2ljYXNlLTE1CglFT0YKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZm9yLWVhY2gtcmVmIHJlcG9ydHMgYnJva2VuIHRhZ3MnICcKCWdpdCB0YWcgLW0gImdvb2QgdGFnIiBicm9rZW4tdGFnLWdvb2QgSEVBRCAmJgoJZ2l0IGNhdC1maWxlIHRhZyBicm9rZW4tdGFnLWdvb2QgPmdvb2QgJiYKCXNlZCBzL2NvbW1pdC9ibG9iLyA8Z29vZCA+YmFkICYmCgliYWQ9JChnaXQgaGFzaC1vYmplY3QgLXcgLXQgdGFnIGJhZCkgJiYKCWdpdCB1cGRhdGUtcmVmIHJlZnMvdGFncy9icm9rZW4tdGFnLWJhZCAkYmFkICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKCpvYmplY3RuYW1lKSIgXAoJCXJlZnMvdGFncy9icm9rZW4tdGFnLSoKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0IHVwIHRhZyB3aXRoIHNpZ25hdHVyZSBhbmQgbm8gYmxhbmsgbGluZXMnICcKCWdpdCB0YWcgLUYgLSBmYWtlLXNpZy1uby1ibGFua3MgPDwtXEVPRgoJdGhpcyBpcyB0aGUgc3ViamVjdAoJLS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCW5vdCBhIHJlYWwgc2lnbmF0dXJlLCBidXQgd2UganVzdCBjYXJlIGFib3V0IHRoZQoJc3ViamVjdC9ib2R5IHBhcnNpbmcuIEl0IGlzIGltcG9ydGFudCBoZXJlIHRoYXQKCXRoZXJlIGFyZSBubyBibGFuayBsaW5lcyBpbiB0aGUgc2lnbmF0dXJlLgoJLS0tLS1FTkQgUEdQIFNJR05BVFVSRS0tLS0tCglFT0YKJwoKdGVzdF9hdG9tIHJlZnMvdGFncy9mYWtlLXNpZy1uby1ibGFua3MgY29udGVudHM6c3ViamVjdCAndGhpcyBpcyB0aGUgc3ViamVjdCcKdGVzdF9hdG9tIHJlZnMvdGFncy9mYWtlLXNpZy1uby1ibGFua3MgY29udGVudHM6Ym9keSAnJwp0ZXN0X2F0b20gcmVmcy90YWdzL2Zha2Utc2lnLW5vLWJsYW5rcyBjb250ZW50czpzaWduYXR1cmUgIiRzaWciCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzZXQgdXAgdGFnIHdpdGggQ1JMRiBzaWduYXR1cmUnICcKCWFwcGVuZF9jciA8PC1cRU9GIHwKCXRoaXMgaXMgdGhlIHN1YmplY3QKCS0tLS0tQkVHSU4gUEdQIFNJR05BVFVSRS0tLS0tCgoJbm90IGEgcmVhbCBzaWduYXR1cmUsIGJ1dCB3ZSBqdXN0IGNhcmUgYWJvdXQKCXRoZSBzdWJqZWN0L2JvZHkgcGFyc2luZy4gSXQgaXMgaW1wb3J0YW50IGhlcmUKCXRoYXQgdGhlcmUgaXMgYSBibGFuayBsaW5lIHNlcGFyYXRpbmcgdGhpcwoJZnJvbSB0aGUgc2lnbmF0dXJlIGhlYWRlci4KCS0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQoJRU9GCglnaXQgdGFnIC1GIC0gLS1jbGVhbnVwPXZlcmJhdGltIGZha2Utc2lnLWNybGYKJwoKdGVzdF9hdG9tIHJlZnMvdGFncy9mYWtlLXNpZy1jcmxmIGNvbnRlbnRzOnN1YmplY3QgJ3RoaXMgaXMgdGhlIHN1YmplY3QnCnRlc3RfYXRvbSByZWZzL3RhZ3MvZmFrZS1zaWctY3JsZiBjb250ZW50czpib2R5ICcnCgojIENSTEYgaXMgcmV0YWluZWQgaW4gdGhlIHNpZ25hdHVyZSwgc28gd2UgaGF2ZSB0byBwYXNzIG91ciBleHBlY3RlZCB2YWx1ZQojIHRocm91Z2ggYXBwZW5kX2NyLiBCdXQgdGVzdF9hdG9tIHJlcXVpcmVzIGEgc2hlbGwgc3RyaW5nLCB3aGljaCBtZWFucyBjb21tYW5kCiMgc3Vic3RpdHV0aW9uLCBhbmQgdGhlIHNoZWxsIHdpbGwgc3RyaXAgdHJhaWxpbmcgbmV3bGluZXMgZnJvbSB0aGUgb3V0cHV0IG9mCiMgdGhlIHN1YnN0aXR1dGlvbi4gSGFjayBhcm91bmQgaXQgYnkgYWRkaW5nIGFuZCB0aGVuIHJlbW92aW5nIGEgZHVtbXkgbGluZS4Kc2lnX2NybGY9IiQocHJpbnRmICIlcyIgIiRzaWciIHwgYXBwZW5kX2NyOyBlY2hvIGR1bW15KSIKc2lnX2NybGY9JHtzaWdfY3JsZiVkdW1teX0KdGVzdF9hdG9tIHJlZnMvdGFncy9mYWtlLXNpZy1jcmxmIGNvbnRlbnRzOnNpZ25hdHVyZSAiJHNpZ19jcmxmIgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZ2l0IGZvci1lYWNoLXJlZiAtLXN0ZGluOiBlbXB0eScgJwoJPmluICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiAtLXN0ZGluIDxpbiA+YWN0dWFsICYmCglnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiA+ZXhwZWN0ICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2dpdCBmb3ItZWFjaC1yZWYgLS1zdGRpbjogZmFpbHMgaWYgZXh0cmEgYXJncycgJwoJPmluICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiBcCgkJLS1zdGRpbiByZWZzL2hlYWRzL2V4dHJhIDxpbiAyPmVyciAmJgoJZ3JlcCAidW5rbm93biBhcmd1bWVudHMgc3VwcGxpZWQgd2l0aCAtLXN0ZGluIiBlcnIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZ2l0IGZvci1lYWNoLXJlZiAtLXN0ZGluOiBtYXRjaGVzJyAnCgljYXQgPmluIDw8LUVPRiAmJgoJcmVmcy90YWdzL211bHRpKgoJcmVmcy9oZWFkcy9hbWIqCglFT0YKCgljYXQgPmV4cGVjdCA8PC1FT0YgJiYKCXJlZnMvaGVhZHMvYW1iaWd1b3VzCglyZWZzL3RhZ3MvbXVsdGktcmVmMS0xMDAwMDAtdXNlcjEKCXJlZnMvdGFncy9tdWx0aS1yZWYxLTEwMDAwMC11c2VyMgoJcmVmcy90YWdzL211bHRpLXJlZjEtMjAwMDAwLXVzZXIxCglyZWZzL3RhZ3MvbXVsdGktcmVmMS0yMDAwMDAtdXNlcjIKCXJlZnMvdGFncy9tdWx0aS1yZWYyLTEwMDAwMC11c2VyMQoJcmVmcy90YWdzL211bHRpLXJlZjItMTAwMDAwLXVzZXIyCglyZWZzL3RhZ3MvbXVsdGktcmVmMi0yMDAwMDAtdXNlcjEKCXJlZnMvdGFncy9tdWx0aS1yZWYyLTIwMDAwMC11c2VyMgoJcmVmcy90YWdzL211bHRpbGluZQoJRU9GCgoJZ2l0IGZvci1lYWNoLXJlZiAtLWZvcm1hdD0iJShyZWZuYW1lKSIgLS1zdGRpbiA8aW4gPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdnaXQgZm9yLWVhY2gtcmVmIHdpdGggbm9uLWV4aXN0aW5nIHJlZnMnICcKCWNhdCA+aW4gPDwtRU9GICYmCglyZWZzL2hlYWRzL3RoaXMtcmVmLWRvZXMtbm90LWV4aXN0CglyZWZzL3RhZ3MvYm9ndXMKCUVPRgoKCWdpdCBmb3ItZWFjaC1yZWYgLS1mb3JtYXQ9IiUocmVmbmFtZSkiIC0tc3RkaW4gPGluID5hY3R1YWwgJiYKCXRlc3RfbXVzdF9iZV9lbXB0eSBhY3R1YWwgJiYKCgl4YXJncyBnaXQgZm9yLWVhY2gtcmVmIC0tZm9ybWF0PSIlKHJlZm5hbWUpIiA8aW4gPmFjdHVhbCAmJgoJdGVzdF9tdXN0X2JlX2VtcHR5IGFjdHVhbAonCgpHUkFERV9GT1JNQVQ9IiUoc2lnbmF0dXJlOmdyYWRlKSUwYSUoc2lnbmF0dXJlOmtleSklMGElKHNpZ25hdHVyZTpzaWduZXIpJTBhJShzaWduYXR1cmU6ZmluZ2VycHJpbnQpJTBhJShzaWduYXR1cmU6cHJpbWFyeWtleWZpbmdlcnByaW50KSIKVFJVU1RMRVZFTF9GT1JNQVQ9IiUoc2lnbmF0dXJlOnRydXN0bGV2ZWwpJTBhJShzaWduYXR1cmU6a2V5KSUwYSUoc2lnbmF0dXJlOnNpZ25lciklMGElKHNpZ25hdHVyZTpmaW5nZXJwcmludCklMGElKHNpZ25hdHVyZTpwcmltYXJ5a2V5ZmluZ2VycHJpbnQpIgoKdGVzdF9leHBlY3Rfc3VjY2VzcyBHUEcgJ3NldHVwIGZvciBzaWduYXR1cmUgYXRvbSB1c2luZyBncGcnICcKCWdpdCBjaGVja291dCAtYiBzaWduZWQgJiYKCgl0ZXN0X3doZW5fZmluaXNoZWQgInRlc3RfdW5jb25maWcgY29tbWl0LmdwZ1NpZ24iICYmCgoJZWNobyAiMSIgPmZpbGUgJiYKCWdpdCBhZGQgZmlsZSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1TIC1tICJmaWxlOiAxIiAmJgoJZ2l0IHRhZyBmaXJzdC1zaWduZWQgJiYKCgllY2hvICIyIiA+ZmlsZSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1hIC1tICJmaWxlOiAyIiAmJgoJZ2l0IHRhZyBzZWNvbmQtdW5zaWduZWQgJiYKCglnaXQgY29uZmlnIGNvbW1pdC5ncGdTaWduIDEgJiYKCWVjaG8gIjMiID5maWxlICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLWEgLS1uby1ncGctc2lnbiAtbSAiZmlsZTogMyIgJiYKCWdpdCB0YWcgdGhpcmQtdW5zaWduZWQgJiYKCgl0ZXN0X3RpY2sgJiYKCWdpdCByZWJhc2UgLWYgSEVBRF5eICYmIGdpdCB0YWcgc2Vjb25kLXNpZ25lZCBIRUFEXiAmJgoJZ2l0IHRhZyB0aGlyZC1zaWduZWQgJiYKCgllY2hvICI0IiA+ZmlsZSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1hIC1TQjcyMjcxODkgLW0gImZpbGU6IDQiICYmCglnaXQgdGFnIGZvdXJ0aC1zaWduZWQgJiYKCgllY2hvICI1IiA+ZmlsZSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1hIC0tbm8tZ3BnLXNpZ24gLW0gImZpbGU6IDUiICYmCglnaXQgdGFnIGZpZnRoLXVuc2lnbmVkICYmCgoJZWNobyAiNiIgPmZpbGUgJiYKCXRlc3RfdGljayAmJgoJZ2l0IGNvbW1pdCAtYSAtLW5vLWdwZy1zaWduIC1tICJmaWxlOiA2IiAmJgoKCXRlc3RfdGljayAmJgoJZ2l0IHJlYmFzZSAtZiBIRUFEXl4gJiYKCWdpdCB0YWcgZmlmdGgtc2lnbmVkIEhFQUReICYmCglnaXQgdGFnIHNpeHRoLXNpZ25lZCAmJgoKCWVjaG8gIjciID5maWxlICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLWEgLS1uby1ncGctc2lnbiAtbSAiZmlsZTogNyIgJiYKCWdpdCB0YWcgc2V2ZW50aC11bnNpZ25lZAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIEdQR1NTSCAnc2V0dXAgZm9yIHNpZ25hdHVyZSBhdG9tIHVzaW5nIHNzaCcgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJ0ZXN0X3VuY29uZmlnIGdwZy5mb3JtYXQgdXNlci5zaWduaW5na2V5IiAmJgoKCXRlc3RfY29uZmlnIGdwZy5mb3JtYXQgc3NoICYmCgl0ZXN0X2NvbmZpZyB1c2VyLnNpZ25pbmdrZXkgIiR7R1BHU1NIX0tFWV9QUklNQVJZfSIgJiYKCWVjaG8gIjgiID5maWxlICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBhZGQgZmlsZSAmJgoJZ2l0IGNvbW1pdCAtUyAtbSAiZmlsZTogOCIgJiYKCWdpdCB0YWcgZWlnaHRoLXNpZ25lZC1zc2gKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBHUEcyICdiYXJlIHNpZ25hdHVyZSBhdG9tJyAnCglnaXQgdmVyaWZ5LWNvbW1pdCBmaXJzdC1zaWduZWQgMj5leHBlY3QgJiYKCWVjaG8gID4+ZXhwZWN0ICYmCglnaXQgZm9yLWVhY2gtcmVmIHJlZnMvdGFncy9maXJzdC1zaWduZWQgXAoJCS0tZm9ybWF0PSIlKHNpZ25hdHVyZSkiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBHUEcgJ3Nob3cgZ29vZCBzaWduYXR1cmUgd2l0aCBjdXN0b20gZm9ybWF0JyAnCglnaXQgdmVyaWZ5LWNvbW1pdCBmaXJzdC1zaWduZWQgJiYKCWNhdCA+ZXhwZWN0IDw8LVxFT0YgJiYKCUcKCTEzQjZGNTFFQ0RERTQzMEQKCUMgTyBNaXR0ZXIgPGNvbW1pdHRlckBleGFtcGxlLmNvbT4KCTczRDc1ODc0NEJFNzIxNjk4RUM1NEU4NzEzQjZGNTFFQ0RERTQzMEQKCTczRDc1ODc0NEJFNzIxNjk4RUM1NEU4NzEzQjZGNTFFQ0RERTQzMEQKCUVPRgoJZ2l0IGZvci1lYWNoLXJlZiByZWZzL3RhZ3MvZmlyc3Qtc2lnbmVkIFwKCQktLWZvcm1hdD0iJEdSQURFX0ZPUk1BVCIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgR1BHU1NIICdzaG93IGdvb2Qgc2lnbmF0dXJlIHdpdGggY3VzdG9tIGZvcm1hdAoJCQkgICAgd2l0aCBzc2gnICcKCXRlc3RfY29uZmlnIGdwZy5zc2guYWxsb3dlZFNpZ25lcnNGaWxlICIke0dQR1NTSF9BTExPV0VEX1NJR05FUlN9IiAmJgoJRklOR0VSUFJJTlQ9JChzc2gta2V5Z2VuIC1sZiAiJHtHUEdTU0hfS0VZX1BSSU1BUll9IiB8IGF3ayAie3ByaW50IFwkMjt9IikgJiYKCWNhdCA+ZXhwZWN0LnRtcGwgPDwtXEVPRiAmJgoJRwoJRklOR0VSUFJJTlQKCXByaW5jaXBhbCB3aXRoIG51bWJlciAxCglGSU5HRVJQUklOVAoKCUVPRgoJc2VkICJzfEZJTkdFUlBSSU5UfCRGSU5HRVJQUklOVHxnIiBleHBlY3QudG1wbCA+ZXhwZWN0ICYmCglnaXQgZm9yLWVhY2gtcmVmIHJlZnMvdGFncy9laWdodGgtc2lnbmVkLXNzaCBcCgkJLS1mb3JtYXQ9IiRHUkFERV9GT1JNQVQiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBHUEcgJ3NpZ25hdHVyZSBhdG9tIHdpdGggZ3JhZGUgb3B0aW9uIGFuZCBiYWQgc2lnbmF0dXJlJyAnCglnaXQgY2F0LWZpbGUgY29tbWl0IHRoaXJkLXNpZ25lZCA+cmF3ICYmCglzZWQgLWUgInMvXmZpbGU6IDMvZmlsZTogMyBmb3JnZWQvIiByYXcgPmZvcmdlZDEgJiYKCUZPUkdFRDE9JChnaXQgaGFzaC1vYmplY3QgLXcgLXQgY29tbWl0IGZvcmdlZDEpICYmCglnaXQgdXBkYXRlLXJlZiByZWZzL3RhZ3MvdGhpcmQtc2lnbmVkICIkRk9SR0VEMSIgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCB2ZXJpZnktY29tbWl0ICIkRk9SR0VEMSIgJiYKCgljYXQgPmV4cGVjdCA8PC1cRU9GICYmCglCCgkxM0I2RjUxRUNEREU0MzBECglDIE8gTWl0dGVyIDxjb21taXR0ZXJAZXhhbXBsZS5jb20+CgoKCUVPRgoJZ2l0IGZvci1lYWNoLXJlZiByZWZzL3RhZ3MvdGhpcmQtc2lnbmVkIFwKCQktLWZvcm1hdD0iJEdSQURFX0ZPUk1BVCIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIEdQRyAnc2hvdyB1bnRydXN0ZWQgc2lnbmF0dXJlIHdpdGggY3VzdG9tIGZvcm1hdCcgJwoJY2F0ID5leHBlY3QgPDwtXEVPRiAmJgoJVQoJNjVBMEVFQTAyRTMwQ0FENwoJRXJpcyBEaXNjb3JkaWEgPGRpc2NvcmRAZXhhbXBsZS5uZXQ+CglGODM2NEE1OUUwN0ZGRTlGNEQ2MzAwNUE2NUEwRUVBMDJFMzBDQUQ3CglENEJFMjIzMTFBRDMxMzFFNUVEQTI5QTQ2MTA5MkU4NUI3MjI3MTg5CglFT0YKCWdpdCBmb3ItZWFjaC1yZWYgcmVmcy90YWdzL2ZvdXJ0aC1zaWduZWQgXAoJCS0tZm9ybWF0PSIkR1JBREVfRk9STUFUIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgR1BHICdzaG93IHVudHJ1c3RlZCBzaWduYXR1cmUgd2l0aCB1bmRlZmluZWQgdHJ1c3QgbGV2ZWwnICcKCWNhdCA+ZXhwZWN0IDw8LVxFT0YgJiYKCXVuZGVmaW5lZAoJNjVBMEVFQTAyRTMwQ0FENwoJRXJpcyBEaXNjb3JkaWEgPGRpc2NvcmRAZXhhbXBsZS5uZXQ+CglGODM2NEE1OUUwN0ZGRTlGNEQ2MzAwNUE2NUEwRUVBMDJFMzBDQUQ3CglENEJFMjIzMTFBRDMxMzFFNUVEQTI5QTQ2MTA5MkU4NUI3MjI3MTg5CglFT0YKCWdpdCBmb3ItZWFjaC1yZWYgcmVmcy90YWdzL2ZvdXJ0aC1zaWduZWQgXAoJCS0tZm9ybWF0PSIkVFJVU1RMRVZFTF9GT1JNQVQiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBHUEcgJ3Nob3cgdW50cnVzdGVkIHNpZ25hdHVyZSB3aXRoIHVsdGltYXRlIHRydXN0IGxldmVsJyAnCgljYXQgPmV4cGVjdCA8PC1cRU9GICYmCgl1bHRpbWF0ZQoJMTNCNkY1MUVDRERFNDMwRAoJQyBPIE1pdHRlciA8Y29tbWl0dGVyQGV4YW1wbGUuY29tPgoJNzNENzU4NzQ0QkU3MjE2OThFQzU0RTg3MTNCNkY1MUVDRERFNDMwRAoJNzNENzU4NzQ0QkU3MjE2OThFQzU0RTg3MTNCNkY1MUVDRERFNDMwRAoJRU9GCglnaXQgZm9yLWVhY2gtcmVmIHJlZnMvdGFncy9zaXh0aC1zaWduZWQgXAoJCS0tZm9ybWF0PSIkVFJVU1RMRVZFTF9GT1JNQVQiID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyBHUEcgJ3Nob3cgdW5rbm93biBzaWduYXR1cmUgd2l0aCBjdXN0b20gZm9ybWF0JyAnCgljYXQgPmV4cGVjdCA8PC1cRU9GICYmCglFCgkxM0I2RjUxRUNEREU0MzBECgoKCglFT0YKCUdOVVBHSE9NRT0iJEdOVVBHSE9NRV9OT1RfVVNFRCIgZ2l0IGZvci1lYWNoLXJlZiBcCgkJcmVmcy90YWdzL3NpeHRoLXNpZ25lZCAtLWZvcm1hdD0iJEdSQURFX0ZPUk1BVCIgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIEdQRyAnc2hvdyBsYWNrIG9mIHNpZ25hdHVyZSB3aXRoIGN1c3RvbSBmb3JtYXQnICcKCWNhdCA+ZXhwZWN0IDw8LVxFT0YgJiYKCU4KCgoKCglFT0YKCWdpdCBmb3ItZWFjaC1yZWYgcmVmcy90YWdzL3NldmVudGgtdW5zaWduZWQgXAoJCS0tZm9ybWF0PSIkR1JBREVfRk9STUFUIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCicKCnRlc3RfZG9uZQo=",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2007 Andy Parkins\n#\n\ntest_description='for-each-ref test'\n\n. ./test-lib.sh\nGNUPGHOME_NOT_USED=$GNUPGHOME\n. \"$TEST_DIRECTORY\"/lib-gpg.sh\n. \"$TEST_DIRECTORY\"/lib-terminal.sh\n\n# Mon Jul 3 23:18:43 2006 +0000\ndatestamp=1151968723\nsetdate_and_increment () {\n    GIT_COMMITTER_DATE=\"$datestamp +0200\"\n    datestamp=$(expr \"$datestamp\" + 1)\n    GIT_AUTHOR_DATE=\"$datestamp +0200\"\n    datestamp=$(expr \"$datestamp\" + 1)\n    export GIT_COMMITTER_DATE GIT_AUTHOR_DATE\n}\n\ntest_expect_success setup '\n\ttest_oid_cache <<-EOF &&\n\tdisklen sha1:138\n\tdisklen sha256:154\n\tEOF\n\n\t# setup .mailmap\n\tcat >.mailmap <<-EOF &&\n\tA Thor <athor@example.com> A U Thor <author@example.com>\n\tC Mitter <cmitter@example.com> C O Mitter <committer@example.com>\n\tEOF\n\n\tsetdate_and_increment &&\n\techo \"Using $datestamp\" > one &&\n\tgit add one &&\n\tgit commit -m \"Initial\" &&\n\tgit branch -M main &&\n\tsetdate_and_increment &&\n\tgit tag -a -m \"Tagging at $datestamp\" testtag &&\n\tgit update-ref refs/remotes/origin/main main &&\n\tgit remote add origin nowhere &&\n\tgit config branch.main.remote origin &&\n\tgit config branch.main.merge refs/heads/main &&\n\tgit remote add myfork elsewhere &&\n\tgit config remote.pushdefault myfork &&\n\tgit config push.default current\n'\n\ntest_atom () {\n\tcase \"$1\" in\n\t\thead) ref=refs/heads/main ;;\n\t\t tag) ref=refs/tags/testtag ;;\n\t\t sym) ref=refs/heads/sym ;;\n\t\t   *) ref=$1 ;;\n\tesac\n\tformat=$2\n\ttest_do=test_expect_${4:-success}\n\n\tprintf '%s\\n' \"$3\" >expected\n\t$test_do $PREREQ \"basic atom: $ref $format\" '\n\t\tgit for-each-ref --format=\"%($format)\" \"$ref\" >actual &&\n\t\tsanitize_pgp <actual >actual.clean &&\n\t\ttest_cmp expected actual.clean\n\t'\n\n\t# Automatically test \"contents:size\" atom after testing \"contents\"\n\tif test \"$format\" = \"contents\"\n\tthen\n\t\t# for commit leg, $3 is changed there\n\t\texpect=$(printf '%s' \"$3\" | wc -c)\n\t\t$test_do $PREREQ \"basic atom: $ref contents:size\" '\n\t\t\ttype=$(git cat-file -t \"$ref\") &&\n\t\t\tcase $type in\n\t\t\ttag)\n\t\t\t\t# We cannot use $3 as it expects sanitize_pgp to run\n\t\t\t\tgit cat-file tag $ref >out &&\n\t\t\t\texpect=$(tail -n +6 out | wc -c) &&\n\t\t\t\trm -f out ;;\n\t\t\ttree | blob)\n\t\t\t\texpect=\"\" ;;\n\t\t\tcommit)\n\t\t\t\t: \"use the calculated expect\" ;;\n\t\t\t*)\n\t\t\t\tBUG \"unknown object type\" ;;\n\t\t\tesac &&\n\t\t\t# Leave $expect unquoted to lose possible leading whitespaces\n\t\t\techo $expect >expected &&\n\t\t\tgit for-each-ref --format=\"%(contents:size)\" \"$ref\" >actual &&\n\t\t\ttest_cmp expected actual\n\t\t'\n\tfi\n}\n\nhexlen=$(test_oid hexsz)\ndisklen=$(test_oid disklen)\n\ntest_atom head refname refs/heads/main\ntest_atom head refname: refs/heads/main\ntest_atom head refname:short main\ntest_atom head refname:lstrip=1 heads/main\ntest_atom head refname:lstrip=2 main\ntest_atom head refname:lstrip=-1 main\ntest_atom head refname:lstrip=-2 heads/main\ntest_atom head refname:rstrip=1 refs/heads\ntest_atom head refname:rstrip=2 refs\ntest_atom head refname:rstrip=-1 refs\ntest_atom head refname:rstrip=-2 refs/heads\ntest_atom head refname:strip=1 heads/main\ntest_atom head refname:strip=2 main\ntest_atom head refname:strip=-1 main\ntest_atom head refname:strip=-2 heads/main\ntest_atom head upstream refs/remotes/origin/main\ntest_atom head upstream:short origin/main\ntest_atom head upstream:lstrip=2 origin/main\ntest_atom head upstream:lstrip=-2 origin/main\ntest_atom head upstream:rstrip=2 refs/remotes\ntest_atom head upstream:rstrip=-2 refs/remotes\ntest_atom head upstream:strip=2 origin/main\ntest_atom head upstream:strip=-2 origin/main\ntest_atom head push refs/remotes/myfork/main\ntest_atom head push:short myfork/main\ntest_atom head push:lstrip=1 remotes/myfork/main\ntest_atom head push:lstrip=-1 main\ntest_atom head push:rstrip=1 refs/remotes/myfork\ntest_atom head push:rstrip=-1 refs\ntest_atom head push:strip=1 remotes/myfork/main\ntest_atom head push:strip=-1 main\ntest_atom head objecttype commit\ntest_atom head objectsize $((131 + hexlen))\ntest_atom head objectsize:disk $disklen\ntest_atom head deltabase $ZERO_OID\ntest_atom head objectname $(git rev-parse refs/heads/main)\ntest_atom head objectname:short $(git rev-parse --short refs/heads/main)\ntest_atom head objectname:short=1 $(git rev-parse --short=1 refs/heads/main)\ntest_atom head objectname:short=10 $(git rev-parse --short=10 refs/heads/main)\ntest_atom head tree $(git rev-parse refs/heads/main^{tree})\ntest_atom head tree:short $(git rev-parse --short refs/heads/main^{tree})\ntest_atom head tree:short=1 $(git rev-parse --short=1 refs/heads/main^{tree})\ntest_atom head tree:short=10 $(git rev-parse --short=10 refs/heads/main^{tree})\ntest_atom head parent ''\ntest_atom head parent:short ''\ntest_atom head parent:short=1 ''\ntest_atom head parent:short=10 ''\ntest_atom head numparent 0\ntest_atom head object ''\ntest_atom head type ''\ntest_atom head raw \"$(git cat-file commit refs/heads/main)\n\"\ntest_atom head '*objectname' ''\ntest_atom head '*objecttype' ''\ntest_atom head author 'A U Thor <author@example.com> 1151968724 +0200'\ntest_atom head authorname 'A U Thor'\ntest_atom head authorname:mailmap 'A Thor'\ntest_atom head authoremail '<author@example.com>'\ntest_atom head authoremail:trim 'author@example.com'\ntest_atom head authoremail:localpart 'author'\ntest_atom head authoremail:trim,localpart 'author'\ntest_atom head authoremail:mailmap '<athor@example.com>'\ntest_atom head authoremail:mailmap,trim 'athor@example.com'\ntest_atom head authoremail:trim,mailmap 'athor@example.com'\ntest_atom head authoremail:mailmap,localpart 'athor'\ntest_atom head authoremail:localpart,mailmap 'athor'\ntest_atom head authoremail:mailmap,trim,localpart,mailmap,trim 'athor'\ntest_atom head authordate 'Tue Jul 4 01:18:44 2006 +0200'\ntest_atom head committer 'C O Mitter <committer@example.com> 1151968723 +0200'\ntest_atom head committername 'C O Mitter'\ntest_atom head committername:mailmap 'C Mitter'\ntest_atom head committeremail '<committer@example.com>'\ntest_atom head committeremail:trim 'committer@example.com'\ntest_atom head committeremail:localpart 'committer'\ntest_atom head committeremail:localpart,trim 'committer'\ntest_atom head committeremail:mailmap '<cmitter@example.com>'\ntest_atom head committeremail:mailmap,trim 'cmitter@example.com'\ntest_atom head committeremail:trim,mailmap 'cmitter@example.com'\ntest_atom head committeremail:mailmap,localpart 'cmitter'\ntest_atom head committeremail:localpart,mailmap 'cmitter'\ntest_atom head committeremail:trim,mailmap,trim,trim,localpart 'cmitter'\ntest_atom head committerdate 'Tue Jul 4 01:18:43 2006 +0200'\ntest_atom head tag ''\ntest_atom head tagger ''\ntest_atom head taggername ''\ntest_atom head taggeremail ''\ntest_atom head taggeremail:trim ''\ntest_atom head taggeremail:localpart ''\ntest_atom head taggerdate ''\ntest_atom head creator 'C O Mitter <committer@example.com> 1151968723 +0200'\ntest_atom head creatordate 'Tue Jul 4 01:18:43 2006 +0200'\ntest_atom head subject 'Initial'\ntest_atom head subject:sanitize 'Initial'\ntest_atom head contents:subject 'Initial'\ntest_atom head body ''\ntest_atom head contents:body ''\ntest_atom head contents:signature ''\ntest_atom head contents 'Initial\n'\ntest_atom head HEAD '*'\n\ntest_atom tag refname refs/tags/testtag\ntest_atom tag refname:short testtag\ntest_atom tag upstream ''\ntest_atom tag push ''\ntest_atom tag objecttype tag\ntest_atom tag objectsize $((114 + hexlen))\ntest_atom tag objectsize:disk $disklen\ntest_atom tag '*objectsize:disk' $disklen\ntest_atom tag deltabase $ZERO_OID\ntest_atom tag '*deltabase' $ZERO_OID\ntest_atom tag objectname $(git rev-parse refs/tags/testtag)\ntest_atom tag objectname:short $(git rev-parse --short refs/tags/testtag)\ntest_atom head objectname:short=1 $(git rev-parse --short=1 refs/heads/main)\ntest_atom head objectname:short=10 $(git rev-parse --short=10 refs/heads/main)\ntest_atom tag tree ''\ntest_atom tag tree:short ''\ntest_atom tag tree:short=1 ''\ntest_atom tag tree:short=10 ''\ntest_atom tag parent ''\ntest_atom tag parent:short ''\ntest_atom tag parent:short=1 ''\ntest_atom tag parent:short=10 ''\ntest_atom tag numparent ''\ntest_atom tag object $(git rev-parse refs/tags/testtag^0)\ntest_atom tag type 'commit'\ntest_atom tag '*objectname' $(git rev-parse refs/tags/testtag^{})\ntest_atom tag '*objecttype' 'commit'\ntest_atom tag author ''\ntest_atom tag authorname ''\ntest_atom tag authorname:mailmap ''\ntest_atom tag authoremail ''\ntest_atom tag authoremail:trim ''\ntest_atom tag authoremail:localpart ''\ntest_atom tag authoremail:trim,localpart ''\ntest_atom tag authoremail:mailmap ''\ntest_atom tag authoremail:mailmap,trim ''\ntest_atom tag authoremail:trim,mailmap ''\ntest_atom tag authoremail:mailmap,localpart ''\ntest_atom tag authoremail:localpart,mailmap ''\ntest_atom tag authoremail:mailmap,trim,localpart,mailmap,trim ''\ntest_atom tag authordate ''\ntest_atom tag committer ''\ntest_atom tag committername ''\ntest_atom tag committername:mailmap ''\ntest_atom tag committeremail ''\ntest_atom tag committeremail:trim ''\ntest_atom tag committeremail:localpart ''\ntest_atom tag committeremail:localpart,trim ''\ntest_atom tag committeremail:mailmap ''\ntest_atom tag committeremail:mailmap,trim ''\ntest_atom tag committeremail:trim,mailmap ''\ntest_atom tag committeremail:mailmap,localpart ''\ntest_atom tag committeremail:localpart,mailmap ''\ntest_atom tag committeremail:trim,mailmap,trim,trim,localpart ''\ntest_atom tag committerdate ''\ntest_atom tag tag 'testtag'\ntest_atom tag tagger 'C O Mitter <committer@example.com> 1151968725 +0200'\ntest_atom tag taggername 'C O Mitter'\ntest_atom tag taggername:mailmap 'C Mitter'\ntest_atom tag taggeremail '<committer@example.com>'\ntest_atom tag taggeremail:trim 'committer@example.com'\ntest_atom tag taggeremail:localpart 'committer'\ntest_atom tag taggeremail:trim,localpart 'committer'\ntest_atom tag taggeremail:mailmap '<cmitter@example.com>'\ntest_atom tag taggeremail:mailmap,trim 'cmitter@example.com'\ntest_atom tag taggeremail:trim,mailmap 'cmitter@example.com'\ntest_atom tag taggeremail:mailmap,localpart 'cmitter'\ntest_atom tag taggeremail:localpart,mailmap 'cmitter'\ntest_atom tag taggeremail:trim,mailmap,trim,localpart,localpart 'cmitter'\ntest_atom tag taggerdate 'Tue Jul 4 01:18:45 2006 +0200'\ntest_atom tag creator 'C O Mitter <committer@example.com> 1151968725 +0200'\ntest_atom tag creatordate 'Tue Jul 4 01:18:45 2006 +0200'\ntest_atom tag subject 'Tagging at 1151968727'\ntest_atom tag subject:sanitize 'Tagging-at-1151968727'\ntest_atom tag contents:subject 'Tagging at 1151968727'\ntest_atom tag body ''\ntest_atom tag contents:body ''\ntest_atom tag contents:signature ''\ntest_atom tag contents 'Tagging at 1151968727\n'\ntest_atom tag HEAD ' '\n\ntest_expect_success 'basic atom: refs/tags/testtag *raw' '\n\tgit cat-file commit refs/tags/testtag^{} >expected &&\n\tgit for-each-ref --format=\"%(*raw)\" refs/tags/testtag >actual &&\n\tsanitize_pgp <expected >expected.clean &&\n\techo >>expected.clean &&\n\tsanitize_pgp <actual >actual.clean &&\n\ttest_cmp expected.clean actual.clean\n'\n\ntest_expect_success 'Check invalid atoms names are errors' '\n\ttest_must_fail git for-each-ref --format=\"%(INVALID)\" refs/heads\n'\n\ntest_expect_success 'Check format specifiers are ignored in naming date atoms' '\n\tgit for-each-ref --format=\"%(authordate)\" refs/heads &&\n\tgit for-each-ref --format=\"%(authordate:default) %(authordate)\" refs/heads &&\n\tgit for-each-ref --format=\"%(authordate) %(authordate:default)\" refs/heads &&\n\tgit for-each-ref --format=\"%(authordate:default) %(authordate:default)\" refs/heads\n'\n\ntest_expect_success 'Check valid format specifiers for date fields' '\n\tgit for-each-ref --format=\"%(authordate:default)\" refs/heads &&\n\tgit for-each-ref --format=\"%(authordate:relative)\" refs/heads &&\n\tgit for-each-ref --format=\"%(authordate:short)\" refs/heads &&\n\tgit for-each-ref --format=\"%(authordate:local)\" refs/heads &&\n\tgit for-each-ref --format=\"%(authordate:iso8601)\" refs/heads &&\n\tgit for-each-ref --format=\"%(authordate:rfc2822)\" refs/heads\n'\n\ntest_expect_success 'Check invalid format specifiers are errors' '\n\ttest_must_fail git for-each-ref --format=\"%(authordate:INVALID)\" refs/heads\n'\n\ntest_expect_success 'arguments to %(objectname:short=) must be positive integers' '\n\ttest_must_fail git for-each-ref --format=\"%(objectname:short=0)\" &&\n\ttest_must_fail git for-each-ref --format=\"%(objectname:short=-1)\" &&\n\ttest_must_fail git for-each-ref --format=\"%(objectname:short=foo)\"\n'\n\ntest_bad_atom () {\n\tcase \"$1\" in\n\thead) ref=refs/heads/main ;;\n\t tag) ref=refs/tags/testtag ;;\n\t sym) ref=refs/heads/sym ;;\n\t   *) ref=$1 ;;\n\tesac\n\tformat=$2\n\ttest_do=test_expect_${4:-success}\n\n\tprintf '%s\\n' \"$3\" >expect\n\t$test_do $PREREQ \"err basic atom: $ref $format\" '\n\t\ttest_must_fail git for-each-ref \\\n\t\t\t--format=\"%($format)\" \"$ref\" 2>error &&\n\t\ttest_cmp expect error\n\t'\n}\n\ntest_bad_atom head 'authoremail:foo' \\\n\t'fatal: unrecognized %(authoremail) argument: foo'\n\ntest_bad_atom head 'authoremail:mailmap,trim,bar' \\\n\t'fatal: unrecognized %(authoremail) argument: bar'\n\ntest_bad_atom head 'authoremail:trim,' \\\n\t'fatal: unrecognized %(authoremail) argument: '\n\ntest_bad_atom head 'authoremail:mailmaptrim' \\\n\t'fatal: unrecognized %(authoremail) argument: trim'\n\ntest_bad_atom head 'committeremail: ' \\\n\t'fatal: unrecognized %(committeremail) argument:  '\n\ntest_bad_atom head 'committeremail: trim,foo' \\\n\t'fatal: unrecognized %(committeremail) argument:  trim,foo'\n\ntest_bad_atom head 'committeremail:mailmap,localpart ' \\\n\t'fatal: unrecognized %(committeremail) argument:  '\n\ntest_bad_atom head 'committeremail:trim_localpart' \\\n\t'fatal: unrecognized %(committeremail) argument: _localpart'\n\ntest_bad_atom head 'committeremail:localpart,,,trim' \\\n\t'fatal: unrecognized %(committeremail) argument: ,,trim'\n\ntest_bad_atom tag 'taggeremail:mailmap,trim, foo ' \\\n\t'fatal: unrecognized %(taggeremail) argument:  foo '\n\ntest_bad_atom tag 'taggeremail:trim,localpart,' \\\n\t'fatal: unrecognized %(taggeremail) argument: '\n\ntest_bad_atom tag 'taggeremail:mailmap;localpart trim' \\\n\t'fatal: unrecognized %(taggeremail) argument: ;localpart trim'\n\ntest_bad_atom tag 'taggeremail:localpart trim' \\\n\t'fatal: unrecognized %(taggeremail) argument:  trim'\n\ntest_bad_atom tag 'taggeremail:mailmap,mailmap,trim,qux,localpart,trim' \\\n\t'fatal: unrecognized %(taggeremail) argument: qux,localpart,trim'\n\ntest_date () {\n\tf=$1 &&\n\tcommitter_date=$2 &&\n\tauthor_date=$3 &&\n\ttagger_date=$4 &&\n\tcat >expected <<-EOF &&\n\t'refs/heads/main' '$committer_date' '$author_date'\n\t'refs/tags/testtag' '$tagger_date'\n\tEOF\n\t(\n\t\tgit for-each-ref --shell \\\n\t\t\t--format=\"%(refname) %(committerdate${f:+:$f}) %(authordate${f:+:$f})\" \\\n\t\t\trefs/heads &&\n\t\tgit for-each-ref --shell \\\n\t\t\t--format=\"%(refname) %(taggerdate${f:+:$f})\" \\\n\t\t\trefs/tags\n\t) >actual &&\n\ttest_cmp expected actual\n}\n\ntest_expect_success 'Check unformatted date fields output' '\n\ttest_date \"\" \\\n\t\t\"Tue Jul 4 01:18:43 2006 +0200\" \\\n\t\t\"Tue Jul 4 01:18:44 2006 +0200\" \\\n\t\t\"Tue Jul 4 01:18:45 2006 +0200\"\n'\n\ntest_expect_success 'Check format \"default\" formatted date fields output' '\n\ttest_date default \\\n\t\t\"Tue Jul 4 01:18:43 2006 +0200\" \\\n\t\t\"Tue Jul 4 01:18:44 2006 +0200\" \\\n\t\t\"Tue Jul 4 01:18:45 2006 +0200\"\n'\n\ntest_expect_success 'Check format \"default-local\" date fields output' '\n\ttest_date default-local \"Mon Jul 3 23:18:43 2006\" \"Mon Jul 3 23:18:44 2006\" \"Mon Jul 3 23:18:45 2006\"\n'\n\n# Don't know how to do relative check because I can't know when this script\n# is going to be run and can't fake the current time to git, and hence can't\n# provide expected output.  Instead, I'll just make sure that \"relative\"\n# doesn't exit in error\ntest_expect_success 'Check format \"relative\" date fields output' '\n\tf=relative &&\n\t(git for-each-ref --shell --format=\"%(refname) %(committerdate:$f) %(authordate:$f)\" refs/heads &&\n\tgit for-each-ref --shell --format=\"%(refname) %(taggerdate:$f)\" refs/tags) >actual\n'\n\n# We just check that this is the same as \"relative\" for now.\ntest_expect_success 'Check format \"relative-local\" date fields output' '\n\ttest_date relative-local \\\n\t\t\"$(git for-each-ref --format=\"%(committerdate:relative)\" refs/heads)\" \\\n\t\t\"$(git for-each-ref --format=\"%(authordate:relative)\" refs/heads)\" \\\n\t\t\"$(git for-each-ref --format=\"%(taggerdate:relative)\" refs/tags)\"\n'\n\ntest_expect_success 'Check format \"short\" date fields output' '\n\ttest_date short 2006-07-04 2006-07-04 2006-07-04\n'\n\ntest_expect_success 'Check format \"short-local\" date fields output' '\n\ttest_date short-local 2006-07-03 2006-07-03 2006-07-03\n'\n\ntest_expect_success 'Check format \"local\" date fields output' '\n\ttest_date local \\\n\t\t\"Mon Jul 3 23:18:43 2006\" \\\n\t\t\"Mon Jul 3 23:18:44 2006\" \\\n\t\t\"Mon Jul 3 23:18:45 2006\"\n'\n\ntest_expect_success 'Check format \"iso8601\" date fields output' '\n\ttest_date iso8601 \\\n\t\t\"2006-07-04 01:18:43 +0200\" \\\n\t\t\"2006-07-04 01:18:44 +0200\" \\\n\t\t\"2006-07-04 01:18:45 +0200\"\n'\n\ntest_expect_success 'Check format \"iso8601-local\" date fields output' '\n\ttest_date iso8601-local \"2006-07-03 23:18:43 +0000\" \"2006-07-03 23:18:44 +0000\" \"2006-07-03 23:18:45 +0000\"\n'\n\ntest_expect_success 'Check format \"rfc2822\" date fields output' '\n\ttest_date rfc2822 \\\n\t\t\"Tue, 4 Jul 2006 01:18:43 +0200\" \\\n\t\t\"Tue, 4 Jul 2006 01:18:44 +0200\" \\\n\t\t\"Tue, 4 Jul 2006 01:18:45 +0200\"\n'\n\ntest_expect_success 'Check format \"rfc2822-local\" date fields output' '\n\ttest_date rfc2822-local \"Mon, 3 Jul 2006 23:18:43 +0000\" \"Mon, 3 Jul 2006 23:18:44 +0000\" \"Mon, 3 Jul 2006 23:18:45 +0000\"\n'\n\ntest_expect_success 'Check format \"raw\" date fields output' '\n\ttest_date raw \"1151968723 +0200\" \"1151968724 +0200\" \"1151968725 +0200\"\n'\n\ntest_expect_success 'Check format \"raw-local\" date fields output' '\n\ttest_date raw-local \"1151968723 +0000\" \"1151968724 +0000\" \"1151968725 +0000\"\n'\n\ntest_expect_success 'Check format of strftime date fields' '\n\techo \"my date is 2006-07-04\" >expected &&\n\tgit for-each-ref \\\n\t  --format=\"%(authordate:format:my date is %Y-%m-%d)\" \\\n\t  refs/heads >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'Check format of strftime-local date fields' '\n\techo \"my date is 2006-07-03\" >expected &&\n\tgit for-each-ref \\\n\t  --format=\"%(authordate:format-local:my date is %Y-%m-%d)\" \\\n\t  refs/heads >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'exercise strftime with odd fields' '\n\techo >expected &&\n\tgit for-each-ref --format=\"%(authordate:format:)\" refs/heads >actual &&\n\ttest_cmp expected actual &&\n\tlong=\"long format -- $ZERO_OID$ZERO_OID$ZERO_OID$ZERO_OID$ZERO_OID$ZERO_OID$ZERO_OID\" &&\n\techo $long >expected &&\n\tgit for-each-ref --format=\"%(authordate:format:$long)\" refs/heads >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<\\EOF\nrefs/heads/main\nrefs/remotes/origin/main\nrefs/tags/testtag\nEOF\n\ntest_expect_success 'Verify ascending sort' '\n\tgit for-each-ref --format=\"%(refname)\" --sort=refname >actual &&\n\ttest_cmp expected actual\n'\n\n\ncat >expected <<\\EOF\nrefs/tags/testtag\nrefs/remotes/origin/main\nrefs/heads/main\nEOF\n\ntest_expect_success 'Verify descending sort' '\n\tgit for-each-ref --format=\"%(refname)\" --sort=-refname >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'Give help even with invalid sort atoms' '\n\ttest_expect_code 129 git for-each-ref --sort=bogus -h >actual 2>&1 &&\n\tgrep \"^usage: git for-each-ref\" actual\n'\n\ncat >expected <<\\EOF\nrefs/tags/testtag\nrefs/tags/testtag-2\nEOF\n\ntest_expect_success 'exercise patterns with prefixes' '\n\tgit tag testtag-2 &&\n\ttest_when_finished \"git tag -d testtag-2\" &&\n\tgit for-each-ref --format=\"%(refname)\" \\\n\t\trefs/tags/testtag refs/tags/testtag-2 >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<\\EOF\nrefs/tags/testtag\nrefs/tags/testtag-2\nEOF\n\ntest_expect_success 'exercise glob patterns with prefixes' '\n\tgit tag testtag-2 &&\n\ttest_when_finished \"git tag -d testtag-2\" &&\n\tgit for-each-ref --format=\"%(refname)\" \\\n\t\trefs/tags/testtag \"refs/tags/testtag-*\" >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<\\EOF\nrefs/tags/bar\nrefs/tags/baz\nrefs/tags/testtag\nEOF\n\ntest_expect_success 'exercise patterns with prefix exclusions' '\n\tfor tag in foo/one foo/two foo/three bar baz\n\tdo\n\t\tgit tag \"$tag\" || return 1\n\tdone &&\n\ttest_when_finished \"git tag -d foo/one foo/two foo/three bar baz\" &&\n\tgit for-each-ref --format=\"%(refname)\" \\\n\t\trefs/tags/ --exclude=refs/tags/foo >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<\\EOF\nrefs/tags/bar\nrefs/tags/baz\nrefs/tags/foo/one\nrefs/tags/testtag\nEOF\n\ntest_expect_success 'exercise patterns with pattern exclusions' '\n\tfor tag in foo/one foo/two foo/three bar baz\n\tdo\n\t\tgit tag \"$tag\" || return 1\n\tdone &&\n\ttest_when_finished \"git tag -d foo/one foo/two foo/three bar baz\" &&\n\tgit for-each-ref --format=\"%(refname)\" \\\n\t\trefs/tags/ --exclude=\"refs/tags/foo/t*\" >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<\\EOF\n'refs/heads/main'\n'refs/remotes/origin/main'\n'refs/tags/testtag'\nEOF\n\ntest_expect_success 'Quoting style: shell' '\n\tgit for-each-ref --shell --format=\"%(refname)\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'Quoting style: perl' '\n\tgit for-each-ref --perl --format=\"%(refname)\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'Quoting style: python' '\n\tgit for-each-ref --python --format=\"%(refname)\" >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<\\EOF\n\"refs/heads/main\"\n\"refs/remotes/origin/main\"\n\"refs/tags/testtag\"\nEOF\n\ntest_expect_success 'Quoting style: tcl' '\n\tgit for-each-ref --tcl --format=\"%(refname)\" >actual &&\n\ttest_cmp expected actual\n'\n\nfor i in \"--perl --shell\" \"-s --python\" \"--python --tcl\" \"--tcl --perl\"; do\n\ttest_expect_success \"more than one quoting style: $i\" \"\n\t\ttest_must_fail git for-each-ref $i 2>err &&\n\t\tgrep '^error: more than one quoting style' err\n\t\"\ndone\n\ntest_expect_success 'setup for upstream:track[short]' '\n\ttest_commit two\n'\n\ntest_atom head upstream:track '[ahead 1]'\ntest_atom head upstream:trackshort '>'\ntest_atom head upstream:track,nobracket 'ahead 1'\ntest_atom head upstream:nobracket,track 'ahead 1'\n\ntest_expect_success 'setup for push:track[short]' '\n\ttest_commit third &&\n\tgit update-ref refs/remotes/myfork/main main &&\n\tgit reset main~1\n'\n\ntest_atom head push:track '[behind 1]'\ntest_atom head push:trackshort '<'\n\ntest_expect_success 'Check that :track[short] cannot be used with other atoms' '\n\ttest_must_fail git for-each-ref --format=\"%(refname:track)\" 2>/dev/null &&\n\ttest_must_fail git for-each-ref --format=\"%(refname:trackshort)\" 2>/dev/null\n'\n\ntest_expect_success 'Check that :track[short] works when upstream is invalid' '\n\tcat >expected <<-\\EOF &&\n\t[gone]\n\n\tEOF\n\ttest_when_finished \"git config branch.main.merge refs/heads/main\" &&\n\tgit config branch.main.merge refs/heads/does-not-exist &&\n\tgit for-each-ref \\\n\t\t--format=\"%(upstream:track)$LF%(upstream:trackshort)\" \\\n\t\trefs/heads >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'Check for invalid refname format' '\n\ttest_must_fail git for-each-ref --format=\"%(refname:INVALID)\"\n'\n\ntest_expect_success 'set up color tests' '\n\tcat >expected.color <<-EOF &&\n\t$(git rev-parse --short refs/heads/main) <GREEN>main<RESET>\n\t$(git rev-parse --short refs/remotes/myfork/main) <GREEN>myfork/main<RESET>\n\t$(git rev-parse --short refs/remotes/origin/main) <GREEN>origin/main<RESET>\n\t$(git rev-parse --short refs/tags/testtag) <GREEN>testtag<RESET>\n\t$(git rev-parse --short refs/tags/third) <GREEN>third<RESET>\n\t$(git rev-parse --short refs/tags/two) <GREEN>two<RESET>\n\tEOF\n\tsed \"s/<[^>]*>//g\" <expected.color >expected.bare &&\n\tcolor_format=\"%(objectname:short) %(color:green)%(refname:short)\"\n'\n\ntest_expect_success TTY '%(color) shows color with a tty' '\n\ttest_terminal git for-each-ref --format=\"$color_format\" >actual.raw &&\n\ttest_decode_color <actual.raw >actual &&\n\ttest_cmp expected.color actual\n'\n\ntest_expect_success '%(color) does not show color without tty' '\n\tTERM=vt100 git for-each-ref --format=\"$color_format\" >actual &&\n\ttest_cmp expected.bare actual\n'\n\ntest_expect_success '--color can override tty check' '\n\tgit for-each-ref --color --format=\"$color_format\" >actual.raw &&\n\ttest_decode_color <actual.raw >actual &&\n\ttest_cmp expected.color actual\n'\n\ntest_expect_success 'color.ui=always does not override tty check' '\n\tgit -c color.ui=always for-each-ref --format=\"$color_format\" >actual &&\n\ttest_cmp expected.bare actual\n'\n\ntest_expect_success 'setup for describe atom tests' '\n\tgit init -b master describe-repo &&\n\t(\n\t\tcd describe-repo &&\n\n\t\ttest_commit --no-tag one &&\n\t\tgit tag tagone &&\n\n\t\ttest_commit --no-tag two &&\n\t\tgit tag -a -m \"tag two\" tagtwo\n\t)\n'\n\ntest_expect_success 'describe atom vs git describe' '\n\t(\n\t\tcd describe-repo &&\n\n\t\tgit for-each-ref --format=\"%(objectname)\" \\\n\t\t\trefs/tags/ >obj &&\n\t\twhile read hash\n\t\tdo\n\t\t\tif desc=$(git describe $hash)\n\t\t\tthen\n\t\t\t\t: >expect-contains-good\n\t\t\telse\n\t\t\t\t: >expect-contains-bad\n\t\t\tfi &&\n\t\t\techo \"$hash $desc\" || return 1\n\t\tdone <obj >expect &&\n\t\ttest_path_exists expect-contains-good &&\n\t\ttest_path_exists expect-contains-bad &&\n\n\t\tgit for-each-ref --format=\"%(objectname) %(describe)\" \\\n\t\t\trefs/tags/ >actual 2>err &&\n\t\ttest_cmp expect actual &&\n\t\ttest_must_be_empty err\n\t)\n'\n\ntest_expect_success 'describe:tags vs describe --tags' '\n\t(\n\t\tcd describe-repo &&\n\t\tgit describe --tags >expect &&\n\t\tgit for-each-ref --format=\"%(describe:tags)\" \\\n\t\t\t\trefs/heads/master >actual &&\n\t\ttest_cmp expect actual\n\t)\n'\n\ntest_expect_success 'describe:abbrev=... vs describe --abbrev=...' '\n\t(\n\t\tcd describe-repo &&\n\n\t\t# Case 1: We have commits between HEAD and the most\n\t\t#\t  recent tag reachable from it\n\t\ttest_commit --no-tag file &&\n\t\tgit describe --abbrev=14 >expect &&\n\t\tgit for-each-ref --format=\"%(describe:abbrev=14)\" \\\n\t\t\trefs/heads/master >actual &&\n\t\ttest_cmp expect actual &&\n\n\t\t# Make sure the hash used is atleast 14 digits long\n\t\tsed -e \"s/^.*-g\\([0-9a-f]*\\)$/\\1/\" <actual >hexpart &&\n\t\ttest 15 -le $(wc -c <hexpart) &&\n\n\t\t# Case 2: We have a tag at HEAD, describe directly gives\n\t\t#\t  the name of the tag\n\t\tgit tag -a -m tagged tagname &&\n\t\tgit describe --abbrev=14 >expect &&\n\t\tgit for-each-ref --format=\"%(describe:abbrev=14)\" \\\n\t\t\trefs/heads/master >actual &&\n\t\ttest_cmp expect actual &&\n\t\ttest tagname = $(cat actual)\n\t)\n'\n\ntest_expect_success 'describe:match=... vs describe --match ...' '\n\t(\n\t\tcd describe-repo &&\n\t\tgit tag -a -m \"tag foo\" tag-foo &&\n\t\tgit describe --match \"*-foo\" >expect &&\n\t\tgit for-each-ref --format=\"%(describe:match=\"*-foo\")\" \\\n\t\t\trefs/heads/master >actual &&\n\t\ttest_cmp expect actual\n\t)\n'\n\ntest_expect_success 'describe:exclude:... vs describe --exclude ...' '\n\t(\n\t\tcd describe-repo &&\n\t\tgit tag -a -m \"tag bar\" tag-bar &&\n\t\tgit describe --exclude \"*-bar\" >expect &&\n\t\tgit for-each-ref --format=\"%(describe:exclude=\"*-bar\")\" \\\n\t\t\trefs/heads/master >actual &&\n\t\ttest_cmp expect actual\n\t)\n'\n\ntest_expect_success 'deref with describe atom' '\n\t(\n\t\tcd describe-repo &&\n\t\tcat >expect <<-\\EOF &&\n\n\t\ttagname\n\t\ttagname\n\t\ttagname\n\n\t\ttagtwo\n\t\tEOF\n\t\tgit for-each-ref --format=\"%(*describe)\" >actual &&\n\t\ttest_cmp expect actual\n\t)\n'\n\ntest_expect_success 'err on bad describe atom arg' '\n\t(\n\t\tcd describe-repo &&\n\n\t\t# The bad arg is the only arg passed to describe atom\n\t\tcat >expect <<-\\EOF &&\n\t\tfatal: unrecognized %(describe) argument: baz\n\t\tEOF\n\t\ttest_must_fail git for-each-ref --format=\"%(describe:baz)\" \\\n\t\t\trefs/heads/master 2>actual &&\n\t\ttest_cmp expect actual &&\n\n\t\t# The bad arg is in the middle of the option string\n\t\t# passed to the describe atom\n\t\tcat >expect <<-\\EOF &&\n\t\tfatal: unrecognized %(describe) argument: qux=1,abbrev=14\n\t\tEOF\n\t\ttest_must_fail git for-each-ref \\\n\t\t\t--format=\"%(describe:tags,qux=1,abbrev=14)\" \\\n\t\t\tref/heads/master 2>actual &&\n\t\ttest_cmp expect actual\n\t)\n'\n\ncat >expected <<\\EOF\nheads/main\ntags/main\nEOF\n\ntest_expect_success 'Check ambiguous head and tag refs (strict)' '\n\tgit config --bool core.warnambiguousrefs true &&\n\tgit checkout -b newtag &&\n\techo \"Using $datestamp\" > one &&\n\tgit add one &&\n\tgit commit -m \"Branch\" &&\n\tsetdate_and_increment &&\n\tgit tag -m \"Tagging at $datestamp\" main &&\n\tgit for-each-ref --format \"%(refname:short)\" refs/heads/main refs/tags/main >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<\\EOF\nheads/main\nmain\nEOF\n\ntest_expect_success 'Check ambiguous head and tag refs (loose)' '\n\tgit config --bool core.warnambiguousrefs false &&\n\tgit for-each-ref --format \"%(refname:short)\" refs/heads/main refs/tags/main >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<\\EOF\nheads/ambiguous\nambiguous\nEOF\n\ntest_expect_success 'Check ambiguous head and tag refs II (loose)' '\n\tgit checkout main &&\n\tgit tag ambiguous testtag^0 &&\n\tgit branch ambiguous testtag^0 &&\n\tgit for-each-ref --format \"%(refname:short)\" refs/heads/ambiguous refs/tags/ambiguous >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'create tag without tagger' '\n\tgit tag -a -m \"Broken tag\" taggerless &&\n\tgit tag -f taggerless $(git cat-file tag taggerless |\n\t\tsed -e \"/^tagger /d\" |\n\t\tgit hash-object --literally --stdin -w -t tag)\n'\n\ntest_atom refs/tags/taggerless type 'commit'\ntest_atom refs/tags/taggerless tag 'taggerless'\ntest_atom refs/tags/taggerless tagger ''\ntest_atom refs/tags/taggerless taggername ''\ntest_atom refs/tags/taggerless taggeremail ''\ntest_atom refs/tags/taggerless taggeremail:trim ''\ntest_atom refs/tags/taggerless taggeremail:localpart ''\ntest_atom refs/tags/taggerless taggerdate ''\ntest_atom refs/tags/taggerless committer ''\ntest_atom refs/tags/taggerless committername ''\ntest_atom refs/tags/taggerless committeremail ''\ntest_atom refs/tags/taggerless committeremail:trim ''\ntest_atom refs/tags/taggerless committeremail:localpart ''\ntest_atom refs/tags/taggerless committerdate ''\ntest_atom refs/tags/taggerless subject 'Broken tag'\n\ntest_expect_success 'an unusual tag with an incomplete line' '\n\n\tgit tag -m \"bogo\" bogo &&\n\tbogo=$(git cat-file tag bogo) &&\n\tbogo=$(printf \"%s\" \"$bogo\" | git mktag) &&\n\tgit tag -f bogo \"$bogo\" &&\n\tgit for-each-ref --format \"%(body)\" refs/tags/bogo\n\n'\n\ntest_expect_success 'create tag with subject and body content' '\n\tcat >>msg <<-\\EOF &&\n\t\tthe subject line\n\n\t\tfirst body line\n\t\tsecond body line\n\tEOF\n\tgit tag -F msg subject-body\n'\ntest_atom refs/tags/subject-body subject 'the subject line'\ntest_atom refs/tags/subject-body subject:sanitize 'the-subject-line'\ntest_atom refs/tags/subject-body body 'first body line\nsecond body line\n'\ntest_atom refs/tags/subject-body contents 'the subject line\n\nfirst body line\nsecond body line\n'\n\ntest_expect_success 'create tag with multiline subject' '\n\tcat >msg <<-\\EOF &&\n\t\tfirst subject line\n\t\tsecond subject line\n\n\t\tfirst body line\n\t\tsecond body line\n\tEOF\n\tgit tag -F msg multiline\n'\ntest_atom refs/tags/multiline subject 'first subject line second subject line'\ntest_atom refs/tags/multiline subject:sanitize 'first-subject-line-second-subject-line'\ntest_atom refs/tags/multiline contents:subject 'first subject line second subject line'\ntest_atom refs/tags/multiline body 'first body line\nsecond body line\n'\ntest_atom refs/tags/multiline contents:body 'first body line\nsecond body line\n'\ntest_atom refs/tags/multiline contents:signature ''\ntest_atom refs/tags/multiline contents 'first subject line\nsecond subject line\n\nfirst body line\nsecond body line\n'\n\ntest_expect_success GPG 'create signed tags' '\n\tgit tag -s -m \"\" signed-empty &&\n\tgit tag -s -m \"subject line\" signed-short &&\n\tcat >msg <<-\\EOF &&\n\tsubject line\n\n\tbody contents\n\tEOF\n\tgit tag -s -F msg signed-long\n'\n\nsig='-----BEGIN PGP SIGNATURE-----\n-----END PGP SIGNATURE-----\n'\n\nPREREQ=GPG\ntest_atom refs/tags/signed-empty subject ''\ntest_atom refs/tags/signed-empty subject:sanitize ''\ntest_atom refs/tags/signed-empty contents:subject ''\ntest_atom refs/tags/signed-empty body \"$sig\"\ntest_atom refs/tags/signed-empty contents:body ''\ntest_atom refs/tags/signed-empty contents:signature \"$sig\"\ntest_atom refs/tags/signed-empty contents \"$sig\"\n\ntest_expect_success GPG 'basic atom: refs/tags/signed-empty raw' '\n\tgit cat-file tag refs/tags/signed-empty >expected &&\n\tgit for-each-ref --format=\"%(raw)\" refs/tags/signed-empty >actual &&\n\tsanitize_pgp <expected >expected.clean &&\n\techo >>expected.clean &&\n\tsanitize_pgp <actual >actual.clean &&\n\ttest_cmp expected.clean actual.clean\n'\n\ntest_atom refs/tags/signed-short subject 'subject line'\ntest_atom refs/tags/signed-short subject:sanitize 'subject-line'\ntest_atom refs/tags/signed-short contents:subject 'subject line'\ntest_atom refs/tags/signed-short body \"$sig\"\ntest_atom refs/tags/signed-short contents:body ''\ntest_atom refs/tags/signed-short contents:signature \"$sig\"\ntest_atom refs/tags/signed-short contents \"subject line\n$sig\"\n\ntest_expect_success GPG 'basic atom: refs/tags/signed-short raw' '\n\tgit cat-file tag refs/tags/signed-short >expected &&\n\tgit for-each-ref --format=\"%(raw)\" refs/tags/signed-short >actual &&\n\tsanitize_pgp <expected >expected.clean &&\n\techo >>expected.clean &&\n\tsanitize_pgp <actual >actual.clean &&\n\ttest_cmp expected.clean actual.clean\n'\n\ntest_atom refs/tags/signed-long subject 'subject line'\ntest_atom refs/tags/signed-long subject:sanitize 'subject-line'\ntest_atom refs/tags/signed-long contents:subject 'subject line'\ntest_atom refs/tags/signed-long body \"body contents\n$sig\"\ntest_atom refs/tags/signed-long contents:body 'body contents\n'\ntest_atom refs/tags/signed-long contents:signature \"$sig\"\ntest_atom refs/tags/signed-long contents \"subject line\n\nbody contents\n$sig\"\n\ntest_expect_success GPG 'basic atom: refs/tags/signed-long raw' '\n\tgit cat-file tag refs/tags/signed-long >expected &&\n\tgit for-each-ref --format=\"%(raw)\" refs/tags/signed-long >actual &&\n\tsanitize_pgp <expected >expected.clean &&\n\techo >>expected.clean &&\n\tsanitize_pgp <actual >actual.clean &&\n\ttest_cmp expected.clean actual.clean\n'\n\ntest_expect_success 'set up refs pointing to tree and blob' '\n\tgit update-ref refs/mytrees/first refs/heads/main^{tree} &&\n\tgit update-ref refs/myblobs/first refs/heads/main:one\n'\n\ntest_atom refs/mytrees/first subject \"\"\ntest_atom refs/mytrees/first contents:subject \"\"\ntest_atom refs/mytrees/first body \"\"\ntest_atom refs/mytrees/first contents:body \"\"\ntest_atom refs/mytrees/first contents:signature \"\"\ntest_atom refs/mytrees/first contents \"\"\n\ntest_expect_success 'basic atom: refs/mytrees/first raw' '\n\tgit cat-file tree refs/mytrees/first >expected &&\n\techo >>expected &&\n\tgit for-each-ref --format=\"%(raw)\" refs/mytrees/first >actual &&\n\ttest_cmp expected actual &&\n\tgit cat-file -s refs/mytrees/first >expected &&\n\tgit for-each-ref --format=\"%(raw:size)\" refs/mytrees/first >actual &&\n\ttest_cmp expected actual\n'\n\ntest_atom refs/myblobs/first subject \"\"\ntest_atom refs/myblobs/first contents:subject \"\"\ntest_atom refs/myblobs/first body \"\"\ntest_atom refs/myblobs/first contents:body \"\"\ntest_atom refs/myblobs/first contents:signature \"\"\ntest_atom refs/myblobs/first contents \"\"\n\ntest_expect_success 'basic atom: refs/myblobs/first raw' '\n\tgit cat-file blob refs/myblobs/first >expected &&\n\techo >>expected &&\n\tgit for-each-ref --format=\"%(raw)\" refs/myblobs/first >actual &&\n\ttest_cmp expected actual &&\n\tgit cat-file -s refs/myblobs/first >expected &&\n\tgit for-each-ref --format=\"%(raw:size)\" refs/myblobs/first >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'set up refs pointing to binary blob' '\n\tprintf \"a\\0b\\0c\" >blob1 &&\n\tprintf \"a\\0c\\0b\" >blob2 &&\n\tprintf \"\\0a\\0b\\0c\" >blob3 &&\n\tprintf \"abc\" >blob4 &&\n\tprintf \"\\0 \\0 \\0 \" >blob5 &&\n\tprintf \"\\0 \\0a\\0 \" >blob6 &&\n\tprintf \"  \" >blob7 &&\n\t>blob8 &&\n\tobj=$(git hash-object -w blob1) &&\n\tgit update-ref refs/myblobs/blob1 \"$obj\" &&\n\tobj=$(git hash-object -w blob2) &&\n\tgit update-ref refs/myblobs/blob2 \"$obj\" &&\n\tobj=$(git hash-object -w blob3) &&\n\tgit update-ref refs/myblobs/blob3 \"$obj\" &&\n\tobj=$(git hash-object -w blob4) &&\n\tgit update-ref refs/myblobs/blob4 \"$obj\" &&\n\tobj=$(git hash-object -w blob5) &&\n\tgit update-ref refs/myblobs/blob5 \"$obj\" &&\n\tobj=$(git hash-object -w blob6) &&\n\tgit update-ref refs/myblobs/blob6 \"$obj\" &&\n\tobj=$(git hash-object -w blob7) &&\n\tgit update-ref refs/myblobs/blob7 \"$obj\" &&\n\tobj=$(git hash-object -w blob8) &&\n\tgit update-ref refs/myblobs/blob8 \"$obj\"\n'\n\ntest_expect_success 'Verify sorts with raw' '\n\tcat >expected <<-EOF &&\n\trefs/myblobs/blob8\n\trefs/myblobs/blob5\n\trefs/myblobs/blob6\n\trefs/myblobs/blob3\n\trefs/myblobs/blob7\n\trefs/mytrees/first\n\trefs/myblobs/first\n\trefs/myblobs/blob1\n\trefs/myblobs/blob2\n\trefs/myblobs/blob4\n\trefs/heads/main\n\tEOF\n\tgit for-each-ref --format=\"%(refname)\" --sort=raw \\\n\t\trefs/heads/main refs/myblobs/ refs/mytrees/first >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'Verify sorts with raw:size' '\n\tcat >expected <<-EOF &&\n\trefs/myblobs/blob8\n\trefs/myblobs/blob7\n\trefs/myblobs/blob4\n\trefs/myblobs/blob1\n\trefs/myblobs/blob2\n\trefs/myblobs/blob3\n\trefs/myblobs/blob5\n\trefs/myblobs/blob6\n\trefs/myblobs/first\n\trefs/mytrees/first\n\trefs/heads/main\n\tEOF\n\tgit for-each-ref --format=\"%(refname)\" --sort=raw:size \\\n\t\trefs/heads/main refs/myblobs/ refs/mytrees/first >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'validate raw atom with %(if:equals)' '\n\tcat >expected <<-EOF &&\n\tnot equals\n\tnot equals\n\tnot equals\n\tnot equals\n\tnot equals\n\tnot equals\n\trefs/myblobs/blob4\n\tnot equals\n\tnot equals\n\tnot equals\n\tnot equals\n\tnot equals\n\tEOF\n\tgit for-each-ref --format=\"%(if:equals=abc)%(raw)%(then)%(refname)%(else)not equals%(end)\" \\\n\t\trefs/myblobs/ refs/heads/ >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'validate raw atom with %(if:notequals)' '\n\tcat >expected <<-EOF &&\n\trefs/heads/ambiguous\n\trefs/heads/main\n\trefs/heads/newtag\n\trefs/myblobs/blob1\n\trefs/myblobs/blob2\n\trefs/myblobs/blob3\n\tequals\n\trefs/myblobs/blob5\n\trefs/myblobs/blob6\n\trefs/myblobs/blob7\n\trefs/myblobs/blob8\n\trefs/myblobs/first\n\tEOF\n\tgit for-each-ref --format=\"%(if:notequals=abc)%(raw)%(then)%(refname)%(else)equals%(end)\" \\\n\t\trefs/myblobs/ refs/heads/ >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'empty raw refs with %(if)' '\n\tcat >expected <<-EOF &&\n\trefs/myblobs/blob1 not empty\n\trefs/myblobs/blob2 not empty\n\trefs/myblobs/blob3 not empty\n\trefs/myblobs/blob4 not empty\n\trefs/myblobs/blob5 not empty\n\trefs/myblobs/blob6 not empty\n\trefs/myblobs/blob7 empty\n\trefs/myblobs/blob8 empty\n\trefs/myblobs/first not empty\n\tEOF\n\tgit for-each-ref --format=\"%(refname) %(if)%(raw)%(then)not empty%(else)empty%(end)\" \\\n\t\trefs/myblobs/ >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success '%(raw) with --python must fail' '\n\ttest_must_fail git for-each-ref --format=\"%(raw)\" --python\n'\n\ntest_expect_success '%(raw) with --tcl must fail' '\n\ttest_must_fail git for-each-ref --format=\"%(raw)\" --tcl\n'\n\ntest_expect_success '%(raw) with --perl' '\n\tgit for-each-ref --format=\"\\$name= %(raw);\nprint \\\"\\$name\\\"\" refs/myblobs/blob1 --perl | perl >actual &&\n\tcmp blob1 actual &&\n\tgit for-each-ref --format=\"\\$name= %(raw);\nprint \\\"\\$name\\\"\" refs/myblobs/blob3 --perl | perl >actual &&\n\tcmp blob3 actual &&\n\tgit for-each-ref --format=\"\\$name= %(raw);\nprint \\\"\\$name\\\"\" refs/myblobs/blob8 --perl | perl >actual &&\n\tcmp blob8 actual &&\n\tgit for-each-ref --format=\"\\$name= %(raw);\nprint \\\"\\$name\\\"\" refs/myblobs/first --perl | perl >actual &&\n\tcmp one actual &&\n\tgit cat-file tree refs/mytrees/first > expected &&\n\tgit for-each-ref --format=\"\\$name= %(raw);\nprint \\\"\\$name\\\"\" refs/mytrees/first --perl | perl >actual &&\n\tcmp expected actual\n'\n\ntest_expect_success '%(raw) with --shell must fail' '\n\ttest_must_fail git for-each-ref --format=\"%(raw)\" --shell\n'\n\ntest_expect_success '%(raw) with --shell and --sort=raw must fail' '\n\ttest_must_fail git for-each-ref --format=\"%(raw)\" --sort=raw --shell\n'\n\ntest_expect_success '%(raw:size) with --shell' '\n\tgit for-each-ref --format=\"%(raw:size)\" | sed \"s/^/$SQ/;s/$/$SQ/\" >expect &&\n\tgit for-each-ref --format=\"%(raw:size)\" --shell >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'for-each-ref --format compare with cat-file --batch' '\n\tgit rev-parse refs/mytrees/first | git cat-file --batch >expected &&\n\tgit for-each-ref --format=\"%(objectname) %(objecttype) %(objectsize)\n%(raw)\" refs/mytrees/first >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'verify sorts with contents:size' '\n\tcat >expect <<-\\EOF &&\n\trefs/heads/main\n\trefs/heads/newtag\n\trefs/heads/ambiguous\n\tEOF\n\tgit for-each-ref --format=\"%(refname)\" \\\n\t\t--sort=contents:size refs/heads/ >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'set up multiple-sort tags' '\n\tfor when in 100000 200000\n\tdo\n\t\tfor email in user1 user2\n\t\tdo\n\t\t\tfor ref in ref1 ref2\n\t\t\tdo\n\t\t\t\tGIT_COMMITTER_DATE=\"@$when +0000\" \\\n\t\t\t\tGIT_COMMITTER_EMAIL=\"$email@example.com\" \\\n\t\t\t\tgit tag -m \"tag $ref-$when-$email\" \\\n\t\t\t\tmulti-$ref-$when-$email || return 1\n\t\t\tdone\n\t\tdone\n\tdone\n'\n\ntest_expect_success 'Verify sort with multiple keys' '\n\tcat >expected <<-\\EOF &&\n\t100000 <user1@example.com> refs/tags/multi-ref2-100000-user1\n\t100000 <user1@example.com> refs/tags/multi-ref1-100000-user1\n\t100000 <user2@example.com> refs/tags/multi-ref2-100000-user2\n\t100000 <user2@example.com> refs/tags/multi-ref1-100000-user2\n\t200000 <user1@example.com> refs/tags/multi-ref2-200000-user1\n\t200000 <user1@example.com> refs/tags/multi-ref1-200000-user1\n\t200000 <user2@example.com> refs/tags/multi-ref2-200000-user2\n\t200000 <user2@example.com> refs/tags/multi-ref1-200000-user2\n\tEOF\n\tgit for-each-ref \\\n\t\t--format=\"%(taggerdate:unix) %(taggeremail) %(refname)\" \\\n\t\t--sort=-refname \\\n\t\t--sort=taggeremail \\\n\t\t--sort=taggerdate \\\n\t\t\"refs/tags/multi-*\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'equivalent sorts fall back on refname' '\n\tcat >expected <<-\\EOF &&\n\t100000 <user1@example.com> refs/tags/multi-ref1-100000-user1\n\t100000 <user2@example.com> refs/tags/multi-ref1-100000-user2\n\t100000 <user1@example.com> refs/tags/multi-ref2-100000-user1\n\t100000 <user2@example.com> refs/tags/multi-ref2-100000-user2\n\t200000 <user1@example.com> refs/tags/multi-ref1-200000-user1\n\t200000 <user2@example.com> refs/tags/multi-ref1-200000-user2\n\t200000 <user1@example.com> refs/tags/multi-ref2-200000-user1\n\t200000 <user2@example.com> refs/tags/multi-ref2-200000-user2\n\tEOF\n\tgit for-each-ref \\\n\t\t--format=\"%(taggerdate:unix) %(taggeremail) %(refname)\" \\\n\t\t--sort=taggerdate \\\n\t\t\"refs/tags/multi-*\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success '--no-sort cancels the previous sort keys' '\n\tcat >expected <<-\\EOF &&\n\t100000 <user1@example.com> refs/tags/multi-ref1-100000-user1\n\t100000 <user2@example.com> refs/tags/multi-ref1-100000-user2\n\t100000 <user1@example.com> refs/tags/multi-ref2-100000-user1\n\t100000 <user2@example.com> refs/tags/multi-ref2-100000-user2\n\t200000 <user1@example.com> refs/tags/multi-ref1-200000-user1\n\t200000 <user2@example.com> refs/tags/multi-ref1-200000-user2\n\t200000 <user1@example.com> refs/tags/multi-ref2-200000-user1\n\t200000 <user2@example.com> refs/tags/multi-ref2-200000-user2\n\tEOF\n\tgit for-each-ref \\\n\t\t--format=\"%(taggerdate:unix) %(taggeremail) %(refname)\" \\\n\t\t--sort=-refname \\\n\t\t--sort=taggeremail \\\n\t\t--no-sort \\\n\t\t--sort=taggerdate \\\n\t\t\"refs/tags/multi-*\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'do not dereference NULL upon %(HEAD) on unborn branch' '\n\ttest_when_finished \"git checkout main\" &&\n\tgit for-each-ref --format=\"%(HEAD) %(refname:short)\" refs/heads/ >actual &&\n\tsed -e \"s/^\\* /  /\" actual >expect &&\n\tgit checkout --orphan orphaned-branch &&\n\tgit for-each-ref --format=\"%(HEAD) %(refname:short)\" refs/heads/ >actual &&\n\ttest_cmp expect actual\n'\n\ncat >trailers <<EOF\nReviewed-by: A U Thor <author@example.com>\nSigned-off-by: A U Thor <author@example.com>\n[ v2 updated patch description ]\nAcked-by: A U Thor\n  <author@example.com>\nEOF\n\nunfold () {\n\tperl -0pe 's/\\n\\s+/ /g'\n}\n\ntest_expect_success 'set up trailers for next test' '\n\techo \"Some contents\" > two &&\n\tgit add two &&\n\tgit commit -F - <<-EOF\n\ttrailers: this commit message has trailers\n\n\tSome message contents\n\n\t$(cat trailers)\n\tEOF\n'\n\ntest_trailer_option () {\n\ttitle=$1 option=$2\n\tcat >expect\n\ttest_expect_success \"$title\" '\n\t\tgit for-each-ref --format=\"%($option)\" refs/heads/main >actual &&\n\t\ttest_cmp expect actual &&\n\t\tgit for-each-ref --format=\"%(contents:$option)\" refs/heads/main >actual &&\n\t\ttest_cmp expect actual\n\t'\n}\n\ntest_trailer_option '%(trailers:unfold) unfolds trailers' \\\n\t'trailers:unfold' <<-EOF\n\t$(unfold <trailers)\n\n\tEOF\n\ntest_trailer_option '%(trailers:only) shows only \"key: value\" trailers' \\\n\t'trailers:only' <<-EOF\n\t$(grep -v patch.description <trailers)\n\n\tEOF\n\ntest_trailer_option '%(trailers:only=no,only=true) shows only \"key: value\" trailers' \\\n\t'trailers:only=no,only=true' <<-EOF\n\t$(grep -v patch.description <trailers)\n\n\tEOF\n\ntest_trailer_option '%(trailers:only=yes) shows only \"key: value\" trailers' \\\n\t'trailers:only=yes' <<-EOF\n\t$(grep -v patch.description <trailers)\n\n\tEOF\n\ntest_trailer_option '%(trailers:only=no) shows all trailers' \\\n\t'trailers:only=no' <<-EOF\n\t$(cat trailers)\n\n\tEOF\n\ntest_trailer_option '%(trailers:only) and %(trailers:unfold) work together' \\\n\t'trailers:only,unfold' <<-EOF\n\t$(grep -v patch.description <trailers | unfold)\n\n\tEOF\n\ntest_trailer_option '%(trailers:unfold) and %(trailers:only) work together' \\\n\t'trailers:unfold,only' <<-EOF\n\t$(grep -v patch.description <trailers | unfold)\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=foo) shows that trailer' \\\n\t'trailers:key=Signed-off-by' <<-EOF\n\tSigned-off-by: A U Thor <author@example.com>\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=foo) is case insensitive' \\\n\t'trailers:key=SiGned-oFf-bY' <<-EOF\n\tSigned-off-by: A U Thor <author@example.com>\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=foo:) trailing colon also works' \\\n\t'trailers:key=Signed-off-by:' <<-EOF\n\tSigned-off-by: A U Thor <author@example.com>\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=foo) multiple keys' \\\n\t'trailers:key=Reviewed-by:,key=Signed-off-by' <<-EOF\n\tReviewed-by: A U Thor <author@example.com>\n\tSigned-off-by: A U Thor <author@example.com>\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=nonexistent) becomes empty' \\\n\t'trailers:key=Shined-off-by:' <<-EOF\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=foo) handles multiple lines even if folded' \\\n\t'trailers:key=Acked-by' <<-EOF\n\t$(grep -v patch.description <trailers | grep -v Signed-off-by | grep -v Reviewed-by)\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=foo,unfold) properly unfolds' \\\n\t'trailers:key=Signed-Off-by,unfold' <<-EOF\n\t$(unfold <trailers | grep Signed-off-by)\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=foo,only=no) also includes nontrailer lines' \\\n\t'trailers:key=Signed-off-by,only=no' <<-EOF\n\tSigned-off-by: A U Thor <author@example.com>\n\t$(grep patch.description <trailers)\n\n\tEOF\n\ntest_trailer_option '%(trailers:key=foo,valueonly) shows only value' \\\n\t'trailers:key=Signed-off-by,valueonly' <<-EOF\n\tA U Thor <author@example.com>\n\n\tEOF\n\ntest_trailer_option '%(trailers:separator) changes separator' \\\n\t'trailers:separator=%x2C,key=Reviewed-by,key=Signed-off-by:' <<-EOF\n\tReviewed-by: A U Thor <author@example.com>,Signed-off-by: A U Thor <author@example.com>\n\tEOF\n\ntest_trailer_option '%(trailers:key_value_separator) changes key-value separator' \\\n\t'trailers:key_value_separator=%x2C,key=Reviewed-by,key=Signed-off-by:' <<-EOF\n\tReviewed-by,A U Thor <author@example.com>\n\tSigned-off-by,A U Thor <author@example.com>\n\n\tEOF\n\ntest_trailer_option '%(trailers:separator,key_value_separator) changes both separators' \\\n\t'trailers:separator=%x2C,key_value_separator=%x2C,key=Reviewed-by,key=Signed-off-by:' <<-EOF\n\tReviewed-by,A U Thor <author@example.com>,Signed-off-by,A U Thor <author@example.com>\n\tEOF\n\ntest_failing_trailer_option () {\n\ttitle=$1 option=$2\n\tcat >expect\n\ttest_expect_success \"$title\" '\n\t\t# error message cannot be checked under i18n\n\t\ttest_must_fail git for-each-ref --format=\"%($option)\" refs/heads/main 2>actual &&\n\t\ttest_cmp expect actual &&\n\t\ttest_must_fail git for-each-ref --format=\"%(contents:$option)\" refs/heads/main 2>actual &&\n\t\ttest_cmp expect actual\n\t'\n}\n\ntest_failing_trailer_option '%(trailers) rejects unknown trailers arguments' \\\n\t'trailers:unsupported' <<-\\EOF\n\tfatal: unknown %(trailers) argument: unsupported\n\tEOF\n\ntest_failing_trailer_option '%(trailers:key) without value is error' \\\n\t'trailers:key' <<-\\EOF\n\tfatal: expected %(trailers:key=<value>)\n\tEOF\n\ntest_expect_success 'if arguments, %(contents:trailers) shows error if colon is missing' '\n\tcat >expect <<-EOF &&\n\tfatal: unrecognized %(contents) argument: trailersonly\n\tEOF\n\ttest_must_fail git for-each-ref --format=\"%(contents:trailersonly)\" 2>actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'basic atom: head contents:trailers' '\n\tgit for-each-ref --format=\"%(contents:trailers)\" refs/heads/main >actual &&\n\tsanitize_pgp <actual >actual.clean &&\n\t# git for-each-ref ends with a blank line\n\tcat >expect <<-EOF &&\n\t$(cat trailers)\n\n\tEOF\n\ttest_cmp expect actual.clean\n'\n\ntest_expect_success 'basic atom: rest must fail' '\n\ttest_must_fail git for-each-ref --format=\"%(rest)\" refs/heads/main\n'\n\ntest_expect_success 'HEAD atom does not take arguments' '\n\ttest_must_fail git for-each-ref --format=\"%(HEAD:foo)\" 2>err &&\n\techo \"fatal: %(HEAD) does not take arguments\" >expect &&\n\ttest_cmp expect err\n'\n\ntest_expect_success 'subject atom rejects unknown arguments' '\n\ttest_must_fail git for-each-ref --format=\"%(subject:foo)\" 2>err &&\n\techo \"fatal: unrecognized %(subject) argument: foo\" >expect &&\n\ttest_cmp expect err\n'\n\ntest_expect_success 'refname atom rejects unknown arguments' '\n\ttest_must_fail git for-each-ref --format=\"%(refname:foo)\" 2>err &&\n\techo \"fatal: unrecognized %(refname) argument: foo\" >expect &&\n\ttest_cmp expect err\n'\n\ntest_expect_success 'trailer parsing not fooled by --- line' '\n\tgit commit --allow-empty -F - <<-\\EOF &&\n\tthis is the subject\n\n\tThis is the body. The message has a \"---\" line which would confuse a\n\tmessage+patch parser. But here we know we have only a commit message,\n\tso we get it right.\n\n\ttrailer: wrong\n\t---\n\tThis is more body.\n\n\ttrailer: right\n\tEOF\n\n\t{\n\t\techo \"trailer: right\" &&\n\t\techo\n\t} >expect &&\n\tgit for-each-ref --format=\"%(trailers)\" refs/heads/main >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'Add symbolic ref for the following tests' '\n\tgit symbolic-ref refs/heads/sym refs/heads/main\n'\n\ncat >expected <<EOF\nrefs/heads/main\nEOF\n\ntest_expect_success 'Verify usage of %(symref) atom' '\n\tgit for-each-ref --format=\"%(symref)\" refs/heads/sym >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<EOF\nheads/main\nEOF\n\ntest_expect_success 'Verify usage of %(symref:short) atom' '\n\tgit for-each-ref --format=\"%(symref:short)\" refs/heads/sym >actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<EOF\nmain\nheads/main\nEOF\n\ntest_expect_success 'Verify usage of %(symref:lstrip) atom' '\n\tgit for-each-ref --format=\"%(symref:lstrip=2)\" refs/heads/sym > actual &&\n\tgit for-each-ref --format=\"%(symref:lstrip=-2)\" refs/heads/sym >> actual &&\n\ttest_cmp expected actual &&\n\n\tgit for-each-ref --format=\"%(symref:strip=2)\" refs/heads/sym > actual &&\n\tgit for-each-ref --format=\"%(symref:strip=-2)\" refs/heads/sym >> actual &&\n\ttest_cmp expected actual\n'\n\ncat >expected <<EOF\nrefs\nrefs/heads\nEOF\n\ntest_expect_success 'Verify usage of %(symref:rstrip) atom' '\n\tgit for-each-ref --format=\"%(symref:rstrip=2)\" refs/heads/sym > actual &&\n\tgit for-each-ref --format=\"%(symref:rstrip=-2)\" refs/heads/sym >> actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success ':remotename and :remoteref' '\n\tgit init remote-tests &&\n\t(\n\t\tcd remote-tests &&\n\t\ttest_commit initial &&\n\t\tgit branch -M main &&\n\t\tgit remote add from fifth.coffee:blub &&\n\t\tgit config branch.main.remote from &&\n\t\tgit config branch.main.merge refs/heads/stable &&\n\t\tgit remote add to southridge.audio:repo &&\n\t\tgit config remote.to.push \"refs/heads/*:refs/heads/pushed/*\" &&\n\t\tgit config branch.main.pushRemote to &&\n\t\tfor pair in \"%(upstream)=refs/remotes/from/stable\" \\\n\t\t\t\"%(upstream:remotename)=from\" \\\n\t\t\t\"%(upstream:remoteref)=refs/heads/stable\" \\\n\t\t\t\"%(push)=refs/remotes/to/pushed/main\" \\\n\t\t\t\"%(push:remotename)=to\" \\\n\t\t\t\"%(push:remoteref)=refs/heads/pushed/main\"\n\t\tdo\n\t\t\techo \"${pair#*=}\" >expect &&\n\t\t\tgit for-each-ref --format=\"${pair%=*}\" \\\n\t\t\t\trefs/heads/main >actual &&\n\t\t\ttest_cmp expect actual || exit 1\n\t\tdone &&\n\t\tgit branch push-simple &&\n\t\tgit config branch.push-simple.pushRemote from &&\n\t\tactual=\"$(git for-each-ref \\\n\t\t\t--format=\"%(push:remotename),%(push:remoteref)\" \\\n\t\t\trefs/heads/push-simple)\" &&\n\t\ttest from, = \"$actual\"\n\t)\n'\n\ntest_expect_success 'for-each-ref --ignore-case ignores case' '\n\tgit for-each-ref --format=\"%(refname)\" refs/heads/MAIN >actual &&\n\ttest_must_be_empty actual &&\n\n\techo refs/heads/main >expect &&\n\tgit for-each-ref --format=\"%(refname)\" --ignore-case \\\n\t\trefs/heads/MAIN >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'for-each-ref --omit-empty works' '\n\tgit for-each-ref --format=\"%(refname)\" >actual &&\n\ttest_line_count -gt 1 actual &&\n\tgit for-each-ref --format=\"%(if:equals=refs/heads/main)%(refname)%(then)%(refname)%(end)\" --omit-empty >actual &&\n\techo refs/heads/main >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'for-each-ref --ignore-case works on multiple sort keys' '\n\t# name refs numerically to avoid case-insensitive filesystem conflicts\n\tnr=0 &&\n\tfor email in a A b B\n\tdo\n\t\tfor subject in a A b B\n\t\tdo\n\t\t\tGIT_COMMITTER_EMAIL=\"$email@example.com\" \\\n\t\t\tgit tag -m \"tag $subject\" icase-$(printf %02d $nr) &&\n\t\t\tnr=$((nr+1))||\n\t\t\treturn 1\n\t\tdone\n\tdone &&\n\tgit for-each-ref --ignore-case \\\n\t\t--format=\"%(taggeremail) %(subject) %(refname)\" \\\n\t\t--sort=refname \\\n\t\t--sort=subject \\\n\t\t--sort=taggeremail \\\n\t\trefs/tags/icase-* >actual &&\n\tcat >expect <<-\\EOF &&\n\t<a@example.com> tag a refs/tags/icase-00\n\t<a@example.com> tag A refs/tags/icase-01\n\t<A@example.com> tag a refs/tags/icase-04\n\t<A@example.com> tag A refs/tags/icase-05\n\t<a@example.com> tag b refs/tags/icase-02\n\t<a@example.com> tag B refs/tags/icase-03\n\t<A@example.com> tag b refs/tags/icase-06\n\t<A@example.com> tag B refs/tags/icase-07\n\t<b@example.com> tag a refs/tags/icase-08\n\t<b@example.com> tag A refs/tags/icase-09\n\t<B@example.com> tag a refs/tags/icase-12\n\t<B@example.com> tag A refs/tags/icase-13\n\t<b@example.com> tag b refs/tags/icase-10\n\t<b@example.com> tag B refs/tags/icase-11\n\t<B@example.com> tag b refs/tags/icase-14\n\t<B@example.com> tag B refs/tags/icase-15\n\tEOF\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'for-each-ref reports broken tags' '\n\tgit tag -m \"good tag\" broken-tag-good HEAD &&\n\tgit cat-file tag broken-tag-good >good &&\n\tsed s/commit/blob/ <good >bad &&\n\tbad=$(git hash-object -w -t tag bad) &&\n\tgit update-ref refs/tags/broken-tag-bad $bad &&\n\ttest_must_fail git for-each-ref --format=\"%(*objectname)\" \\\n\t\trefs/tags/broken-tag-*\n'\n\ntest_expect_success 'set up tag with signature and no blank lines' '\n\tgit tag -F - fake-sig-no-blanks <<-\\EOF\n\tthis is the subject\n\t-----BEGIN PGP SIGNATURE-----\n\tnot a real signature, but we just care about the\n\tsubject/body parsing. It is important here that\n\tthere are no blank lines in the signature.\n\t-----END PGP SIGNATURE-----\n\tEOF\n'\n\ntest_atom refs/tags/fake-sig-no-blanks contents:subject 'this is the subject'\ntest_atom refs/tags/fake-sig-no-blanks contents:body ''\ntest_atom refs/tags/fake-sig-no-blanks contents:signature \"$sig\"\n\ntest_expect_success 'set up tag with CRLF signature' '\n\tappend_cr <<-\\EOF |\n\tthis is the subject\n\t-----BEGIN PGP SIGNATURE-----\n\n\tnot a real signature, but we just care about\n\tthe subject/body parsing. It is important here\n\tthat there is a blank line separating this\n\tfrom the signature header.\n\t-----END PGP SIGNATURE-----\n\tEOF\n\tgit tag -F - --cleanup=verbatim fake-sig-crlf\n'\n\ntest_atom refs/tags/fake-sig-crlf contents:subject 'this is the subject'\ntest_atom refs/tags/fake-sig-crlf contents:body ''\n\n# CRLF is retained in the signature, so we have to pass our expected value\n# through append_cr. But test_atom requires a shell string, which means command\n# substitution, and the shell will strip trailing newlines from the output of\n# the substitution. Hack around it by adding and then removing a dummy line.\nsig_crlf=\"$(printf \"%s\" \"$sig\" | append_cr; echo dummy)\"\nsig_crlf=${sig_crlf%dummy}\ntest_atom refs/tags/fake-sig-crlf contents:signature \"$sig_crlf\"\n\ntest_expect_success 'git for-each-ref --stdin: empty' '\n\t>in &&\n\tgit for-each-ref --format=\"%(refname)\" --stdin <in >actual &&\n\tgit for-each-ref --format=\"%(refname)\" >expect &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'git for-each-ref --stdin: fails if extra args' '\n\t>in &&\n\ttest_must_fail git for-each-ref --format=\"%(refname)\" \\\n\t\t--stdin refs/heads/extra <in 2>err &&\n\tgrep \"unknown arguments supplied with --stdin\" err\n'\n\ntest_expect_success 'git for-each-ref --stdin: matches' '\n\tcat >in <<-EOF &&\n\trefs/tags/multi*\n\trefs/heads/amb*\n\tEOF\n\n\tcat >expect <<-EOF &&\n\trefs/heads/ambiguous\n\trefs/tags/multi-ref1-100000-user1\n\trefs/tags/multi-ref1-100000-user2\n\trefs/tags/multi-ref1-200000-user1\n\trefs/tags/multi-ref1-200000-user2\n\trefs/tags/multi-ref2-100000-user1\n\trefs/tags/multi-ref2-100000-user2\n\trefs/tags/multi-ref2-200000-user1\n\trefs/tags/multi-ref2-200000-user2\n\trefs/tags/multiline\n\tEOF\n\n\tgit for-each-ref --format=\"%(refname)\" --stdin <in >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success 'git for-each-ref with non-existing refs' '\n\tcat >in <<-EOF &&\n\trefs/heads/this-ref-does-not-exist\n\trefs/tags/bogus\n\tEOF\n\n\tgit for-each-ref --format=\"%(refname)\" --stdin <in >actual &&\n\ttest_must_be_empty actual &&\n\n\txargs git for-each-ref --format=\"%(refname)\" <in >actual &&\n\ttest_must_be_empty actual\n'\n\nGRADE_FORMAT=\"%(signature:grade)%0a%(signature:key)%0a%(signature:signer)%0a%(signature:fingerprint)%0a%(signature:primarykeyfingerprint)\"\nTRUSTLEVEL_FORMAT=\"%(signature:trustlevel)%0a%(signature:key)%0a%(signature:signer)%0a%(signature:fingerprint)%0a%(signature:primarykeyfingerprint)\"\n\ntest_expect_success GPG 'setup for signature atom using gpg' '\n\tgit checkout -b signed &&\n\n\ttest_when_finished \"test_unconfig commit.gpgSign\" &&\n\n\techo \"1\" >file &&\n\tgit add file &&\n\ttest_tick &&\n\tgit commit -S -m \"file: 1\" &&\n\tgit tag first-signed &&\n\n\techo \"2\" >file &&\n\ttest_tick &&\n\tgit commit -a -m \"file: 2\" &&\n\tgit tag second-unsigned &&\n\n\tgit config commit.gpgSign 1 &&\n\techo \"3\" >file &&\n\ttest_tick &&\n\tgit commit -a --no-gpg-sign -m \"file: 3\" &&\n\tgit tag third-unsigned &&\n\n\ttest_tick &&\n\tgit rebase -f HEAD^^ && git tag second-signed HEAD^ &&\n\tgit tag third-signed &&\n\n\techo \"4\" >file &&\n\ttest_tick &&\n\tgit commit -a -SB7227189 -m \"file: 4\" &&\n\tgit tag fourth-signed &&\n\n\techo \"5\" >file &&\n\ttest_tick &&\n\tgit commit -a --no-gpg-sign -m \"file: 5\" &&\n\tgit tag fifth-unsigned &&\n\n\techo \"6\" >file &&\n\ttest_tick &&\n\tgit commit -a --no-gpg-sign -m \"file: 6\" &&\n\n\ttest_tick &&\n\tgit rebase -f HEAD^^ &&\n\tgit tag fifth-signed HEAD^ &&\n\tgit tag sixth-signed &&\n\n\techo \"7\" >file &&\n\ttest_tick &&\n\tgit commit -a --no-gpg-sign -m \"file: 7\" &&\n\tgit tag seventh-unsigned\n'\n\ntest_expect_success GPGSSH 'setup for signature atom using ssh' '\n\ttest_when_finished \"test_unconfig gpg.format user.signingkey\" &&\n\n\ttest_config gpg.format ssh &&\n\ttest_config user.signingkey \"${GPGSSH_KEY_PRIMARY}\" &&\n\techo \"8\" >file &&\n\ttest_tick &&\n\tgit add file &&\n\tgit commit -S -m \"file: 8\" &&\n\tgit tag eighth-signed-ssh\n'\n\ntest_expect_success GPG2 'bare signature atom' '\n\tgit verify-commit first-signed 2>expect &&\n\techo  >>expect &&\n\tgit for-each-ref refs/tags/first-signed \\\n\t\t--format=\"%(signature)\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success GPG 'show good signature with custom format' '\n\tgit verify-commit first-signed &&\n\tcat >expect <<-\\EOF &&\n\tG\n\t13B6F51ECDDE430D\n\tC O Mitter <committer@example.com>\n\t73D758744BE721698EC54E8713B6F51ECDDE430D\n\t73D758744BE721698EC54E8713B6F51ECDDE430D\n\tEOF\n\tgit for-each-ref refs/tags/first-signed \\\n\t\t--format=\"$GRADE_FORMAT\" >actual &&\n\ttest_cmp expect actual\n'\ntest_expect_success GPGSSH 'show good signature with custom format\n\t\t\t    with ssh' '\n\ttest_config gpg.ssh.allowedSignersFile \"${GPGSSH_ALLOWED_SIGNERS}\" &&\n\tFINGERPRINT=$(ssh-keygen -lf \"${GPGSSH_KEY_PRIMARY}\" | awk \"{print \\$2;}\") &&\n\tcat >expect.tmpl <<-\\EOF &&\n\tG\n\tFINGERPRINT\n\tprincipal with number 1\n\tFINGERPRINT\n\n\tEOF\n\tsed \"s|FINGERPRINT|$FINGERPRINT|g\" expect.tmpl >expect &&\n\tgit for-each-ref refs/tags/eighth-signed-ssh \\\n\t\t--format=\"$GRADE_FORMAT\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success GPG 'signature atom with grade option and bad signature' '\n\tgit cat-file commit third-signed >raw &&\n\tsed -e \"s/^file: 3/file: 3 forged/\" raw >forged1 &&\n\tFORGED1=$(git hash-object -w -t commit forged1) &&\n\tgit update-ref refs/tags/third-signed \"$FORGED1\" &&\n\ttest_must_fail git verify-commit \"$FORGED1\" &&\n\n\tcat >expect <<-\\EOF &&\n\tB\n\t13B6F51ECDDE430D\n\tC O Mitter <committer@example.com>\n\n\n\tEOF\n\tgit for-each-ref refs/tags/third-signed \\\n\t\t--format=\"$GRADE_FORMAT\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success GPG 'show untrusted signature with custom format' '\n\tcat >expect <<-\\EOF &&\n\tU\n\t65A0EEA02E30CAD7\n\tEris Discordia <discord@example.net>\n\tF8364A59E07FFE9F4D63005A65A0EEA02E30CAD7\n\tD4BE22311AD3131E5EDA29A461092E85B7227189\n\tEOF\n\tgit for-each-ref refs/tags/fourth-signed \\\n\t\t--format=\"$GRADE_FORMAT\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success GPG 'show untrusted signature with undefined trust level' '\n\tcat >expect <<-\\EOF &&\n\tundefined\n\t65A0EEA02E30CAD7\n\tEris Discordia <discord@example.net>\n\tF8364A59E07FFE9F4D63005A65A0EEA02E30CAD7\n\tD4BE22311AD3131E5EDA29A461092E85B7227189\n\tEOF\n\tgit for-each-ref refs/tags/fourth-signed \\\n\t\t--format=\"$TRUSTLEVEL_FORMAT\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success GPG 'show untrusted signature with ultimate trust level' '\n\tcat >expect <<-\\EOF &&\n\tultimate\n\t13B6F51ECDDE430D\n\tC O Mitter <committer@example.com>\n\t73D758744BE721698EC54E8713B6F51ECDDE430D\n\t73D758744BE721698EC54E8713B6F51ECDDE430D\n\tEOF\n\tgit for-each-ref refs/tags/sixth-signed \\\n\t\t--format=\"$TRUSTLEVEL_FORMAT\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success GPG 'show unknown signature with custom format' '\n\tcat >expect <<-\\EOF &&\n\tE\n\t13B6F51ECDDE430D\n\n\n\n\tEOF\n\tGNUPGHOME=\"$GNUPGHOME_NOT_USED\" git for-each-ref \\\n\t\trefs/tags/sixth-signed --format=\"$GRADE_FORMAT\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_expect_success GPG 'show lack of signature with custom format' '\n\tcat >expect <<-\\EOF &&\n\tN\n\n\n\n\n\tEOF\n\tgit for-each-ref refs/tags/seventh-unsigned \\\n\t\t--format=\"$GRADE_FORMAT\" >actual &&\n\ttest_cmp expect actual\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00a060df0b5e81cc1c47758240a7c790384b758e",
  "sha1_ok": true,
  "size": 62015
}
