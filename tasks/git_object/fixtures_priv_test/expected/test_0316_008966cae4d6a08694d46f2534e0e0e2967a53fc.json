{
  "content": {
    "base64": "ZGVmYXVsdDoKICB0aW1lb3V0OiAyaAoKc3RhZ2VzOgogIC0gYnVpbGQKICAtIHRlc3QKICAtIGFuYWx5emUKCndvcmtmbG93OgogIHJ1bGVzOgogICAgLSBpZjogJENJX1BJUEVMSU5FX1NPVVJDRSA9PSAibWVyZ2VfcmVxdWVzdF9ldmVudCIKICAgIC0gaWY6ICRDSV9DT01NSVRfVEFHCiAgICAtIGlmOiAkQ0lfQ09NTUlUX1JFRl9QUk9URUNURUQgPT0gInRydWUiCgp0ZXN0OmxpbnV4OgogIGltYWdlOiAkaW1hZ2UKICBzdGFnZTogdGVzdAogIG5lZWRzOiBbIF0KICB0YWdzOgogICAgLSBzYWFzLWxpbnV4LW1lZGl1bS1hbWQ2NAogIHZhcmlhYmxlczoKICAgIENVU1RPTV9QQVRIOiAiL2N1c3RvbSIKICBiZWZvcmVfc2NyaXB0OgogICAgLSAuL2NpL2luc3RhbGwtZGVwZW5kZW5jaWVzLnNoCiAgc2NyaXB0OgogICAgLSB1c2VyYWRkIGJ1aWxkZXIgLS1jcmVhdGUtaG9tZQogICAgLSBjaG93biAtUiBidWlsZGVyICIke0NJX1BST0pFQ1RfRElSfSIKICAgIC0gc3VkbyAtLXByZXNlcnZlLWVudiAtLXNldC1ob21lIC0tdXNlcj1idWlsZGVyIC4vY2kvcnVuLWJ1aWxkLWFuZC10ZXN0cy5zaAogIGFmdGVyX3NjcmlwdDoKICAgIC0gfAogICAgICBpZiB0ZXN0ICIkQ0lfSk9CX1NUQVRVUyIgIT0gJ3N1Y2Nlc3MnCiAgICAgIHRoZW4KICAgICAgICBzdWRvIC0tcHJlc2VydmUtZW52IC0tc2V0LWhvbWUgLS11c2VyPWJ1aWxkZXIgLi9jaS9wcmludC10ZXN0LWZhaWx1cmVzLnNoCiAgICAgIGZpCiAgcGFyYWxsZWw6CiAgICBtYXRyaXg6CiAgICAgIC0gam9ibmFtZTogbGludXgtb2xkCiAgICAgICAgaW1hZ2U6IHVidW50dToyMC4wNAogICAgICAgIENDOiBnY2MKICAgICAgLSBqb2JuYW1lOiBsaW51eC1zaGEyNTYKICAgICAgICBpbWFnZTogdWJ1bnR1OmxhdGVzdAogICAgICAgIENDOiBjbGFuZwogICAgICAtIGpvYm5hbWU6IGxpbnV4LXJlZnRhYmxlCiAgICAgICAgaW1hZ2U6IHVidW50dTpsYXRlc3QKICAgICAgICBDQzogY2xhbmcKICAgICAgLSBqb2JuYW1lOiBsaW51eC1nY2MKICAgICAgICBpbWFnZTogdWJ1bnR1OjIwLjA0CiAgICAgICAgQ0M6IGdjYwogICAgICAgIENDX1BBQ0tBR0U6IGdjYy04CiAgICAgIC0gam9ibmFtZTogbGludXgtVEVTVC12YXJzCiAgICAgICAgaW1hZ2U6IHVidW50dToyMC4wNAogICAgICAgIENDOiBnY2MKICAgICAgICBDQ19QQUNLQUdFOiBnY2MtOAogICAgICAtIGpvYm5hbWU6IGxpbnV4LWdjYy1kZWZhdWx0CiAgICAgICAgaW1hZ2U6IHVidW50dTpsYXRlc3QKICAgICAgICBDQzogZ2NjCiAgICAgIC0gam9ibmFtZTogbGludXgtbGVha3MKICAgICAgICBpbWFnZTogdWJ1bnR1OmxhdGVzdAogICAgICAgIENDOiBnY2MKICAgICAgLSBqb2JuYW1lOiBsaW51eC1yZWZ0YWJsZS1sZWFrcwogICAgICAgIGltYWdlOiB1YnVudHU6bGF0ZXN0CiAgICAgICAgQ0M6IGdjYwogICAgICAtIGpvYm5hbWU6IGxpbnV4LWFzYW4tdWJzYW4KICAgICAgICBpbWFnZTogdWJ1bnR1OmxhdGVzdAogICAgICAgIENDOiBjbGFuZwogICAgICAtIGpvYm5hbWU6IHBlZGFudGljCiAgICAgICAgaW1hZ2U6IGZlZG9yYTpsYXRlc3QKICAgICAgLSBqb2JuYW1lOiBsaW51eC1tdXNsCiAgICAgICAgaW1hZ2U6IGFscGluZTpsYXRlc3QKICBhcnRpZmFjdHM6CiAgICBwYXRoczoKICAgICAgLSB0L2ZhaWxlZC10ZXN0LWFydGlmYWN0cwogICAgd2hlbjogb25fZmFpbHVyZQoKdGVzdDpvc3g6CiAgaW1hZ2U6ICRpbWFnZQogIHN0YWdlOiB0ZXN0CiAgbmVlZHM6IFsgXQogIHRhZ3M6CiAgICAtIHNhYXMtbWFjb3MtbWVkaXVtLW0xCiAgdmFyaWFibGVzOgogICAgVEVTVF9PVVRQVVRfRElSRUNUT1JZOiAiL1ZvbHVtZXMvUkFNRGlzayIKICBiZWZvcmVfc2NyaXB0OgogICAgIyBDcmVhdGUgYSA0R0IgUkFNIGRpc2sgdGhhdCB3ZSB1c2UgdG8gc3RvcmUgdGVzdCBvdXRwdXQgb24uIFRoaXMgc21hbGwgaGFjawogICAgIyBzaWduaWZpY2FudGx5IHNwZWVkcyB1cCB0ZXN0cyBieSBtb3JlIHRoYW4gYSBmYWN0b3Igb2YgMiBiZWNhdXNlIHRoZQogICAgIyBtYWNPUyBydW5uZXJzIHVzZSBuZXR3b3JrLWF0dGFjaGVkIHN0b3JhZ2UgYXMgZGlza3MsIHdoaWNoIGlzIF9yZWFsbHlfCiAgICAjIHNsb3cgd2l0aCB0aGUgbWFueSBzbWFsbCB3cml0ZXMgdGhhdCBvdXIgdGVzdHMgZG8uCiAgICAtIHN1ZG8gZGlza3V0aWwgYXBmcyBjcmVhdGUgJChoZGl1dGlsIGF0dGFjaCAtbm9tb3VudCByYW06Ly84MTkyMDAwKSBSQU1EaXNrCiAgICAtIC4vY2kvaW5zdGFsbC1kZXBlbmRlbmNpZXMuc2gKICBzY3JpcHQ6CiAgICAtIC4vY2kvcnVuLWJ1aWxkLWFuZC10ZXN0cy5zaAogIGFmdGVyX3NjcmlwdDoKICAgIC0gfAogICAgICBpZiB0ZXN0ICIkQ0lfSk9CX1NUQVRVUyIgIT0gJ3N1Y2Nlc3MnCiAgICAgIHRoZW4KICAgICAgICAuL2NpL3ByaW50LXRlc3QtZmFpbHVyZXMuc2gKICAgICAgICBtdiAiJFRFU1RfT1VUUFVUX0RJUkVDVE9SWSIvZmFpbGVkLXRlc3QtYXJ0aWZhY3RzIHQvCiAgICAgIGZpCiAgcGFyYWxsZWw6CiAgICBtYXRyaXg6CiAgICAgIC0gam9ibmFtZTogb3N4LWNsYW5nCiAgICAgICAgaW1hZ2U6IG1hY29zLTE0LXhjb2RlLTE1CiAgICAgICAgQ0M6IGNsYW5nCiAgICAgIC0gam9ibmFtZTogb3N4LXJlZnRhYmxlCiAgICAgICAgaW1hZ2U6IG1hY29zLTE0LXhjb2RlLTE1CiAgICAgICAgQ0M6IGNsYW5nCiAgYXJ0aWZhY3RzOgogICAgcGF0aHM6CiAgICAgIC0gdC9mYWlsZWQtdGVzdC1hcnRpZmFjdHMKICAgIHdoZW46IG9uX2ZhaWx1cmUKCmJ1aWxkOm1pbmd3NjQ6CiAgc3RhZ2U6IGJ1aWxkCiAgdGFnczoKICAgIC0gc2Fhcy13aW5kb3dzLW1lZGl1bS1hbWQ2NAogIHZhcmlhYmxlczoKICAgIE5PX1BFUkw6IDEKICBiZWZvcmVfc2NyaXB0OgogICAgLSAuL2NpL2luc3RhbGwtc2RrLnBzMSAtZGlyZWN0b3J5ICJnaXQtc2RrIgogIHNjcmlwdDoKICAgIC0gZ2l0LXNkay91c3IvYmluL2Jhc2guZXhlIC1sIC1jICdjaS9tYWtlLXRlc3QtYXJ0aWZhY3RzLnNoIGFydGlmYWN0cycKICBhcnRpZmFjdHM6CiAgICBwYXRoczoKICAgICAgLSBhcnRpZmFjdHMKICAgICAgLSBnaXQtc2RrCgp0ZXN0Om1pbmd3NjQ6CiAgc3RhZ2U6IHRlc3QKICB0YWdzOgogICAgLSBzYWFzLXdpbmRvd3MtbWVkaXVtLWFtZDY0CiAgbmVlZHM6CiAgICAtIGpvYjogImJ1aWxkOm1pbmd3NjQiCiAgICAgIGFydGlmYWN0czogdHJ1ZQogIGJlZm9yZV9zY3JpcHQ6CiAgICAtIGdpdC1zZGsvdXNyL2Jpbi9iYXNoLmV4ZSAtbCAtYyAndGFyIHhmIGFydGlmYWN0cy9hcnRpZmFjdHMudGFyLmd6JwogICAgLSBOZXctSXRlbSAtUGF0aCAuZ2l0L2luZm8gLUl0ZW1UeXBlIERpcmVjdG9yeQogICAgLSBOZXctSXRlbSAuZ2l0L2luZm8vZXhjbHVkZSAtSXRlbVR5cGUgRmlsZSAtVmFsdWUgIi9naXQtc2RrIgogIHNjcmlwdDoKICAgIC0gZ2l0LXNkay91c3IvYmluL2Jhc2guZXhlIC1sIC1jICJjaS9ydW4tdGVzdC1zbGljZS5zaCAkQ0lfTk9ERV9JTkRFWCAkQ0lfTk9ERV9UT1RBTCIKICBhZnRlcl9zY3JpcHQ6CiAgICAtIGdpdC1zZGsvdXNyL2Jpbi9iYXNoLmV4ZSAtbCAtYyAnY2kvcHJpbnQtdGVzdC1mYWlsdXJlcy5zaCcKICBwYXJhbGxlbDogMTAKCnRlc3Q6ZnV6ei1zbW9rZS10ZXN0czoKICBpbWFnZTogdWJ1bnR1OmxhdGVzdAogIHN0YWdlOiB0ZXN0CiAgbmVlZHM6IFsgXQogIHZhcmlhYmxlczoKICAgIENDOiBjbGFuZwogIGJlZm9yZV9zY3JpcHQ6CiAgICAtIC4vY2kvaW5zdGFsbC1kZXBlbmRlbmNpZXMuc2gKICBzY3JpcHQ6CiAgICAtIC4vY2kvcnVuLWJ1aWxkLWFuZC1taW5pbWFsLWZ1enplcnMuc2gKCnN0YXRpYy1hbmFseXNpczoKICBpbWFnZTogdWJ1bnR1OjIyLjA0CiAgc3RhZ2U6IGFuYWx5emUKICBuZWVkczogWyBdCiAgdmFyaWFibGVzOgogICAgam9ibmFtZTogU3RhdGljQW5hbHlzaXMKICBiZWZvcmVfc2NyaXB0OgogICAgLSAuL2NpL2luc3RhbGwtZGVwZW5kZW5jaWVzLnNoCiAgc2NyaXB0OgogICAgLSAuL2NpL3J1bi1zdGF0aWMtYW5hbHlzaXMuc2gKICAgIC0gLi9jaS9jaGVjay1kaXJlY3Rpb25hbC1mb3JtYXR0aW5nLmJhc2gKCmNoZWNrLXdoaXRlc3BhY2U6CiAgaW1hZ2U6IHVidW50dTpsYXRlc3QKICBzdGFnZTogYW5hbHl6ZQogIG5lZWRzOiBbIF0KICBiZWZvcmVfc2NyaXB0OgogICAgLSAuL2NpL2luc3RhbGwtZGVwZW5kZW5jaWVzLnNoCiAgIyBTaW5jZSAkQ0lfTUVSR0VfUkVRVUVTVF9UQVJHRVRfQlJBTkNIX1NIQSBpcyBvbmx5IGRlZmluZWQgZm9yIG1lcmdlZAogICMgcGlwZWxpbmVzLCB3ZSBmYWxsYmFjayB0byAkQ0lfTUVSR0VfUkVRVUVTVF9ESUZGX0JBU0VfU0hBLCB3aGljaCBzaG91bGQKICAjIGJlIGRlZmluZWQgaW4gYWxsIHBpcGVsaW5lcy4KICBzY3JpcHQ6CiAgICAtIHwKICAgICAgUj0ke0NJX01FUkdFX1JFUVVFU1RfVEFSR0VUX0JSQU5DSF9TSEEtJHtDSV9NRVJHRV9SRVFVRVNUX0RJRkZfQkFTRV9TSEE6P319IHx8IGV4aXQKICAgICAgLi9jaS9jaGVjay13aGl0ZXNwYWNlLnNoICIkUiIKICBydWxlczoKICAgIC0gaWY6ICRDSV9QSVBFTElORV9TT1VSQ0UgPT0gJ21lcmdlX3JlcXVlc3RfZXZlbnQnCgpjaGVjay1zdHlsZToKICBpbWFnZTogdWJ1bnR1OmxhdGVzdAogIHN0YWdlOiBhbmFseXplCiAgbmVlZHM6IFsgXQogIGFsbG93X2ZhaWx1cmU6IHRydWUKICB2YXJpYWJsZXM6CiAgICBDQzogY2xhbmcKICAgIGpvYm5hbWU6IENsYW5nRm9ybWF0CiAgYmVmb3JlX3NjcmlwdDoKICAgIC0gLi9jaS9pbnN0YWxsLWRlcGVuZGVuY2llcy5zaAogICMgU2luY2UgJENJX01FUkdFX1JFUVVFU1RfVEFSR0VUX0JSQU5DSF9TSEEgaXMgb25seSBkZWZpbmVkIGZvciBtZXJnZWQKICAjIHBpcGVsaW5lcywgd2UgZmFsbGJhY2sgdG8gJENJX01FUkdFX1JFUVVFU1RfRElGRl9CQVNFX1NIQSwgd2hpY2ggc2hvdWxkCiAgIyBiZSBkZWZpbmVkIGluIGFsbCBwaXBlbGluZXMuCiAgc2NyaXB0OgogICAgLSB8CiAgICAgIFI9JHtDSV9NRVJHRV9SRVFVRVNUX1RBUkdFVF9CUkFOQ0hfU0hBLSR7Q0lfTUVSR0VfUkVRVUVTVF9ESUZGX0JBU0VfU0hBOj99fSB8fCBleGl0CiAgICAgIC4vY2kvcnVuLXN0eWxlLWNoZWNrLnNoICIkUiIKICBydWxlczoKICAgIC0gaWY6ICRDSV9QSVBFTElORV9TT1VSQ0UgPT0gJ21lcmdlX3JlcXVlc3RfZXZlbnQnCgpkb2N1bWVudGF0aW9uOgogIGltYWdlOiB1YnVudHU6bGF0ZXN0CiAgc3RhZ2U6IGFuYWx5emUKICBuZWVkczogWyBdCiAgdmFyaWFibGVzOgogICAgam9ibmFtZTogRG9jdW1lbnRhdGlvbgogIGJlZm9yZV9zY3JpcHQ6CiAgICAtIC4vY2kvaW5zdGFsbC1kZXBlbmRlbmNpZXMuc2gKICBzY3JpcHQ6CiAgICAtIC4vY2kvdGVzdC1kb2N1bWVudGF0aW9uLnNoCg==",
    "text": "default:\n  timeout: 2h\n\nstages:\n  - build\n  - test\n  - analyze\n\nworkflow:\n  rules:\n    - if: $CI_PIPELINE_SOURCE == \"merge_request_event\"\n    - if: $CI_COMMIT_TAG\n    - if: $CI_COMMIT_REF_PROTECTED == \"true\"\n\ntest:linux:\n  image: $image\n  stage: test\n  needs: [ ]\n  tags:\n    - saas-linux-medium-amd64\n  variables:\n    CUSTOM_PATH: \"/custom\"\n  before_script:\n    - ./ci/install-dependencies.sh\n  script:\n    - useradd builder --create-home\n    - chown -R builder \"${CI_PROJECT_DIR}\"\n    - sudo --preserve-env --set-home --user=builder ./ci/run-build-and-tests.sh\n  after_script:\n    - |\n      if test \"$CI_JOB_STATUS\" != 'success'\n      then\n        sudo --preserve-env --set-home --user=builder ./ci/print-test-failures.sh\n      fi\n  parallel:\n    matrix:\n      - jobname: linux-old\n        image: ubuntu:20.04\n        CC: gcc\n      - jobname: linux-sha256\n        image: ubuntu:latest\n        CC: clang\n      - jobname: linux-reftable\n        image: ubuntu:latest\n        CC: clang\n      - jobname: linux-gcc\n        image: ubuntu:20.04\n        CC: gcc\n        CC_PACKAGE: gcc-8\n      - jobname: linux-TEST-vars\n        image: ubuntu:20.04\n        CC: gcc\n        CC_PACKAGE: gcc-8\n      - jobname: linux-gcc-default\n        image: ubuntu:latest\n        CC: gcc\n      - jobname: linux-leaks\n        image: ubuntu:latest\n        CC: gcc\n      - jobname: linux-reftable-leaks\n        image: ubuntu:latest\n        CC: gcc\n      - jobname: linux-asan-ubsan\n        image: ubuntu:latest\n        CC: clang\n      - jobname: pedantic\n        image: fedora:latest\n      - jobname: linux-musl\n        image: alpine:latest\n  artifacts:\n    paths:\n      - t/failed-test-artifacts\n    when: on_failure\n\ntest:osx:\n  image: $image\n  stage: test\n  needs: [ ]\n  tags:\n    - saas-macos-medium-m1\n  variables:\n    TEST_OUTPUT_DIRECTORY: \"/Volumes/RAMDisk\"\n  before_script:\n    # Create a 4GB RAM disk that we use to store test output on. This small hack\n    # significantly speeds up tests by more than a factor of 2 because the\n    # macOS runners use network-attached storage as disks, which is _really_\n    # slow with the many small writes that our tests do.\n    - sudo diskutil apfs create $(hdiutil attach -nomount ram://8192000) RAMDisk\n    - ./ci/install-dependencies.sh\n  script:\n    - ./ci/run-build-and-tests.sh\n  after_script:\n    - |\n      if test \"$CI_JOB_STATUS\" != 'success'\n      then\n        ./ci/print-test-failures.sh\n        mv \"$TEST_OUTPUT_DIRECTORY\"/failed-test-artifacts t/\n      fi\n  parallel:\n    matrix:\n      - jobname: osx-clang\n        image: macos-14-xcode-15\n        CC: clang\n      - jobname: osx-reftable\n        image: macos-14-xcode-15\n        CC: clang\n  artifacts:\n    paths:\n      - t/failed-test-artifacts\n    when: on_failure\n\nbuild:mingw64:\n  stage: build\n  tags:\n    - saas-windows-medium-amd64\n  variables:\n    NO_PERL: 1\n  before_script:\n    - ./ci/install-sdk.ps1 -directory \"git-sdk\"\n  script:\n    - git-sdk/usr/bin/bash.exe -l -c 'ci/make-test-artifacts.sh artifacts'\n  artifacts:\n    paths:\n      - artifacts\n      - git-sdk\n\ntest:mingw64:\n  stage: test\n  tags:\n    - saas-windows-medium-amd64\n  needs:\n    - job: \"build:mingw64\"\n      artifacts: true\n  before_script:\n    - git-sdk/usr/bin/bash.exe -l -c 'tar xf artifacts/artifacts.tar.gz'\n    - New-Item -Path .git/info -ItemType Directory\n    - New-Item .git/info/exclude -ItemType File -Value \"/git-sdk\"\n  script:\n    - git-sdk/usr/bin/bash.exe -l -c \"ci/run-test-slice.sh $CI_NODE_INDEX $CI_NODE_TOTAL\"\n  after_script:\n    - git-sdk/usr/bin/bash.exe -l -c 'ci/print-test-failures.sh'\n  parallel: 10\n\ntest:fuzz-smoke-tests:\n  image: ubuntu:latest\n  stage: test\n  needs: [ ]\n  variables:\n    CC: clang\n  before_script:\n    - ./ci/install-dependencies.sh\n  script:\n    - ./ci/run-build-and-minimal-fuzzers.sh\n\nstatic-analysis:\n  image: ubuntu:22.04\n  stage: analyze\n  needs: [ ]\n  variables:\n    jobname: StaticAnalysis\n  before_script:\n    - ./ci/install-dependencies.sh\n  script:\n    - ./ci/run-static-analysis.sh\n    - ./ci/check-directional-formatting.bash\n\ncheck-whitespace:\n  image: ubuntu:latest\n  stage: analyze\n  needs: [ ]\n  before_script:\n    - ./ci/install-dependencies.sh\n  # Since $CI_MERGE_REQUEST_TARGET_BRANCH_SHA is only defined for merged\n  # pipelines, we fallback to $CI_MERGE_REQUEST_DIFF_BASE_SHA, which should\n  # be defined in all pipelines.\n  script:\n    - |\n      R=${CI_MERGE_REQUEST_TARGET_BRANCH_SHA-${CI_MERGE_REQUEST_DIFF_BASE_SHA:?}} || exit\n      ./ci/check-whitespace.sh \"$R\"\n  rules:\n    - if: $CI_PIPELINE_SOURCE == 'merge_request_event'\n\ncheck-style:\n  image: ubuntu:latest\n  stage: analyze\n  needs: [ ]\n  allow_failure: true\n  variables:\n    CC: clang\n    jobname: ClangFormat\n  before_script:\n    - ./ci/install-dependencies.sh\n  # Since $CI_MERGE_REQUEST_TARGET_BRANCH_SHA is only defined for merged\n  # pipelines, we fallback to $CI_MERGE_REQUEST_DIFF_BASE_SHA, which should\n  # be defined in all pipelines.\n  script:\n    - |\n      R=${CI_MERGE_REQUEST_TARGET_BRANCH_SHA-${CI_MERGE_REQUEST_DIFF_BASE_SHA:?}} || exit\n      ./ci/run-style-check.sh \"$R\"\n  rules:\n    - if: $CI_PIPELINE_SOURCE == 'merge_request_event'\n\ndocumentation:\n  image: ubuntu:latest\n  stage: analyze\n  needs: [ ]\n  variables:\n    jobname: Documentation\n  before_script:\n    - ./ci/install-dependencies.sh\n  script:\n    - ./ci/test-documentation.sh\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "008966cae4d6a08694d46f2534e0e0e2967a53fc",
  "sha1_ok": true,
  "size": 5347
}
