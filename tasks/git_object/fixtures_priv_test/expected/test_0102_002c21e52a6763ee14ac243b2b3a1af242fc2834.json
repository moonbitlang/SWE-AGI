{
  "content": {
    "base64": "IyEvYmluL3NoCgp0ZXN0X2Rlc2NyaXB0aW9uPSdUZXN0cyB3aGV0aGVyIHBlcmYtbGliIGZhY2lsaXRpZXMgd29yaycKLiAuL3BlcmYtbGliLnNoCgp0ZXN0X3BlcmZfZGVmYXVsdF9yZXBvCgp0ZXN0X3BlcmYgJ3Rlc3RfcGVyZl9kZWZhdWx0X3JlcG8gd29ya3MnICcKCWZvbz0kKGdpdCByZXYtcGFyc2UgSEVBRCkgJiYKCXRlc3RfZXhwb3J0IGZvbwonCgp0ZXN0X2NoZWNrb3V0X3dvcmt0cmVlCgp0ZXN0X3BlcmYgJ3Rlc3RfY2hlY2tvdXRfd29ya3RyZWUgd29ya3MnICcKCXd0PSQoZmluZCAuIHwgd2MgLWwpICYmCglpZHg9JChnaXQgbHMtZmlsZXMgfCB3YyAtbCkgJiYKCXRlc3QgJHd0IC1ndCAkaWR4CicKCmJhej1iYXoKdGVzdF9leHBvcnQgYmF6Cgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd0ZXN0X2V4cG9ydCB3b3JrcycgJwoJZWNobyAiJGZvbyIgJiYKCXRlc3QgIiRmb28iID0gIiQoZ2l0IHJldi1wYXJzZSBIRUFEKSIgJiYKCWVjaG8gIiRiYXoiICYmCgl0ZXN0ICIkYmF6IiA9IGJhegonCgp0ZXN0X3BlcmYgJ2V4cG9ydCBhIHdlaXJkIHZhcicgJwoJYmFyPSJ3ZWlyZCAjIHZhcmlhYmxlIiAmJgoJdGVzdF9leHBvcnQgYmFyCicKCnRlc3RfcGVyZiAnw6nhuL/DreG6lyDFhMO2xYQtw4HFmsSGw43DjSDEh+G4p8OhxZXDocSH4bqXw6nFlcWbJyAndHJ1ZScKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3Rlc3RfZXhwb3J0IHdvcmtzIHdpdGggd2VpcmQgdmFycycgJwoJZWNobyAiJGJhciIgJiYKCXRlc3QgIiRiYXIiID0gIndlaXJkICMgdmFyaWFibGUiCicKCnRlc3RfcGVyZiAnaW1wb3J0YW50IHZhcmlhYmxlcyBhdmFpbGFibGUgaW4gc3Vic2hlbGxzJyAnCgl0ZXN0IC1uICIkSE9NRSIgJiYKCXRlc3QgLW4gIiRURVNUX0RJUkVDVE9SWSIgJiYKCXRlc3QgLW4gIiRUUkFTSF9ESVJFQ1RPUlkiICYmCgl0ZXN0IC1uICIkR0lUX0JVSUxEX0RJUiIKJwoKdGVzdF9wZXJmICd0ZXN0LWxpYi1mdW5jdGlvbnMgY29ycmVjdGx5IGxvYWRlZCBpbiBzdWJzaGVsbHMnICcKCTogPmEgJiYKCXRlc3RfcGF0aF9pc19maWxlIGEgJiYKCTogPmIgJiYKCXRlc3RfY21wIGEgYgonCgp0ZXN0X2RvbmUK",
    "text": "#!/bin/sh\n\ntest_description='Tests whether perf-lib facilities work'\n. ./perf-lib.sh\n\ntest_perf_default_repo\n\ntest_perf 'test_perf_default_repo works' '\n\tfoo=$(git rev-parse HEAD) &&\n\ttest_export foo\n'\n\ntest_checkout_worktree\n\ntest_perf 'test_checkout_worktree works' '\n\twt=$(find . | wc -l) &&\n\tidx=$(git ls-files | wc -l) &&\n\ttest $wt -gt $idx\n'\n\nbaz=baz\ntest_export baz\n\ntest_expect_success 'test_export works' '\n\techo \"$foo\" &&\n\ttest \"$foo\" = \"$(git rev-parse HEAD)\" &&\n\techo \"$baz\" &&\n\ttest \"$baz\" = baz\n'\n\ntest_perf 'export a weird var' '\n\tbar=\"weird # variable\" &&\n\ttest_export bar\n'\n\ntest_perf '\u00e9\u1e3f\u00ed\u1e97 \u0144\u00f6\u0144-\u00c1\u015a\u0106\u00cd\u00cd \u0107\u1e27\u00e1\u0155\u00e1\u0107\u1e97\u00e9\u0155\u015b' 'true'\n\ntest_expect_success 'test_export works with weird vars' '\n\techo \"$bar\" &&\n\ttest \"$bar\" = \"weird # variable\"\n'\n\ntest_perf 'important variables available in subshells' '\n\ttest -n \"$HOME\" &&\n\ttest -n \"$TEST_DIRECTORY\" &&\n\ttest -n \"$TRASH_DIRECTORY\" &&\n\ttest -n \"$GIT_BUILD_DIR\"\n'\n\ntest_perf 'test-lib-functions correctly loaded in subshells' '\n\t: >a &&\n\ttest_path_is_file a &&\n\t: >b &&\n\ttest_cmp a b\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "002c21e52a6763ee14ac243b2b3a1af242fc2834",
  "sha1_ok": true,
  "size": 1074
}
