{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMTMsIDIwMTQgQ2hyaXN0aWFuIENvdWRlcgojCgp0ZXN0X2Rlc2NyaXB0aW9uPSdnaXQgaW50ZXJwcmV0LXRyYWlsZXJzJwoKLiAuL3Rlc3QtbGliLnNoCgojIFdoZW4gd2Ugd2FudCBvbmUgdHJhaWxpbmcgc3BhY2UgYXQgdGhlIGVuZCBvZiBlYWNoIGxpbmUsIGxldCdzIHVzZSBzZWQKIyB0byBtYWtlIHN1cmUgdGhhdCB0aGVzZSBzcGFjZXMgYXJlIG5vdCByZW1vdmVkIGJ5IGFueSBhdXRvbWF0aWMgdG9vbC4KCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3NldHVwJyAnCgk6ID5lbXB0eSAmJgoJY2F0ID5iYXNpY19tZXNzYWdlIDw8LVxFT0YgJiYKCQlzdWJqZWN0CgoJCWJvZHkKCUVPRgoJY2F0ID5jb21wbGV4X21lc3NhZ2VfYm9keSA8PC1cRU9GICYmCgkJbXkgc3ViamVjdAoKCQlteSBib2R5IHdoaWNoIGlzIGxvbmcKCQlhbmQgY29udGFpbnMgc29tZSBzcGVjaWFsCgkJY2hhcnMgbGlrZSA6ID0gPyAhCgoJRU9GCglzZWQgLWUgInMvIFpcJC8gLyIgPmNvbXBsZXhfbWVzc2FnZV90cmFpbGVycyA8PC1cRU9GICYmCgkJRml4ZXM6IFoKCQlBY2tlZC1ieTogWgoJCVJldmlld2VkLWJ5OiBaCgkJU2lnbmVkLW9mZi1ieTogWgoJRU9GCgljYXQgPmJhc2ljX3BhdGNoIDw8LVxFT0YKCQktLS0KCQkgZm9vLnR4dCB8IDIgKy0KCQkgMSBmaWxlIGNoYW5nZWQsIDEgaW5zZXJ0aW9uKCspLCAxIGRlbGV0aW9uKC0pCgoJCWRpZmYgLS1naXQgYS9mb28udHh0IGIvZm9vLnR4dAoJCWluZGV4IDAzNTM3NjcuLjFkOTFhYTEgMTAwNjQ0CgkJLS0tIGEvZm9vLnR4dAoJCSsrKyBiL2Zvby50eHQKCQlAQCAtMSwzICsxLDMgQEAKCgkJLWJhcgoJCStiYXoKCgkJLS0KCQkxLjkucmMwLjExLmdhNTYyZGRjCgoJRU9GCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGhvdXQgY29uZmlnJyAnCglzZWQgLWUgInMvIFpcJC8gLyIgPmV4cGVjdGVkIDw8LVxFT0YgJiYKCgkJYWNrOiBQZWZmCgkJUmV2aWV3ZWQtYnk6IFoKCQlBY2tlZC1ieTogSm9oYW4KCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgImFjayA9IFBlZmYiIC0tdHJhaWxlciAiUmV2aWV3ZWQtYnkiIFwKCQktLXRyYWlsZXIgIkFja2VkLWJ5OiBKb2hhbiIgZW1wdHkgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGhvdXQgY29uZmlnIGluIGFub3RoZXIgb3JkZXInICcKCXNlZCAtZSAicy8gWlwkLyAvIiA+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoKCQlBY2tlZC1ieTogSm9oYW4KCQlSZXZpZXdlZC1ieTogWgoJCWFjazogUGVmZgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiQWNrZWQtYnk6IEpvaGFuIiAtLXRyYWlsZXIgIlJldmlld2VkLWJ5IiBcCgkJLS10cmFpbGVyICJhY2sgPSBQZWZmIiBlbXB0eSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnLS10cmltLWVtcHR5IHdpdGhvdXQgY29uZmlnJyAnCgljYXQgPmV4cGVjdGVkIDw8LVxFT0YgJiYKCgkJYWNrOiBQZWZmCgkJQWNrZWQtYnk6IEpvaGFuCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmltLWVtcHR5IC0tdHJhaWxlciBhY2s9UGVmZiBcCgkJLS10cmFpbGVyICJSZXZpZXdlZC1ieSIgLS10cmFpbGVyICJBY2tlZC1ieTogSm9oYW4iIFwKCQktLXRyYWlsZXIgInNvYjoiIGVtcHR5ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIGNvbmZpZyBvcHRpb24gb24gdGhlIGNvbW1hbmQgbGluZScgJwoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgoJCUFja2VkLWJ5OiBKb2hhbgoJCVJldmlld2VkLWJ5OiBQZWZmCglFT0YKCXsgZWNobzsgZWNobyAiQWNrZWQtYnk6IEpvaGFuIjsgfSB8CglnaXQgLWMgInRyYWlsZXIuQWNrZWQtYnkuaWZleGlzdHM9YWRkaWZkaWZmZXJlbnQiIGludGVycHJldC10cmFpbGVycyBcCgkJLS10cmFpbGVyICJSZXZpZXdlZC1ieTogUGVmZiIgLS10cmFpbGVyICJBY2tlZC1ieTogSm9oYW4iID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIG9ubHkgYSB0aXRsZSBpbiB0aGUgbWVzc2FnZScgJwoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgkJYXJlYTogY2hhbmdlCgoJCVJldmlld2VkLWJ5OiBQZWZmCgkJQWNrZWQtYnk6IEpvaGFuCglFT0YKCWVjaG8gImFyZWE6IGNoYW5nZSIgfAoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgIlJldmlld2VkLWJ5OiBQZWZmIiBcCgkJLS10cmFpbGVyICJBY2tlZC1ieTogSm9oYW4iID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIG11bHRpbGluZSB0aXRsZSBpbiB0aGUgbWVzc2FnZScgJwoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgkJcGxhY2Ugb2YKCQljb2RlOiBjaGFuZ2UKCgkJUmV2aWV3ZWQtYnk6IFBlZmYKCQlBY2tlZC1ieTogSm9oYW4KCUVPRgoJcHJpbnRmICIlc1xuIiAicGxhY2Ugb2YiICJjb2RlOiBjaGFuZ2UiIHwKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJSZXZpZXdlZC1ieTogUGVmZiIgXAoJCS0tdHJhaWxlciAiQWNrZWQtYnk6IEpvaGFuIiA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2l0aCBub24tdHJhaWxlciBsaW5lcyBtaXhlZCB3aXRoIFNpZ25lZC1vZmYtYnknICcKCWNhdCA+cGF0Y2ggPDwtXEVPRiAmJgoKCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCQlTaWduZWQtb2ZmLWJ5OiBhIDxhQGV4YW1wbGUuY29tPgoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoJRU9GCgljYXQgPmV4cGVjdGVkIDw8LVxFT0YgJiYKCgkJdGhpcyBpcyBub3QgYSB0cmFpbGVyCgkJdGhpcyBpcyBub3QgYSB0cmFpbGVyCgkJU2lnbmVkLW9mZi1ieTogYSA8YUBleGFtcGxlLmNvbT4KCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCQl0b2tlbjogdmFsdWUKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInRva2VuOiB2YWx1ZSIgcGF0Y2ggPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGggbm9uLXRyYWlsZXIgbGluZXMgbWl4ZWQgd2l0aCBjaGVycnkgcGlja2VkIGZyb20nICcKCWNhdCA+cGF0Y2ggPDwtXEVPRiAmJgoKCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCQkoY2hlcnJ5IHBpY2tlZCBmcm9tIGNvbW1pdCB4KQoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoJRU9GCgljYXQgPmV4cGVjdGVkIDw8LVxFT0YgJiYKCgkJdGhpcyBpcyBub3QgYSB0cmFpbGVyCgkJdGhpcyBpcyBub3QgYSB0cmFpbGVyCgkJKGNoZXJyeSBwaWNrZWQgZnJvbSBjb21taXQgeCkKCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCQl0b2tlbjogdmFsdWUKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInRva2VuOiB2YWx1ZSIgcGF0Y2ggPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGggbm9uLXRyYWlsZXIgbGluZXMgbWl4ZWQgd2l0aCBhIGNvbmZpZ3VyZWQgdHJhaWxlcicgJwoJY2F0ID5wYXRjaCA8PC1cRU9GICYmCgoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoJCU15LXRyYWlsZXI6IHgKCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCUVPRgoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoJCU15LXRyYWlsZXI6IHgKCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCQl0b2tlbjogdmFsdWUKCUVPRgoJdGVzdF9jb25maWcgdHJhaWxlci5teS5rZXkgIk15LXRyYWlsZXI6ICIgJiYKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJ0b2tlbjogdmFsdWUiIHBhdGNoID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIG5vbi10cmFpbGVyIGxpbmVzIG1peGVkIHdpdGggYSBub24tY29uZmlndXJlZCB0cmFpbGVyJyAnCgljYXQgPnBhdGNoIDw8LVxFT0YgJiYKCgkJdGhpcyBpcyBub3QgYSB0cmFpbGVyCgkJdGhpcyBpcyBub3QgYSB0cmFpbGVyCgkJSS1hbS1ub3QtY29uZmlndXJlZDogeAoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoJRU9GCgljYXQgPmV4cGVjdGVkIDw8LVxFT0YgJiYKCgkJdGhpcyBpcyBub3QgYSB0cmFpbGVyCgkJdGhpcyBpcyBub3QgYSB0cmFpbGVyCgkJSS1hbS1ub3QtY29uZmlndXJlZDogeAoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoKCQl0b2tlbjogdmFsdWUKCUVPRgoJdGVzdF9jb25maWcgdHJhaWxlci5teS5rZXkgIk15LXRyYWlsZXI6ICIgJiYKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJ0b2tlbjogdmFsdWUiIHBhdGNoID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIGFsbCBub24tY29uZmlndXJlZCB0cmFpbGVycycgJwoJY2F0ID5wYXRjaCA8PC1cRU9GICYmCgoJCUktYW0tbm90LWNvbmZpZ3VyZWQ6IHgKCQlJLWFtLWFsc28tbm90LWNvbmZpZ3VyZWQ6IHgKCUVPRgoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgoJCUktYW0tbm90LWNvbmZpZ3VyZWQ6IHgKCQlJLWFtLWFsc28tbm90LWNvbmZpZ3VyZWQ6IHgKCQl0b2tlbjogdmFsdWUKCUVPRgoJdGVzdF9jb25maWcgdHJhaWxlci5teS5rZXkgIk15LXRyYWlsZXI6ICIgJiYKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJ0b2tlbjogdmFsdWUiIHBhdGNoID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIG5vbi10cmFpbGVyIGxpbmVzIG9ubHknICcKCWNhdCA+cGF0Y2ggPDwtXEVPRiAmJgoKCQl0aGlzIGlzIG5vdCBhIHRyYWlsZXIKCUVPRgoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgoJCXRoaXMgaXMgbm90IGEgdHJhaWxlcgoKCQl0b2tlbjogdmFsdWUKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInRva2VuOiB2YWx1ZSIgcGF0Y2ggPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGggY29uZmlnIHNldHVwJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuYWNrLmtleSAiQWNrZWQtYnk6ICIgJiYKCWNhdCA+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoKCQlBY2tlZC1ieTogUGVmZgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJpbS1lbXB0eSAtLXRyYWlsZXIgImFjayA9IFBlZmYiIGVtcHR5ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbCAmJgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyaW0tZW1wdHkgLS10cmFpbGVyICJBY2tlZC1ieSA9IFBlZmYiIGVtcHR5ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbCAmJgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyaW0tZW1wdHkgLS10cmFpbGVyICJBY2tlZC1ieSA6UGVmZiIgZW1wdHkgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGggY29uZmlnIHNldHVwIGFuZCAiOj0iIGFzIHNlcGFyYXRvcnMnICcKCWdpdCBjb25maWcgdHJhaWxlci5zZXBhcmF0b3JzICI6PSIgJiYKCWdpdCBjb25maWcgdHJhaWxlci5hY2sua2V5ICJBY2tlZC1ieT0gIiAmJgoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgoJCUFja2VkLWJ5PSBQZWZmCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmltLWVtcHR5IC0tdHJhaWxlciAiYWNrID0gUGVmZiIgZW1wdHkgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsICYmCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJpbS1lbXB0eSAtLXRyYWlsZXIgIkFja2VkLWJ5PSBQZWZmIiBlbXB0eSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwgJiYKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmltLWVtcHR5IC0tdHJhaWxlciAiQWNrZWQtYnkgOiBQZWZmIiBlbXB0eSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2l0aCBjb25maWcgc2V0dXAgYW5kICIlIiBhcyBzZXBhcmF0b3JzJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuc2VwYXJhdG9ycyAiJSIgJiYKCWNhdCA+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoKCQlidWclIDQyCgkJY291bnQlIDEwCgkJYnVnJSA0MjIKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyaW0tZW1wdHkgLS10cmFpbGVyICJidWcgPSA0MiIgXAoJCS0tdHJhaWxlciBjb3VudCUxMCAtLXRyYWlsZXIgInRlc3Q6IHN0dWZmIiBcCgkJLS10cmFpbGVyICJidWcgJSA0MjIiIGVtcHR5ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoICIlIiBhcyBzZXBhcmF0b3JzIGFuZCBhIG1lc3NhZ2Ugd2l0aCB0cmFpbGVycycgJwoJY2F0ID5zcGVjaWFsX21lc3NhZ2UgPDwtXEVPRiAmJgoJCVNwZWNpYWwgTWVzc2FnZQoKCQlidWclIDQyCgkJY291bnQlIDEwCgkJYnVnJSA0MjIKCUVPRgoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgkJU3BlY2lhbCBNZXNzYWdlCgoJCWJ1ZyUgNDIKCQljb3VudCUgMTAKCQlidWclIDQyMgoJCWNvdW50JSAxMDAKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgY291bnQlMTAwIFwKCQlzcGVjaWFsX21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGggY29uZmlnIHNldHVwIGFuZCAiOj0jIiBhcyBzZXBhcmF0b3JzJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuc2VwYXJhdG9ycyAiOj0jIiAmJgoJZ2l0IGNvbmZpZyB0cmFpbGVyLmJ1Zy5rZXkgIkJ1ZyAjIiAmJgoJY2F0ID5leHBlY3RlZCA8PC1cRU9GICYmCgoJCUJ1ZyAjNDIKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyaW0tZW1wdHkgLS10cmFpbGVyICJidWcgPSA0MiIgZW1wdHkgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGggY29tbWl0IGJhc2ljIG1lc3NhZ2UnICcKCWNhdCBiYXNpY19tZXNzYWdlID5leHBlY3RlZCAmJgoJZWNobyA+PmV4cGVjdGVkICYmCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIDxiYXNpY19tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIGJhc2ljIHBhdGNoJyAnCgljYXQgYmFzaWNfbWVzc2FnZSA+aW5wdXQgJiYKCWNhdCBiYXNpY19wYXRjaCA+PmlucHV0ICYmCgljYXQgYmFzaWNfbWVzc2FnZSA+ZXhwZWN0ZWQgJiYKCWVjaG8gPj5leHBlY3RlZCAmJgoJY2F0IGJhc2ljX3BhdGNoID4+ZXhwZWN0ZWQgJiYKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgPGlucHV0ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIGNvbW1pdCBjb21wbGV4IG1lc3NhZ2UgYXMgYXJndW1lbnQnICcKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSBjb21wbGV4X21lc3NhZ2VfdHJhaWxlcnMgPmNvbXBsZXhfbWVzc2FnZSAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlSZXZpZXdlZC1ieTogWgoJCVNpZ25lZC1vZmYtYnk6IFoKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyBjb21wbGV4X21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGggMiBmaWxlcyBhcmd1bWVudHMnICcKCWNhdCBiYXNpY19tZXNzYWdlID4+ZXhwZWN0ZWQgJiYKCWVjaG8gPj5leHBlY3RlZCAmJgoJY2F0IGJhc2ljX3BhdGNoID4+ZXhwZWN0ZWQgJiYKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgY29tcGxleF9tZXNzYWdlIGlucHV0ID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIG1lc3NhZ2UgdGhhdCBoYXMgY29tbWVudHMnICcKCWNhdCBiYXNpY19tZXNzYWdlID5tZXNzYWdlX3dpdGhfY29tbWVudHMgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+Pm1lc3NhZ2Vfd2l0aF9jb21tZW50cyA8PC1cRU9GICYmCgkJIyBjb21tZW50CgoJCSMgb3RoZXIgY29tbWVudAoJCUNjOiBaCgkJIyB5ZXQgYW5vdGhlciBjb21tZW50CgkJUmV2aWV3ZWQtYnk6IEpvaGFuCgkJUmV2aWV3ZWQtYnk6IFoKCQkjIGxhc3QgY29tbWVudAoKCUVPRgoJY2F0IGJhc2ljX3BhdGNoID4+bWVzc2FnZV93aXRoX2NvbW1lbnRzICYmCgljYXQgYmFzaWNfbWVzc2FnZSA+ZXhwZWN0ZWQgJiYKCWNhdCA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQkjIGNvbW1lbnQKCgkJUmV2aWV3ZWQtYnk6IEpvaGFuCgkJQ2M6IFBlZmYKCQkjIGxhc3QgY29tbWVudAoKCUVPRgoJY2F0IGJhc2ljX3BhdGNoID4+ZXhwZWN0ZWQgJiYKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmltLWVtcHR5IC0tdHJhaWxlciAiQ2M6IFBlZmYiIG1lc3NhZ2Vfd2l0aF9jb21tZW50cyA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2l0aCBtZXNzYWdlIHRoYXQgaGFzIGFuIG9sZCBzdHlsZSBjb25mbGljdCBibG9jaycgJwoJY2F0IGJhc2ljX21lc3NhZ2UgPm1lc3NhZ2Vfd2l0aF9jb21tZW50cyAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+bWVzc2FnZV93aXRoX2NvbW1lbnRzIDw8LVxFT0YgJiYKCQkjIGNvbW1lbnQKCgkJIyBvdGhlciBjb21tZW50CgkJQ2M6IFoKCQkjIHlldCBhbm90aGVyIGNvbW1lbnQKCQlSZXZpZXdlZC1ieTogSm9oYW4KCQlSZXZpZXdlZC1ieTogWgoJCSMgbGFzdCBjb21tZW50CgoJCUNvbmZsaWN0czoKCglFT0YKCWNhdCBiYXNpY19tZXNzYWdlID5leHBlY3RlZCAmJgoJY2F0ID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCSMgY29tbWVudAoKCQlSZXZpZXdlZC1ieTogSm9oYW4KCQlDYzogUGVmZgoJCSMgbGFzdCBjb21tZW50CgoJCUNvbmZsaWN0czoKCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmltLWVtcHR5IC0tdHJhaWxlciAiQ2M6IFBlZmYiIG1lc3NhZ2Vfd2l0aF9jb21tZW50cyA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2l0aCBjb21taXQgY29tcGxleCBtZXNzYWdlIGFuZCB0cmFpbGVyIGFyZ3MnICcKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJUmV2aWV3ZWQtYnk6IFoKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJQWNrZWQtYnk9IFBlZmYKCQlCdWcgIzQyCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJhY2s6IFBlZmYiIFwKCQktLXRyYWlsZXIgImJ1ZzogNDIiIDxjb21wbGV4X21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3dpdGggY29tcGxleCBwYXRjaCwgYXJncyBhbmQgLS10cmltLWVtcHR5JyAnCgljYXQgY29tcGxleF9tZXNzYWdlID5jb21wbGV4X3BhdGNoICYmCgljYXQgYmFzaWNfcGF0Y2ggPj5jb21wbGV4X3BhdGNoICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCgljYXQgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQWNrZWQtYnk9IFBlZmYKCQlCdWcgIzQyCglFT0YKCWNhdCBiYXNpY19wYXRjaCA+PmV4cGVjdGVkICYmCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJpbS1lbXB0eSAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCS0tdHJhaWxlciAiYnVnOiA0MiIgPGNvbXBsZXhfcGF0Y2ggPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2luLXBsYWNlIGVkaXRpbmcgd2l0aCBiYXNpYyBwYXRjaCcgJwoJY2F0IGJhc2ljX21lc3NhZ2UgPm1lc3NhZ2UgJiYKCWNhdCBiYXNpY19wYXRjaCA+Pm1lc3NhZ2UgJiYKCWNhdCBiYXNpY19tZXNzYWdlID5leHBlY3RlZCAmJgoJZWNobyA+PmV4cGVjdGVkICYmCgljYXQgYmFzaWNfcGF0Y2ggPj5leHBlY3RlZCAmJgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLWluLXBsYWNlIG1lc3NhZ2UgJiYKCXRlc3RfY21wIGV4cGVjdGVkIG1lc3NhZ2UKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnaW4tcGxhY2UgZWRpdGluZyB3aXRoIGFkZGl0aW9uYWwgdHJhaWxlcicgJwoJY2F0IGJhc2ljX21lc3NhZ2UgPm1lc3NhZ2UgJiYKCWNhdCBiYXNpY19wYXRjaCA+Pm1lc3NhZ2UgJiYKCWNhdCBiYXNpY19tZXNzYWdlID5leHBlY3RlZCAmJgoJZWNobyA+PmV4cGVjdGVkICYmCgljYXQgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJUmV2aWV3ZWQtYnk6IEFsaWNlCglFT0YKCWNhdCBiYXNpY19wYXRjaCA+PmV4cGVjdGVkICYmCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiUmV2aWV3ZWQtYnk6IEFsaWNlIiAtLWluLXBsYWNlIG1lc3NhZ2UgJiYKCXRlc3RfY21wIGV4cGVjdGVkIG1lc3NhZ2UKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnaW4tcGxhY2UgZWRpdGluZyBvbiBzdGRpbiBkaXNhbGxvd2VkJyAnCgl0ZXN0X211c3RfZmFpbCBnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiUmV2aWV3ZWQtYnk6IEFsaWNlIiAtLWluLXBsYWNlIDwgYmFzaWNfbWVzc2FnZQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdpbi1wbGFjZSBlZGl0aW5nIG9uIG5vbi1leGlzdGluZyBmaWxlJyAnCgl0ZXN0X211c3RfZmFpbCBnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiUmV2aWV3ZWQtYnk6IEFsaWNlIiAtLWluLXBsYWNlIG5vbmV4aXN0aW5nICYmCgl0ZXN0X3BhdGhfaXNfbWlzc2luZyBub25leGlzdGluZwonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzIFBPU0lYUEVSTSxTQU5JVFkgImluLXBsYWNlIGVkaXRpbmcgZG9lc24ndCBjbG9iYmVyIG9yaWdpbmFsIGZpbGUgb24gZXJyb3IiICcKCWNhdCBiYXNpY19tZXNzYWdlID5tZXNzYWdlICYmCgljaG1vZCAtciBtZXNzYWdlICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiUmV2aWV3ZWQtYnk6IEFsaWNlIiAtLWluLXBsYWNlIG1lc3NhZ2UgJiYKCWNobW9kICtyIG1lc3NhZ2UgJiYKCXRlc3RfY21wIG1lc3NhZ2UgYmFzaWNfbWVzc2FnZQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd1c2luZyAid2hlcmUgPSBiZWZvcmUiJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuYnVnLndoZXJlICJiZWZvcmUiICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQnVnICM0MgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlSZXZpZXdlZC1ieTogWgoJCVNpZ25lZC1vZmYtYnk6IFoKCQlBY2tlZC1ieT0gUGVmZgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiYWNrOiBQZWZmIiBcCgkJLS10cmFpbGVyICJidWc6IDQyIiBjb21wbGV4X21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3VzaW5nICJ3aGVyZSA9IGFmdGVyIicgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLmFjay53aGVyZSAiYWZ0ZXIiICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQnVnICM0MgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlBY2tlZC1ieT0gUGVmZgoJCVJldmlld2VkLWJ5OiBaCgkJU2lnbmVkLW9mZi1ieTogWgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiYWNrOiBQZWZmIiBcCgkJLS10cmFpbGVyICJidWc6IDQyIiBjb21wbGV4X21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3VzaW5nICJ3aGVyZSA9IGVuZCInICcKCWdpdCBjb25maWcgdHJhaWxlci5yZXZpZXcua2V5ICJSZXZpZXdlZC1ieSIgJiYKCWdpdCBjb25maWcgdHJhaWxlci5yZXZpZXcud2hlcmUgImVuZCIgJiYKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieTogWgoJCVNpZ25lZC1vZmYtYnk6IFoKCQlSZXZpZXdlZC1ieTogSnVuaW8KCQlSZXZpZXdlZC1ieTogSm9oYW5uZXMKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCS0tdHJhaWxlciAiUmV2aWV3ZWQtYnk6IEp1bmlvIiAtLXRyYWlsZXIgIlJldmlld2VkLWJ5OiBKb2hhbm5lcyIgXAoJCWNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndXNpbmcgIndoZXJlID0gc3RhcnQiJyAnCglnaXQgY29uZmlnIHRyYWlsZXIucmV2aWV3LmtleSAiUmV2aWV3ZWQtYnkiICYmCglnaXQgY29uZmlnIHRyYWlsZXIucmV2aWV3LndoZXJlICJzdGFydCIgJiYKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlSZXZpZXdlZC1ieTogSm9oYW5uZXMKCQlSZXZpZXdlZC1ieTogSnVuaW8KCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieTogWgoJCVNpZ25lZC1vZmYtYnk6IFoKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCS0tdHJhaWxlciAiUmV2aWV3ZWQtYnk6IEp1bmlvIiAtLXRyYWlsZXIgIlJldmlld2VkLWJ5OiBKb2hhbm5lcyIgXAoJCWNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndXNpbmcgIndoZXJlID0gYmVmb3JlIiBmb3IgYSB0b2tlbiBpbiB0aGUgbWlkZGxlIG9mIHRoZSBtZXNzYWdlJyAnCglnaXQgY29uZmlnIHRyYWlsZXIucmV2aWV3LmtleSAiUmV2aWV3ZWQtYnk6IiAmJgoJZ2l0IGNvbmZpZyB0cmFpbGVyLnJldmlldy53aGVyZSAiYmVmb3JlIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUJ1ZyAjNDIKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieTpKb2hhbgoJCVJldmlld2VkLWJ5OgoJCVNpZ25lZC1vZmYtYnk6IFoKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgImFjazogUGVmZiIgLS10cmFpbGVyICJidWc6IDQyIiBcCgkJLS10cmFpbGVyICJyZXZpZXc6IEpvaGFuIiA8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd1c2luZyAid2hlcmUgPSBiZWZvcmUiIGFuZCAtLXRyaW0tZW1wdHknICcKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCWNhdCA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlCdWcgIzQ2CgkJQnVnICM0MgoJCUFja2VkLWJ5PSBQZWZmCgkJUmV2aWV3ZWQtYnk6Sm9oYW4KCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyaW0tZW1wdHkgLS10cmFpbGVyICJhY2s6IFBlZmYiIFwKCQktLXRyYWlsZXIgImJ1ZzogNDIiIC0tdHJhaWxlciAicmV2aWV3OiBKb2hhbiIgXAoJCS0tdHJhaWxlciAiQnVnOiA0NiIgPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndGhlIGRlZmF1bHQgaXMgImlmRXhpc3RzID0gYWRkSWZEaWZmZXJlbnROZWlnaGJvciInICcKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlCdWcgIzQyCgkJRml4ZXM6IFoKCQlBY2tlZC1ieT0gWgoJCUFja2VkLWJ5PSBQZWZmCgkJQWNrZWQtYnk9IEp1bmlvCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJhY2s6IFBlZmYiIC0tdHJhaWxlciAicmV2aWV3OiIgXAoJCS0tdHJhaWxlciAiYWNrOiBKdW5pbyIgLS10cmFpbGVyICJidWc6IDQyIiAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCS0tdHJhaWxlciAiYWNrOiBQZWZmIiA8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdkZWZhdWx0ICJpZkV4aXN0cyIgaXMgbm93ICJhZGRJZkRpZmZlcmVudCInICcKCWdpdCBjb25maWcgdHJhaWxlci5pZmV4aXN0cyAiYWRkSWZEaWZmZXJlbnQiICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQnVnICM0MgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlBY2tlZC1ieT0gUGVmZgoJCUFja2VkLWJ5PSBKdW5pbwoJCVJldmlld2VkLWJ5OgoJCVNpZ25lZC1vZmYtYnk6IFoKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgImFjazogUGVmZiIgLS10cmFpbGVyICJyZXZpZXc6IiBcCgkJLS10cmFpbGVyICJhY2s6IEp1bmlvIiAtLXRyYWlsZXIgImJ1ZzogNDIiIC0tdHJhaWxlciAiYWNrOiBQZWZmIiBcCgkJLS10cmFpbGVyICJhY2s6IFBlZmYiIDxjb21wbGV4X21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3VzaW5nICJpZkV4aXN0cyA9IGFkZElmRGlmZmVyZW50IiB3aXRoICJ3aGVyZSA9IGVuZCInICcKCWdpdCBjb25maWcgdHJhaWxlci5hY2suaWZFeGlzdHMgImFkZElmRGlmZmVyZW50IiAmJgoJZ2l0IGNvbmZpZyB0cmFpbGVyLmFjay53aGVyZSAiZW5kIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUJ1ZyAjNDIKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJUmV2aWV3ZWQtYnk6CgkJU2lnbmVkLW9mZi1ieTogWgoJCUFja2VkLWJ5PSBQZWZmCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJhY2s6IFBlZmYiIC0tdHJhaWxlciAicmV2aWV3OiIgXAoJCS0tdHJhaWxlciAiYnVnOiA0MiIgLS10cmFpbGVyICJhY2s6IFBlZmYiIFwKCQk8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd1c2luZyAiaWZFeGlzdHMgPSBhZGRJZkRpZmZlcmVudCIgd2l0aCAid2hlcmUgPSBiZWZvcmUiJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuYWNrLmlmRXhpc3RzICJhZGRJZkRpZmZlcmVudCIgJiYKCWdpdCBjb25maWcgdHJhaWxlci5hY2sud2hlcmUgImJlZm9yZSIgJiYKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlCdWcgIzQyCgkJRml4ZXM6IFoKCQlBY2tlZC1ieT0gUGVmZgoJCUFja2VkLWJ5PSBaCgkJUmV2aWV3ZWQtYnk6CgkJU2lnbmVkLW9mZi1ieTogWgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiYWNrOiBQZWZmIiAtLXRyYWlsZXIgInJldmlldzoiIFwKCQktLXRyYWlsZXIgImJ1ZzogNDIiIC0tdHJhaWxlciAiYWNrOiBQZWZmIiBcCgkJPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndXNpbmcgImlmRXhpc3RzID0gYWRkSWZEaWZmZXJlbnROZWlnaGJvciIgd2l0aCAid2hlcmUgPSBlbmQiJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuYWNrLmlmRXhpc3RzICJhZGRJZkRpZmZlcmVudE5laWdoYm9yIiAmJgoJZ2l0IGNvbmZpZyB0cmFpbGVyLmFjay53aGVyZSAiZW5kIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUJ1ZyAjNDIKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJUmV2aWV3ZWQtYnk6CgkJU2lnbmVkLW9mZi1ieTogWgoJCUFja2VkLWJ5PSBQZWZmCgkJQWNrZWQtYnk9IEp1bmlvCgkJVGVzdGVkLWJ5OiBKYWt1YgoJCUFja2VkLWJ5PSBKdW5pbwoJCUFja2VkLWJ5PSBQZWZmCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJhY2s6IFBlZmYiIC0tdHJhaWxlciAicmV2aWV3OiIgXAoJCS0tdHJhaWxlciAiYWNrOiBKdW5pbyIgLS10cmFpbGVyICJidWc6IDQyIiBcCgkJLS10cmFpbGVyICJUZXN0ZWQtYnk6IEpha3ViIiAtLXRyYWlsZXIgImFjazogSnVuaW8iIFwKCQktLXRyYWlsZXIgImFjazogSnVuaW8iIC0tdHJhaWxlciAiYWNrOiBQZWZmIiA8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd1c2luZyAiaWZFeGlzdHMgPSBhZGRJZkRpZmZlcmVudE5laWdoYm9yIiAgd2l0aCAid2hlcmUgPSBhZnRlciInICcKCWdpdCBjb25maWcgdHJhaWxlci5hY2suaWZFeGlzdHMgImFkZElmRGlmZmVyZW50TmVpZ2hib3IiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuYWNrLndoZXJlICJhZnRlciIgJiYKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlCdWcgIzQyCgkJRml4ZXM6IFoKCQlBY2tlZC1ieT0gWgoJCUFja2VkLWJ5PSBQZWZmCgkJQWNrZWQtYnk9IEp1bmlvCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJVGVzdGVkLWJ5OiBKYWt1YgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAiYWNrOiBQZWZmIiAtLXRyYWlsZXIgInJldmlldzoiIFwKCQktLXRyYWlsZXIgImFjazogSnVuaW8iIC0tdHJhaWxlciAiYnVnOiA0MiIgXAoJCS0tdHJhaWxlciAiVGVzdGVkLWJ5OiBKYWt1YiIgLS10cmFpbGVyICJhY2s6IEp1bmlvIiBcCgkJLS10cmFpbGVyICJhY2s6IEp1bmlvIiAtLXRyYWlsZXIgImFjazogUGVmZiIgPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndXNpbmcgImlmRXhpc3RzID0gYWRkSWZEaWZmZXJlbnROZWlnaGJvciIgYW5kIC0tdHJpbS1lbXB0eScgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLmFjay5pZkV4aXN0cyAiYWRkSWZEaWZmZXJlbnROZWlnaGJvciIgJiYKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCWNhdCA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlCdWcgIzQyCgkJQWNrZWQtYnk9IFBlZmYKCQlBY2tlZC1ieT0gSnVuaW8KCQlBY2tlZC1ieT0gUGVmZgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJpbS1lbXB0eSAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCS0tdHJhaWxlciAiQWNrZWQtYnk9IFBlZmYiIC0tdHJhaWxlciAicmV2aWV3OiIgXAoJCS0tdHJhaWxlciAiYWNrOiBKdW5pbyIgLS10cmFpbGVyICJidWc6IDQyIiBcCgkJLS10cmFpbGVyICJhY2s6IFBlZmYiIDxjb21wbGV4X21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3VzaW5nICJpZkV4aXN0cyA9IGFkZCIgd2l0aCAid2hlcmUgPSBlbmQiJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuYWNrLmlmRXhpc3RzICJhZGQiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuYWNrLndoZXJlICJlbmQiICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQnVnICM0MgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJQWNrZWQtYnk9IFBlZmYKCQlBY2tlZC1ieT0gUGVmZgoJCVRlc3RlZC1ieTogSmFrdWIKCQlBY2tlZC1ieT0gSnVuaW8KCQlUZXN0ZWQtYnk6IEpvaGFubmVzCgkJQWNrZWQtYnk9IFBlZmYKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCS0tdHJhaWxlciAiQWNrZWQtYnk9IFBlZmYiIC0tdHJhaWxlciAicmV2aWV3OiIgXAoJCS0tdHJhaWxlciAiVGVzdGVkLWJ5OiBKYWt1YiIgLS10cmFpbGVyICJhY2s6IEp1bmlvIiBcCgkJLS10cmFpbGVyICJidWc6IDQyIiAtLXRyYWlsZXIgIlRlc3RlZC1ieTogSm9oYW5uZXMiIFwKCQktLXRyYWlsZXIgImFjazogUGVmZiIgPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndXNpbmcgImlmRXhpc3RzID0gYWRkIiB3aXRoICJ3aGVyZSA9IGFmdGVyIicgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLmFjay5pZkV4aXN0cyAiYWRkIiAmJgoJZ2l0IGNvbmZpZyB0cmFpbGVyLmFjay53aGVyZSAiYWZ0ZXIiICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQnVnICM0MgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlBY2tlZC1ieT0gUGVmZgoJCUFja2VkLWJ5PSBQZWZmCgkJQWNrZWQtYnk9IEp1bmlvCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJhY2s6IFBlZmYiIFwKCQktLXRyYWlsZXIgIkFja2VkLWJ5PSBQZWZmIiAtLXRyYWlsZXIgInJldmlldzoiIFwKCQktLXRyYWlsZXIgImFjazogSnVuaW8iIC0tdHJhaWxlciAiYnVnOiA0MiIgXAoJCS0tdHJhaWxlciAiYWNrOiBQZWZmIiA8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd1c2luZyAiaWZFeGlzdHMgPSByZXBsYWNlIicgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLmZpeC5rZXkgIkZpeGVzOiAiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuZml4LmlmRXhpc3RzICJyZXBsYWNlIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUJ1ZyAjNDIKCQlBY2tlZC1ieT0gWgoJCUFja2VkLWJ5PSBKdW5pbwoJCUFja2VkLWJ5PSBQZWZmCgkJUmV2aWV3ZWQtYnk6CgkJU2lnbmVkLW9mZi1ieTogWgoJCUZpeGVzOiAyMgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAicmV2aWV3OiIgXAoJCS0tdHJhaWxlciAiZml4PTUzIiAtLXRyYWlsZXIgImFjazogSnVuaW8iIC0tdHJhaWxlciAiZml4PTIyIiBcCgkJLS10cmFpbGVyICJidWc6IDQyIiAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCTxjb21wbGV4X21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3VzaW5nICJpZkV4aXN0cyA9IHJlcGxhY2UiIHdpdGggIndoZXJlID0gYWZ0ZXIiJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuZml4LndoZXJlICJhZnRlciIgJiYKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlCdWcgIzQyCgkJRml4ZXM6IDIyCgkJQWNrZWQtYnk9IFoKCQlBY2tlZC1ieT0gSnVuaW8KCQlBY2tlZC1ieT0gUGVmZgoJCVJldmlld2VkLWJ5OgoJCVNpZ25lZC1vZmYtYnk6IFoKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInJldmlldzoiIFwKCQktLXRyYWlsZXIgImZpeD01MyIgLS10cmFpbGVyICJhY2s6IEp1bmlvIiAtLXRyYWlsZXIgImZpeD0yMiIgXAoJCS0tdHJhaWxlciAiYnVnOiA0MiIgLS10cmFpbGVyICJhY2s6IFBlZmYiIFwKCQk8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd1c2luZyAiaWZFeGlzdHMgPSBkb05vdGhpbmciJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuZml4LmlmRXhpc3RzICJkb05vdGhpbmciICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQnVnICM0MgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlBY2tlZC1ieT0gSnVuaW8KCQlBY2tlZC1ieT0gUGVmZgoJCVJldmlld2VkLWJ5OgoJCVNpZ25lZC1vZmYtYnk6IFoKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInJldmlldzoiIC0tdHJhaWxlciAiZml4PTUzIiBcCgkJLS10cmFpbGVyICJhY2s6IEp1bmlvIiAtLXRyYWlsZXIgImZpeD0yMiIgXAoJCS0tdHJhaWxlciAiYnVnOiA0MiIgLS10cmFpbGVyICJhY2s6IFBlZmYiIFwKCQk8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd0aGUgZGVmYXVsdCBpcyAiaWZNaXNzaW5nID0gYWRkIicgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLmNjLmtleSAiQ2M6ICIgJiYKCWdpdCBjb25maWcgdHJhaWxlci5jYy53aGVyZSAiYmVmb3JlIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUJ1ZyAjNDIKCQlDYzogTGludXMKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJQWNrZWQtYnk9IEp1bmlvCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJyZXZpZXc6IiAtLXRyYWlsZXIgImZpeD01MyIgXAoJCS0tdHJhaWxlciAiY2M9TGludXMiIC0tdHJhaWxlciAiYWNrOiBKdW5pbyIgXAoJCS0tdHJhaWxlciAiZml4PTIyIiAtLXRyYWlsZXIgImJ1ZzogNDIiIC0tdHJhaWxlciAiYWNrOiBQZWZmIiBcCgkJPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2hlbiBkZWZhdWx0ICJpZk1pc3NpbmciIGlzICJkb05vdGhpbmciJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuaWZtaXNzaW5nICJkb05vdGhpbmciICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJRml4ZXM6IFoKCQlBY2tlZC1ieT0gWgoJCUFja2VkLWJ5PSBKdW5pbwoJCUFja2VkLWJ5PSBQZWZmCgkJUmV2aWV3ZWQtYnk6CgkJU2lnbmVkLW9mZi1ieTogWgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzIC0tdHJhaWxlciAicmV2aWV3OiIgLS10cmFpbGVyICJmaXg9NTMiIFwKCQktLXRyYWlsZXIgImNjPUxpbnVzIiAtLXRyYWlsZXIgImFjazogSnVuaW8iIFwKCQktLXRyYWlsZXIgImZpeD0yMiIgLS10cmFpbGVyICJidWc6IDQyIiAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCTxjb21wbGV4X21lc3NhZ2UgPmFjdHVhbCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsICYmCglnaXQgY29uZmlnIHRyYWlsZXIuaWZtaXNzaW5nICJhZGQiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3VzaW5nICJpZk1pc3NpbmcgPSBhZGQiIHdpdGggIndoZXJlID0gZW5kIicgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLmNjLmtleSAiQ2M6ICIgJiYKCWdpdCBjb25maWcgdHJhaWxlci5jYy53aGVyZSAiZW5kIiAmJgoJZ2l0IGNvbmZpZyB0cmFpbGVyLmNjLmlmTWlzc2luZyAiYWRkIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUJ1ZyAjNDIKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJQWNrZWQtYnk9IEp1bmlvCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJQ2M6IExpbnVzCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJyZXZpZXc6IiAtLXRyYWlsZXIgImZpeD01MyIgXAoJCS0tdHJhaWxlciAiYWNrOiBKdW5pbyIgLS10cmFpbGVyICJmaXg9MjIiIFwKCQktLXRyYWlsZXIgImJ1ZzogNDIiIC0tdHJhaWxlciAiY2M9TGludXMiIC0tdHJhaWxlciAiYWNrOiBQZWZmIiBcCgkJPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndXNpbmcgImlmTWlzc2luZyA9IGFkZCIgd2l0aCAid2hlcmUgPSBiZWZvcmUiJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuY2Mua2V5ICJDYzogIiAmJgoJZ2l0IGNvbmZpZyB0cmFpbGVyLmNjLndoZXJlICJiZWZvcmUiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuY2MuaWZNaXNzaW5nICJhZGQiICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQ2M6IExpbnVzCgkJQnVnICM0MgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlBY2tlZC1ieT0gSnVuaW8KCQlBY2tlZC1ieT0gUGVmZgoJCVJldmlld2VkLWJ5OgoJCVNpZ25lZC1vZmYtYnk6IFoKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInJldmlldzoiIC0tdHJhaWxlciAiZml4PTUzIiBcCgkJLS10cmFpbGVyICJhY2s6IEp1bmlvIiAtLXRyYWlsZXIgImZpeD0yMiIgXAoJCS0tdHJhaWxlciAiYnVnOiA0MiIgLS10cmFpbGVyICJjYz1MaW51cyIgLS10cmFpbGVyICJhY2s6IFBlZmYiIFwKCQk8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd1c2luZyAiaWZNaXNzaW5nID0gZG9Ob3RoaW5nIicgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLmNjLmlmTWlzc2luZyAiZG9Ob3RoaW5nIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUJ1ZyAjNDIKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJQWNrZWQtYnk9IEp1bmlvCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJyZXZpZXc6IiAtLXRyYWlsZXIgImZpeD01MyIgXAoJCS0tdHJhaWxlciAiY2M9TGludXMiIC0tdHJhaWxlciAiYWNrOiBKdW5pbyIgXAoJCS0tdHJhaWxlciAiZml4PTIyIiAtLXRyYWlsZXIgImJ1ZzogNDIiIC0tdHJhaWxlciAiYWNrOiBQZWZmIiBcCgkJPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZGVmYXVsdCAid2hlcmUiIGlzIG5vdyAiYWZ0ZXIiJyAnCglnaXQgY29uZmlnIHRyYWlsZXIud2hlcmUgImFmdGVyIiAmJgoJZ2l0IGNvbmZpZyAtLXVuc2V0IHRyYWlsZXIuYWNrLndoZXJlICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1cRU9GICYmCgkJQnVnICM0MgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlBY2tlZC1ieT0gUGVmZgoJCUFja2VkLWJ5PSBQZWZmCgkJQWNrZWQtYnk9IEp1bmlvCgkJQWNrZWQtYnk9IFBlZmYKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJVGVzdGVkLWJ5OiBKYWt1YgoJCVRlc3RlZC1ieTogSm9oYW5uZXMKCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgImFjazogUGVmZiIgXAoJCS0tdHJhaWxlciAiQWNrZWQtYnk9IFBlZmYiIC0tdHJhaWxlciAicmV2aWV3OiIgXAoJCS0tdHJhaWxlciAiVGVzdGVkLWJ5OiBKYWt1YiIgLS10cmFpbGVyICJhY2s6IEp1bmlvIiBcCgkJLS10cmFpbGVyICJidWc6IDQyIiAtLXRyYWlsZXIgIlRlc3RlZC1ieTogSm9oYW5uZXMiIFwKCQktLXRyYWlsZXIgImFjazogUGVmZiIgPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2l0aCBzaW1wbGUgY29tbWFuZCcgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLnNpZ24ua2V5ICJTaWduZWQtb2ZmLWJ5OiAiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuc2lnbi53aGVyZSAiYWZ0ZXIiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuc2lnbi5pZkV4aXN0cyAiYWRkSWZEaWZmZXJlbnROZWlnaGJvciIgJiYKCWdpdCBjb25maWcgdHJhaWxlci5zaWduLmNvbW1hbmQgImVjaG8gXCJBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPlwiIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInJldmlldzoiIC0tdHJhaWxlciAiZml4PTIyIiBcCgkJPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2l0aCBjb21tYW5kIHVzaW5nIGNvbW1pdGVyIGluZm9ybWF0aW9uJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuc2lnbi5pZkV4aXN0cyAiYWRkSWZEaWZmZXJlbnQiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuc2lnbi5jb21tYW5kICJlY2hvIFwiXCRHSVRfQ09NTUlUVEVSX05BTUUgPFwkR0lUX0NPTU1JVFRFUl9FTUFJTD5cIiIgJiYKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LVxFT0YgJiYKCQlGaXhlczogWgoJCUFja2VkLWJ5PSBaCgkJUmV2aWV3ZWQtYnk6CgkJU2lnbmVkLW9mZi1ieTogWgoJCVNpZ25lZC1vZmYtYnk6IEMgTyBNaXR0ZXIgPGNvbW1pdHRlckBleGFtcGxlLmNvbT4KCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInJldmlldzoiIC0tdHJhaWxlciAiZml4PTIyIiBcCgkJPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2l0aCBjb21tYW5kIHVzaW5nIGF1dGhvciBpbmZvcm1hdGlvbicgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLnNpZ24ua2V5ICJTaWduZWQtb2ZmLWJ5OiAiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuc2lnbi53aGVyZSAiYWZ0ZXIiICYmCglnaXQgY29uZmlnIHRyYWlsZXIuc2lnbi5pZkV4aXN0cyAiYWRkSWZEaWZmZXJlbnROZWlnaGJvciIgJiYKCWdpdCBjb25maWcgdHJhaWxlci5zaWduLmNvbW1hbmQgImVjaG8gXCJcJEdJVF9BVVRIT1JfTkFNRSA8XCRHSVRfQVVUSE9SX0VNQUlMPlwiIiAmJgoJY2F0IGNvbXBsZXhfbWVzc2FnZV9ib2R5ID5leHBlY3RlZCAmJgoJc2VkIC1lICJzLyBaXCQvIC8iID4+ZXhwZWN0ZWQgPDwtXEVPRiAmJgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInJldmlldzoiIC0tdHJhaWxlciAiZml4PTIyIiBcCgkJPGNvbXBsZXhfbWVzc2FnZSA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0dXAgYSBjb21taXQnICcKCWVjaG8gIkNvbnRlbnQgb2YgdGhlIGZpcnN0IGNvbW1pdC4iID4gYS50eHQgJiYKCWdpdCBhZGQgYS50eHQgJiYKCWdpdCBjb21taXQgLW0gIkFkZCBmaWxlIGEudHh0IgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIGNvbW1hbmQgdXNpbmcgJEFSRycgJwoJZ2l0IGNvbmZpZyB0cmFpbGVyLmZpeC5pZkV4aXN0cyAicmVwbGFjZSIgJiYKCWdpdCBjb25maWcgdHJhaWxlci5maXguY29tbWFuZCAiZ2l0IGxvZyAtMSAtLW9uZWxpbmUgLS1mb3JtYXQ9XCIlaCAoJXMpXCIgLS1hYmJyZXYtY29tbWl0IC0tYWJicmV2PTE0IFwkQVJHIiAmJgoJRklYRUQ9JChnaXQgbG9nIC0xIC0tb25lbGluZSAtLWZvcm1hdD0iJWggKCVzKSIgLS1hYmJyZXYtY29tbWl0IC0tYWJicmV2PTE0IEhFQUQpICYmCgljYXQgY29tcGxleF9tZXNzYWdlX2JvZHkgPmV4cGVjdGVkICYmCglzZWQgLWUgInMvIFpcJC8gLyIgPj5leHBlY3RlZCA8PC1FT0YgJiYKCQlGaXhlczogJEZJWEVECgkJQWNrZWQtYnk9IFoKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInJldmlldzoiIC0tdHJhaWxlciAiZml4PUhFQUQiIFwKCQk8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIGZhaWxpbmcgY29tbWFuZCB1c2luZyAkQVJHJyAnCglnaXQgY29uZmlnIHRyYWlsZXIuZml4LmlmRXhpc3RzICJyZXBsYWNlIiAmJgoJZ2l0IGNvbmZpZyB0cmFpbGVyLmZpeC5jb21tYW5kICJmYWxzZSBcJEFSRyIgJiYKCWNhdCBjb21wbGV4X21lc3NhZ2VfYm9keSA+ZXhwZWN0ZWQgJiYKCXNlZCAtZSAicy8gWlwkLyAvIiA+PmV4cGVjdGVkIDw8LUVPRiAmJgoJCUZpeGVzOiBaCgkJQWNrZWQtYnk9IFoKCQlSZXZpZXdlZC1ieToKCQlTaWduZWQtb2ZmLWJ5OiBaCgkJU2lnbmVkLW9mZi1ieTogQSBVIFRob3IgPGF1dGhvckBleGFtcGxlLmNvbT4KCUVPRgoJZ2l0IGludGVycHJldC10cmFpbGVycyAtLXRyYWlsZXIgInJldmlldzoiIC0tdHJhaWxlciAiZml4PUhFQUQiIFwKCQk8Y29tcGxleF9tZXNzYWdlID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIGVtcHR5IHRva2VucycgJwoJZ2l0IGNvbmZpZyAtLXVuc2V0IHRyYWlsZXIuZml4LmNvbW1hbmQgJiYKCWNhdCA+ZXhwZWN0ZWQgPDwtRU9GICYmCgoJCVNpZ25lZC1vZmYtYnk6IEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+CglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICI6IiAtLXRyYWlsZXIgIjp0ZXN0IiA+YWN0dWFsIDw8LUVPRiAmJgoJRU9GCgl0ZXN0X2NtcCBleHBlY3RlZCBhY3R1YWwKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnd2l0aCBjb21tYW5kIGJ1dCBubyBrZXknICcKCWdpdCBjb25maWcgLS11bnNldCB0cmFpbGVyLnNpZ24ua2V5ICYmCgljYXQgPmV4cGVjdGVkIDw8LUVPRiAmJgoKCQlzaWduOiBBIFUgVGhvciA8YXV0aG9yQGV4YW1wbGUuY29tPgoJRU9GCglnaXQgaW50ZXJwcmV0LXRyYWlsZXJzID5hY3R1YWwgPDwtRU9GICYmCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICd3aXRoIG5vIGNvbW1hbmQgYW5kIG5vIGtleScgJwoJZ2l0IGNvbmZpZyAtLXVuc2V0IHRyYWlsZXIucmV2aWV3LmtleSAmJgoJY2F0ID5leHBlY3RlZCA8PC1FT0YgJiYKCgkJcmV2aWV3OiBKdW5pbwoJCXNpZ246IEEgVSBUaG9yIDxhdXRob3JAZXhhbXBsZS5jb20+CglFT0YKCWdpdCBpbnRlcnByZXQtdHJhaWxlcnMgLS10cmFpbGVyICJyZXZpZXc6SnVuaW8iID5hY3R1YWwgPDwtRU9GICYmCglFT0YKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2RvbmUK",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2013, 2014 Christian Couder\n#\n\ntest_description='git interpret-trailers'\n\n. ./test-lib.sh\n\n# When we want one trailing space at the end of each line, let's use sed\n# to make sure that these spaces are not removed by any automatic tool.\n\ntest_expect_success 'setup' '\n\t: >empty &&\n\tcat >basic_message <<-\\EOF &&\n\t\tsubject\n\n\t\tbody\n\tEOF\n\tcat >complex_message_body <<-\\EOF &&\n\t\tmy subject\n\n\t\tmy body which is long\n\t\tand contains some special\n\t\tchars like : = ? !\n\n\tEOF\n\tsed -e \"s/ Z\\$/ /\" >complex_message_trailers <<-\\EOF &&\n\t\tFixes: Z\n\t\tAcked-by: Z\n\t\tReviewed-by: Z\n\t\tSigned-off-by: Z\n\tEOF\n\tcat >basic_patch <<-\\EOF\n\t\t---\n\t\t foo.txt | 2 +-\n\t\t 1 file changed, 1 insertion(+), 1 deletion(-)\n\n\t\tdiff --git a/foo.txt b/foo.txt\n\t\tindex 0353767..1d91aa1 100644\n\t\t--- a/foo.txt\n\t\t+++ b/foo.txt\n\t\t@@ -1,3 +1,3 @@\n\n\t\t-bar\n\t\t+baz\n\n\t\t--\n\t\t1.9.rc0.11.ga562ddc\n\n\tEOF\n'\n\ntest_expect_success 'without config' '\n\tsed -e \"s/ Z\\$/ /\" >expected <<-\\EOF &&\n\n\t\tack: Peff\n\t\tReviewed-by: Z\n\t\tAcked-by: Johan\n\tEOF\n\tgit interpret-trailers --trailer \"ack = Peff\" --trailer \"Reviewed-by\" \\\n\t\t--trailer \"Acked-by: Johan\" empty >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'without config in another order' '\n\tsed -e \"s/ Z\\$/ /\" >expected <<-\\EOF &&\n\n\t\tAcked-by: Johan\n\t\tReviewed-by: Z\n\t\tack: Peff\n\tEOF\n\tgit interpret-trailers --trailer \"Acked-by: Johan\" --trailer \"Reviewed-by\" \\\n\t\t--trailer \"ack = Peff\" empty >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success '--trim-empty without config' '\n\tcat >expected <<-\\EOF &&\n\n\t\tack: Peff\n\t\tAcked-by: Johan\n\tEOF\n\tgit interpret-trailers --trim-empty --trailer ack=Peff \\\n\t\t--trailer \"Reviewed-by\" --trailer \"Acked-by: Johan\" \\\n\t\t--trailer \"sob:\" empty >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with config option on the command line' '\n\tcat >expected <<-\\EOF &&\n\n\t\tAcked-by: Johan\n\t\tReviewed-by: Peff\n\tEOF\n\t{ echo; echo \"Acked-by: Johan\"; } |\n\tgit -c \"trailer.Acked-by.ifexists=addifdifferent\" interpret-trailers \\\n\t\t--trailer \"Reviewed-by: Peff\" --trailer \"Acked-by: Johan\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with only a title in the message' '\n\tcat >expected <<-\\EOF &&\n\t\tarea: change\n\n\t\tReviewed-by: Peff\n\t\tAcked-by: Johan\n\tEOF\n\techo \"area: change\" |\n\tgit interpret-trailers --trailer \"Reviewed-by: Peff\" \\\n\t\t--trailer \"Acked-by: Johan\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with multiline title in the message' '\n\tcat >expected <<-\\EOF &&\n\t\tplace of\n\t\tcode: change\n\n\t\tReviewed-by: Peff\n\t\tAcked-by: Johan\n\tEOF\n\tprintf \"%s\\n\" \"place of\" \"code: change\" |\n\tgit interpret-trailers --trailer \"Reviewed-by: Peff\" \\\n\t\t--trailer \"Acked-by: Johan\" >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with non-trailer lines mixed with Signed-off-by' '\n\tcat >patch <<-\\EOF &&\n\n\t\tthis is not a trailer\n\t\tthis is not a trailer\n\t\tSigned-off-by: a <a@example.com>\n\t\tthis is not a trailer\n\tEOF\n\tcat >expected <<-\\EOF &&\n\n\t\tthis is not a trailer\n\t\tthis is not a trailer\n\t\tSigned-off-by: a <a@example.com>\n\t\tthis is not a trailer\n\t\ttoken: value\n\tEOF\n\tgit interpret-trailers --trailer \"token: value\" patch >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with non-trailer lines mixed with cherry picked from' '\n\tcat >patch <<-\\EOF &&\n\n\t\tthis is not a trailer\n\t\tthis is not a trailer\n\t\t(cherry picked from commit x)\n\t\tthis is not a trailer\n\tEOF\n\tcat >expected <<-\\EOF &&\n\n\t\tthis is not a trailer\n\t\tthis is not a trailer\n\t\t(cherry picked from commit x)\n\t\tthis is not a trailer\n\t\ttoken: value\n\tEOF\n\tgit interpret-trailers --trailer \"token: value\" patch >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with non-trailer lines mixed with a configured trailer' '\n\tcat >patch <<-\\EOF &&\n\n\t\tthis is not a trailer\n\t\tthis is not a trailer\n\t\tMy-trailer: x\n\t\tthis is not a trailer\n\tEOF\n\tcat >expected <<-\\EOF &&\n\n\t\tthis is not a trailer\n\t\tthis is not a trailer\n\t\tMy-trailer: x\n\t\tthis is not a trailer\n\t\ttoken: value\n\tEOF\n\ttest_config trailer.my.key \"My-trailer: \" &&\n\tgit interpret-trailers --trailer \"token: value\" patch >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with non-trailer lines mixed with a non-configured trailer' '\n\tcat >patch <<-\\EOF &&\n\n\t\tthis is not a trailer\n\t\tthis is not a trailer\n\t\tI-am-not-configured: x\n\t\tthis is not a trailer\n\tEOF\n\tcat >expected <<-\\EOF &&\n\n\t\tthis is not a trailer\n\t\tthis is not a trailer\n\t\tI-am-not-configured: x\n\t\tthis is not a trailer\n\n\t\ttoken: value\n\tEOF\n\ttest_config trailer.my.key \"My-trailer: \" &&\n\tgit interpret-trailers --trailer \"token: value\" patch >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with all non-configured trailers' '\n\tcat >patch <<-\\EOF &&\n\n\t\tI-am-not-configured: x\n\t\tI-am-also-not-configured: x\n\tEOF\n\tcat >expected <<-\\EOF &&\n\n\t\tI-am-not-configured: x\n\t\tI-am-also-not-configured: x\n\t\ttoken: value\n\tEOF\n\ttest_config trailer.my.key \"My-trailer: \" &&\n\tgit interpret-trailers --trailer \"token: value\" patch >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with non-trailer lines only' '\n\tcat >patch <<-\\EOF &&\n\n\t\tthis is not a trailer\n\tEOF\n\tcat >expected <<-\\EOF &&\n\n\t\tthis is not a trailer\n\n\t\ttoken: value\n\tEOF\n\tgit interpret-trailers --trailer \"token: value\" patch >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with config setup' '\n\tgit config trailer.ack.key \"Acked-by: \" &&\n\tcat >expected <<-\\EOF &&\n\n\t\tAcked-by: Peff\n\tEOF\n\tgit interpret-trailers --trim-empty --trailer \"ack = Peff\" empty >actual &&\n\ttest_cmp expected actual &&\n\tgit interpret-trailers --trim-empty --trailer \"Acked-by = Peff\" empty >actual &&\n\ttest_cmp expected actual &&\n\tgit interpret-trailers --trim-empty --trailer \"Acked-by :Peff\" empty >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with config setup and \":=\" as separators' '\n\tgit config trailer.separators \":=\" &&\n\tgit config trailer.ack.key \"Acked-by= \" &&\n\tcat >expected <<-\\EOF &&\n\n\t\tAcked-by= Peff\n\tEOF\n\tgit interpret-trailers --trim-empty --trailer \"ack = Peff\" empty >actual &&\n\ttest_cmp expected actual &&\n\tgit interpret-trailers --trim-empty --trailer \"Acked-by= Peff\" empty >actual &&\n\ttest_cmp expected actual &&\n\tgit interpret-trailers --trim-empty --trailer \"Acked-by : Peff\" empty >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with config setup and \"%\" as separators' '\n\tgit config trailer.separators \"%\" &&\n\tcat >expected <<-\\EOF &&\n\n\t\tbug% 42\n\t\tcount% 10\n\t\tbug% 422\n\tEOF\n\tgit interpret-trailers --trim-empty --trailer \"bug = 42\" \\\n\t\t--trailer count%10 --trailer \"test: stuff\" \\\n\t\t--trailer \"bug % 422\" empty >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with \"%\" as separators and a message with trailers' '\n\tcat >special_message <<-\\EOF &&\n\t\tSpecial Message\n\n\t\tbug% 42\n\t\tcount% 10\n\t\tbug% 422\n\tEOF\n\tcat >expected <<-\\EOF &&\n\t\tSpecial Message\n\n\t\tbug% 42\n\t\tcount% 10\n\t\tbug% 422\n\t\tcount% 100\n\tEOF\n\tgit interpret-trailers --trailer count%100 \\\n\t\tspecial_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with config setup and \":=#\" as separators' '\n\tgit config trailer.separators \":=#\" &&\n\tgit config trailer.bug.key \"Bug #\" &&\n\tcat >expected <<-\\EOF &&\n\n\t\tBug #42\n\tEOF\n\tgit interpret-trailers --trim-empty --trailer \"bug = 42\" empty >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with commit basic message' '\n\tcat basic_message >expected &&\n\techo >>expected &&\n\tgit interpret-trailers <basic_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with basic patch' '\n\tcat basic_message >input &&\n\tcat basic_patch >>input &&\n\tcat basic_message >expected &&\n\techo >>expected &&\n\tcat basic_patch >>expected &&\n\tgit interpret-trailers <input >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with commit complex message as argument' '\n\tcat complex_message_body complex_message_trailers >complex_message &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by: Z\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with 2 files arguments' '\n\tcat basic_message >>expected &&\n\techo >>expected &&\n\tcat basic_patch >>expected &&\n\tgit interpret-trailers complex_message input >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with message that has comments' '\n\tcat basic_message >message_with_comments &&\n\tsed -e \"s/ Z\\$/ /\" >>message_with_comments <<-\\EOF &&\n\t\t# comment\n\n\t\t# other comment\n\t\tCc: Z\n\t\t# yet another comment\n\t\tReviewed-by: Johan\n\t\tReviewed-by: Z\n\t\t# last comment\n\n\tEOF\n\tcat basic_patch >>message_with_comments &&\n\tcat basic_message >expected &&\n\tcat >>expected <<-\\EOF &&\n\t\t# comment\n\n\t\tReviewed-by: Johan\n\t\tCc: Peff\n\t\t# last comment\n\n\tEOF\n\tcat basic_patch >>expected &&\n\tgit interpret-trailers --trim-empty --trailer \"Cc: Peff\" message_with_comments >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with message that has an old style conflict block' '\n\tcat basic_message >message_with_comments &&\n\tsed -e \"s/ Z\\$/ /\" >>message_with_comments <<-\\EOF &&\n\t\t# comment\n\n\t\t# other comment\n\t\tCc: Z\n\t\t# yet another comment\n\t\tReviewed-by: Johan\n\t\tReviewed-by: Z\n\t\t# last comment\n\n\t\tConflicts:\n\n\tEOF\n\tcat basic_message >expected &&\n\tcat >>expected <<-\\EOF &&\n\t\t# comment\n\n\t\tReviewed-by: Johan\n\t\tCc: Peff\n\t\t# last comment\n\n\t\tConflicts:\n\n\tEOF\n\tgit interpret-trailers --trim-empty --trailer \"Cc: Peff\" message_with_comments >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with commit complex message and trailer args' '\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by: Z\n\t\tSigned-off-by: Z\n\t\tAcked-by= Peff\n\t\tBug #42\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" \\\n\t\t--trailer \"bug: 42\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with complex patch, args and --trim-empty' '\n\tcat complex_message >complex_patch &&\n\tcat basic_patch >>complex_patch &&\n\tcat complex_message_body >expected &&\n\tcat >>expected <<-\\EOF &&\n\t\tAcked-by= Peff\n\t\tBug #42\n\tEOF\n\tcat basic_patch >>expected &&\n\tgit interpret-trailers --trim-empty --trailer \"ack: Peff\" \\\n\t\t--trailer \"bug: 42\" <complex_patch >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'in-place editing with basic patch' '\n\tcat basic_message >message &&\n\tcat basic_patch >>message &&\n\tcat basic_message >expected &&\n\techo >>expected &&\n\tcat basic_patch >>expected &&\n\tgit interpret-trailers --in-place message &&\n\ttest_cmp expected message\n'\n\ntest_expect_success 'in-place editing with additional trailer' '\n\tcat basic_message >message &&\n\tcat basic_patch >>message &&\n\tcat basic_message >expected &&\n\techo >>expected &&\n\tcat >>expected <<-\\EOF &&\n\t\tReviewed-by: Alice\n\tEOF\n\tcat basic_patch >>expected &&\n\tgit interpret-trailers --trailer \"Reviewed-by: Alice\" --in-place message &&\n\ttest_cmp expected message\n'\n\ntest_expect_success 'in-place editing on stdin disallowed' '\n\ttest_must_fail git interpret-trailers --trailer \"Reviewed-by: Alice\" --in-place < basic_message\n'\n\ntest_expect_success 'in-place editing on non-existing file' '\n\ttest_must_fail git interpret-trailers --trailer \"Reviewed-by: Alice\" --in-place nonexisting &&\n\ttest_path_is_missing nonexisting\n'\n\ntest_expect_success POSIXPERM,SANITY \"in-place editing doesn't clobber original file on error\" '\n\tcat basic_message >message &&\n\tchmod -r message &&\n\ttest_must_fail git interpret-trailers --trailer \"Reviewed-by: Alice\" --in-place message &&\n\tchmod +r message &&\n\ttest_cmp message basic_message\n'\n\ntest_expect_success 'using \"where = before\"' '\n\tgit config trailer.bug.where \"before\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by: Z\n\t\tSigned-off-by: Z\n\t\tAcked-by= Peff\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" \\\n\t\t--trailer \"bug: 42\" complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"where = after\"' '\n\tgit config trailer.ack.where \"after\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tReviewed-by: Z\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" \\\n\t\t--trailer \"bug: 42\" complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"where = end\"' '\n\tgit config trailer.review.key \"Reviewed-by\" &&\n\tgit config trailer.review.where \"end\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tReviewed-by: Z\n\t\tSigned-off-by: Z\n\t\tReviewed-by: Junio\n\t\tReviewed-by: Johannes\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" \\\n\t\t--trailer \"Reviewed-by: Junio\" --trailer \"Reviewed-by: Johannes\" \\\n\t\tcomplex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"where = start\"' '\n\tgit config trailer.review.key \"Reviewed-by\" &&\n\tgit config trailer.review.where \"start\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tReviewed-by: Johannes\n\t\tReviewed-by: Junio\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tReviewed-by: Z\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" \\\n\t\t--trailer \"Reviewed-by: Junio\" --trailer \"Reviewed-by: Johannes\" \\\n\t\tcomplex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"where = before\" for a token in the middle of the message' '\n\tgit config trailer.review.key \"Reviewed-by:\" &&\n\tgit config trailer.review.where \"before\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tReviewed-by:Johan\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" --trailer \"bug: 42\" \\\n\t\t--trailer \"review: Johan\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"where = before\" and --trim-empty' '\n\tcat complex_message_body >expected &&\n\tcat >>expected <<-\\EOF &&\n\t\tBug #46\n\t\tBug #42\n\t\tAcked-by= Peff\n\t\tReviewed-by:Johan\n\tEOF\n\tgit interpret-trailers --trim-empty --trailer \"ack: Peff\" \\\n\t\t--trailer \"bug: 42\" --trailer \"review: Johan\" \\\n\t\t--trailer \"Bug: 46\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'the default is \"ifExists = addIfDifferentNeighbor\"' '\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" --trailer \"review:\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t--trailer \"ack: Peff\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'default \"ifExists\" is now \"addIfDifferent\"' '\n\tgit config trailer.ifexists \"addIfDifferent\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tAcked-by= Junio\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" --trailer \"review:\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t--trailer \"ack: Peff\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = addIfDifferent\" with \"where = end\"' '\n\tgit config trailer.ack.ifExists \"addIfDifferent\" &&\n\tgit config trailer.ack.where \"end\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tAcked-by= Peff\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" --trailer \"review:\" \\\n\t\t--trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = addIfDifferent\" with \"where = before\"' '\n\tgit config trailer.ack.ifExists \"addIfDifferent\" &&\n\tgit config trailer.ack.where \"before\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Peff\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" --trailer \"review:\" \\\n\t\t--trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = addIfDifferentNeighbor\" with \"where = end\"' '\n\tgit config trailer.ack.ifExists \"addIfDifferentNeighbor\" &&\n\tgit config trailer.ack.where \"end\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tAcked-by= Peff\n\t\tAcked-by= Junio\n\t\tTested-by: Jakub\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" --trailer \"review:\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"bug: 42\" \\\n\t\t--trailer \"Tested-by: Jakub\" --trailer \"ack: Junio\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"ack: Peff\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = addIfDifferentNeighbor\"  with \"where = after\"' '\n\tgit config trailer.ack.ifExists \"addIfDifferentNeighbor\" &&\n\tgit config trailer.ack.where \"after\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tTested-by: Jakub\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" --trailer \"review:\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"bug: 42\" \\\n\t\t--trailer \"Tested-by: Jakub\" --trailer \"ack: Junio\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"ack: Peff\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = addIfDifferentNeighbor\" and --trim-empty' '\n\tgit config trailer.ack.ifExists \"addIfDifferentNeighbor\" &&\n\tcat complex_message_body >expected &&\n\tcat >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tAcked-by= Peff\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\tEOF\n\tgit interpret-trailers --trim-empty --trailer \"ack: Peff\" \\\n\t\t--trailer \"Acked-by= Peff\" --trailer \"review:\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"bug: 42\" \\\n\t\t--trailer \"ack: Peff\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = add\" with \"where = end\"' '\n\tgit config trailer.ack.ifExists \"add\" &&\n\tgit config trailer.ack.where \"end\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tAcked-by= Peff\n\t\tAcked-by= Peff\n\t\tTested-by: Jakub\n\t\tAcked-by= Junio\n\t\tTested-by: Johannes\n\t\tAcked-by= Peff\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" \\\n\t\t--trailer \"Acked-by= Peff\" --trailer \"review:\" \\\n\t\t--trailer \"Tested-by: Jakub\" --trailer \"ack: Junio\" \\\n\t\t--trailer \"bug: 42\" --trailer \"Tested-by: Johannes\" \\\n\t\t--trailer \"ack: Peff\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = add\" with \"where = after\"' '\n\tgit config trailer.ack.ifExists \"add\" &&\n\tgit config trailer.ack.where \"after\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tAcked-by= Peff\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" \\\n\t\t--trailer \"Acked-by= Peff\" --trailer \"review:\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"bug: 42\" \\\n\t\t--trailer \"ack: Peff\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = replace\"' '\n\tgit config trailer.fix.key \"Fixes: \" &&\n\tgit config trailer.fix.ifExists \"replace\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tAcked-by= Z\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tFixes: 22\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" \\\n\t\t--trailer \"fix=53\" --trailer \"ack: Junio\" --trailer \"fix=22\" \\\n\t\t--trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = replace\" with \"where = after\"' '\n\tgit config trailer.fix.where \"after\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: 22\n\t\tAcked-by= Z\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" \\\n\t\t--trailer \"fix=53\" --trailer \"ack: Junio\" --trailer \"fix=22\" \\\n\t\t--trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifExists = doNothing\"' '\n\tgit config trailer.fix.ifExists \"doNothing\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=53\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"fix=22\" \\\n\t\t--trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'the default is \"ifMissing = add\"' '\n\tgit config trailer.cc.key \"Cc: \" &&\n\tgit config trailer.cc.where \"before\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tCc: Linus\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=53\" \\\n\t\t--trailer \"cc=Linus\" --trailer \"ack: Junio\" \\\n\t\t--trailer \"fix=22\" --trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'when default \"ifMissing\" is \"doNothing\"' '\n\tgit config trailer.ifmissing \"doNothing\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=53\" \\\n\t\t--trailer \"cc=Linus\" --trailer \"ack: Junio\" \\\n\t\t--trailer \"fix=22\" --trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual &&\n\tgit config trailer.ifmissing \"add\"\n'\n\ntest_expect_success 'using \"ifMissing = add\" with \"where = end\"' '\n\tgit config trailer.cc.key \"Cc: \" &&\n\tgit config trailer.cc.where \"end\" &&\n\tgit config trailer.cc.ifMissing \"add\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tCc: Linus\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=53\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"fix=22\" \\\n\t\t--trailer \"bug: 42\" --trailer \"cc=Linus\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifMissing = add\" with \"where = before\"' '\n\tgit config trailer.cc.key \"Cc: \" &&\n\tgit config trailer.cc.where \"before\" &&\n\tgit config trailer.cc.ifMissing \"add\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tCc: Linus\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=53\" \\\n\t\t--trailer \"ack: Junio\" --trailer \"fix=22\" \\\n\t\t--trailer \"bug: 42\" --trailer \"cc=Linus\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'using \"ifMissing = doNothing\"' '\n\tgit config trailer.cc.ifMissing \"doNothing\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=53\" \\\n\t\t--trailer \"cc=Linus\" --trailer \"ack: Junio\" \\\n\t\t--trailer \"fix=22\" --trailer \"bug: 42\" --trailer \"ack: Peff\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'default \"where\" is now \"after\"' '\n\tgit config trailer.where \"after\" &&\n\tgit config --unset trailer.ack.where &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tBug #42\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tAcked-by= Peff\n\t\tAcked-by= Peff\n\t\tAcked-by= Junio\n\t\tAcked-by= Peff\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tTested-by: Jakub\n\t\tTested-by: Johannes\n\tEOF\n\tgit interpret-trailers --trailer \"ack: Peff\" \\\n\t\t--trailer \"Acked-by= Peff\" --trailer \"review:\" \\\n\t\t--trailer \"Tested-by: Jakub\" --trailer \"ack: Junio\" \\\n\t\t--trailer \"bug: 42\" --trailer \"Tested-by: Johannes\" \\\n\t\t--trailer \"ack: Peff\" <complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with simple command' '\n\tgit config trailer.sign.key \"Signed-off-by: \" &&\n\tgit config trailer.sign.where \"after\" &&\n\tgit config trailer.sign.ifExists \"addIfDifferentNeighbor\" &&\n\tgit config trailer.sign.command \"echo \\\"A U Thor <author@example.com>\\\"\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tSigned-off-by: A U Thor <author@example.com>\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=22\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with command using commiter information' '\n\tgit config trailer.sign.ifExists \"addIfDifferent\" &&\n\tgit config trailer.sign.command \"echo \\\"\\$GIT_COMMITTER_NAME <\\$GIT_COMMITTER_EMAIL>\\\"\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tSigned-off-by: C O Mitter <committer@example.com>\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=22\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with command using author information' '\n\tgit config trailer.sign.key \"Signed-off-by: \" &&\n\tgit config trailer.sign.where \"after\" &&\n\tgit config trailer.sign.ifExists \"addIfDifferentNeighbor\" &&\n\tgit config trailer.sign.command \"echo \\\"\\$GIT_AUTHOR_NAME <\\$GIT_AUTHOR_EMAIL>\\\"\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-\\EOF &&\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tSigned-off-by: A U Thor <author@example.com>\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=22\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'setup a commit' '\n\techo \"Content of the first commit.\" > a.txt &&\n\tgit add a.txt &&\n\tgit commit -m \"Add file a.txt\"\n'\n\ntest_expect_success 'with command using $ARG' '\n\tgit config trailer.fix.ifExists \"replace\" &&\n\tgit config trailer.fix.command \"git log -1 --oneline --format=\\\"%h (%s)\\\" --abbrev-commit --abbrev=14 \\$ARG\" &&\n\tFIXED=$(git log -1 --oneline --format=\"%h (%s)\" --abbrev-commit --abbrev=14 HEAD) &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-EOF &&\n\t\tFixes: $FIXED\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tSigned-off-by: A U Thor <author@example.com>\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=HEAD\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with failing command using $ARG' '\n\tgit config trailer.fix.ifExists \"replace\" &&\n\tgit config trailer.fix.command \"false \\$ARG\" &&\n\tcat complex_message_body >expected &&\n\tsed -e \"s/ Z\\$/ /\" >>expected <<-EOF &&\n\t\tFixes: Z\n\t\tAcked-by= Z\n\t\tReviewed-by:\n\t\tSigned-off-by: Z\n\t\tSigned-off-by: A U Thor <author@example.com>\n\tEOF\n\tgit interpret-trailers --trailer \"review:\" --trailer \"fix=HEAD\" \\\n\t\t<complex_message >actual &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with empty tokens' '\n\tgit config --unset trailer.fix.command &&\n\tcat >expected <<-EOF &&\n\n\t\tSigned-off-by: A U Thor <author@example.com>\n\tEOF\n\tgit interpret-trailers --trailer \":\" --trailer \":test\" >actual <<-EOF &&\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with command but no key' '\n\tgit config --unset trailer.sign.key &&\n\tcat >expected <<-EOF &&\n\n\t\tsign: A U Thor <author@example.com>\n\tEOF\n\tgit interpret-trailers >actual <<-EOF &&\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_expect_success 'with no command and no key' '\n\tgit config --unset trailer.review.key &&\n\tcat >expected <<-EOF &&\n\n\t\treview: Junio\n\t\tsign: A U Thor <author@example.com>\n\tEOF\n\tgit interpret-trailers --trailer \"review:Junio\" >actual <<-EOF &&\n\tEOF\n\ttest_cmp expected actual\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "003e90f8cf94f0bb2e70b47f59b54bf20c50c777",
  "sha1_ok": true,
  "size": 28440
}
