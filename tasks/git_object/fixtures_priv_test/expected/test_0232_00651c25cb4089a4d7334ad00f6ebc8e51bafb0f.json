{
  "content": {
    "base64": "IyEvYmluL3NoCiMKIyBDb3B5cmlnaHQgKGMpIDIwMDkgUmVkIEhhdCwgSW5jLgojCgp0ZXN0X2Rlc2NyaXB0aW9uPSdUZXN0IHVwZGF0aW5nIHN1Ym1vZHVsZXMKClRoaXMgdGVzdCB2ZXJpZmllcyB0aGF0ICJnaXQgc3VibW9kdWxlIHVwZGF0ZSIgZGV0YWNoZXMgdGhlIEhFQUQgb2YgdGhlCnN1Ym1vZHVsZSBhbmQgImdpdCBzdWJtb2R1bGUgdXBkYXRlIC0tcmViYXNlLy0tbWVyZ2UiIGRvZXMgbm90IGRldGFjaCB0aGUgSEVBRC4KJwoKR0lUX1RFU1RfREVGQVVMVF9JTklUSUFMX0JSQU5DSF9OQU1FPW1haW4KZXhwb3J0IEdJVF9URVNUX0RFRkFVTFRfSU5JVElBTF9CUkFOQ0hfTkFNRQoKLiAuL3Rlc3QtbGliLnNoCgoKY29tcGFyZV9oZWFkKCkKewogICAgc2hhX21haW49JChnaXQgcmV2LWxpc3QgLS1tYXgtY291bnQ9MSBtYWluKQogICAgc2hhX2hlYWQ9JChnaXQgcmV2LWxpc3QgLS1tYXgtY291bnQ9MSBIRUFEKQoKICAgIHRlc3QgIiRzaGFfbWFpbiIgPSAiJHNoYV9oZWFkIgp9CgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc2V0dXAgYSBzdWJtb2R1bGUgdHJlZScgJwoJZ2l0IGNvbmZpZyAtLWdsb2JhbCBwcm90b2NvbC5maWxlLmFsbG93IGFsd2F5cyAmJgoJZWNobyBmaWxlID4gZmlsZSAmJgoJZ2l0IGFkZCBmaWxlICYmCgl0ZXN0X3RpY2sgJiYKCWdpdCBjb21taXQgLW0gdXBzdHJlYW0gJiYKCWdpdCBjbG9uZSAuIHN1cGVyICYmCglnaXQgY2xvbmUgc3VwZXIgc3VibW9kdWxlICYmCglnaXQgY2xvbmUgc3VwZXIgcmViYXNpbmcgJiYKCWdpdCBjbG9uZSBzdXBlciBtZXJnaW5nICYmCglnaXQgY2xvbmUgc3VwZXIgbm9uZSAmJgoJKGNkIHN1cGVyICYmCgkgZ2l0IHN1Ym1vZHVsZSBhZGQgLi4vc3VibW9kdWxlIHN1Ym1vZHVsZSAmJgoJIHRlc3RfdGljayAmJgoJIGdpdCBjb21taXQgLW0gInN1Ym1vZHVsZSIgJiYKCSBnaXQgc3VibW9kdWxlIGluaXQgc3VibW9kdWxlCgkpICYmCgkoY2Qgc3VibW9kdWxlICYmCgllY2hvICJsaW5lMiIgPiBmaWxlICYmCglnaXQgYWRkIGZpbGUgJiYKCWdpdCBjb21taXQgLW0gIkNvbW1pdCAyIgoJKSAmJgoJKGNkIHN1cGVyICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBnaXQgcHVsbCAtLXJlYmFzZSBvcmlnaW4KCSApICYmCgkgZ2l0IGFkZCBzdWJtb2R1bGUgJiYKCSBnaXQgY29tbWl0IC1tICJzdWJtb2R1bGUgdXBkYXRlIgoJKSAmJgoJKGNkIHN1cGVyICYmCgkgZ2l0IHN1Ym1vZHVsZSBhZGQgLi4vcmViYXNpbmcgcmViYXNpbmcgJiYKCSB0ZXN0X3RpY2sgJiYKCSBnaXQgY29tbWl0IC1tICJyZWJhc2luZyIKCSkgJiYKCShjZCBzdXBlciAmJgoJIGdpdCBzdWJtb2R1bGUgYWRkIC4uL21lcmdpbmcgbWVyZ2luZyAmJgoJIHRlc3RfdGljayAmJgoJIGdpdCBjb21taXQgLW0gInJlYmFzaW5nIgoJKSAmJgoJKGNkIHN1cGVyICYmCgkgZ2l0IHN1Ym1vZHVsZSBhZGQgLi4vbm9uZSBub25lICYmCgkgdGVzdF90aWNrICYmCgkgZ2l0IGNvbW1pdCAtbSAibm9uZSIKCSkgJiYKCWdpdCBjbG9uZSAuIHJlY3Vyc2l2ZXN1cGVyICYmCgkoIGNkIHJlY3Vyc2l2ZXN1cGVyICYmCgkgZ2l0IHN1Ym1vZHVsZSBhZGQgLi4vc3VwZXIgc3VwZXIKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAndXBkYXRlIC0tcmVtb3RlIGZhbGxzIGJhY2sgdG8gdXNpbmcgSEVBRCcgJwoJdGVzdF9jcmVhdGVfcmVwbyBtYWluLWJyYW5jaC1zdWJtb2R1bGUgJiYKCXRlc3RfY29tbWl0IC1DIG1haW4tYnJhbmNoLXN1Ym1vZHVsZSBpbml0aWFsICYmCgoJdGVzdF9jcmVhdGVfcmVwbyBtYWluLWJyYW5jaCAmJgoJZ2l0IC1DIG1haW4tYnJhbmNoIHN1Ym1vZHVsZSBhZGQgLi4vbWFpbi1icmFuY2gtc3VibW9kdWxlICYmCglnaXQgLUMgbWFpbi1icmFuY2ggY29tbWl0IC1tIGFkZC1zdWJtb2R1bGUgJiYKCglnaXQgLUMgbWFpbi1icmFuY2gtc3VibW9kdWxlIHN3aXRjaCAtYyBoZWxsbyAmJgoJdGVzdF9jb21taXQgLUMgbWFpbi1icmFuY2gtc3VibW9kdWxlIHdvcmxkICYmCgoJZ2l0IGNsb25lIC0tcmVjdXJzaXZlIG1haW4tYnJhbmNoIG1haW4tYnJhbmNoLWNsb25lICYmCglnaXQgLUMgbWFpbi1icmFuY2gtY2xvbmUgc3VibW9kdWxlIHVwZGF0ZSAtLXJlbW90ZSBtYWluLWJyYW5jaC1zdWJtb2R1bGUgJiYKCXRlc3RfcGF0aF9leGlzdHMgbWFpbi1icmFuY2gtY2xvbmUvbWFpbi1icmFuY2gtc3VibW9kdWxlL3dvcmxkLnQKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSBkZXRhY2hpbmcgdGhlIEhFQUQgJyAnCgkoY2Qgc3VwZXIvc3VibW9kdWxlICYmCgkgZ2l0IHJlc2V0IC0taGFyZCBIRUFEfjEKCSkgJiYKCShjZCBzdXBlciAmJgoJIChjZCBzdWJtb2R1bGUgJiYKCSAgY29tcGFyZV9oZWFkCgkgKSAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIHN1Ym1vZHVsZSAmJgoJIGNkIHN1Ym1vZHVsZSAmJgoJICEgY29tcGFyZV9oZWFkCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgZnJvbSBzdWJkaXJlY3RvcnknICcKCShjZCBzdXBlci9zdWJtb2R1bGUgJiYKCSBnaXQgcmVzZXQgLS1oYXJkIEhFQUR+MQoJKSAmJgoJbWtkaXIgc3VwZXIvc3ViICYmCgkoY2Qgc3VwZXIvc3ViICYmCgkgKGNkIC4uL3N1Ym1vZHVsZSAmJgoJICBjb21wYXJlX2hlYWQKCSApICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLi4vc3VibW9kdWxlICYmCgkgY2QgLi4vc3VibW9kdWxlICYmCgkgISBjb21wYXJlX2hlYWQKCSkKJwoKc3VwZXJzaGExPSQoZ2l0IC1DIHN1cGVyIHJldi1wYXJzZSBIRUFEKQptZXJnaW5nc2hhMT0kKGdpdCAtQyBzdXBlci9tZXJnaW5nIHJldi1wYXJzZSBIRUFEKQpub25lc2hhMT0kKGdpdCAtQyBzdXBlci9ub25lIHJldi1wYXJzZSBIRUFEKQpyZWJhc2luZ3NoYTE9JChnaXQgLUMgc3VwZXIvcmViYXNpbmcgcmV2LXBhcnNlIEhFQUQpCnN1Ym1vZHVsZXNoYTE9JChnaXQgLUMgc3VwZXIvc3VibW9kdWxlIHJldi1wYXJzZSBIRUFEKQpwd2Q9JChwd2QpCgpjYXQgPDxFT0YgPmV4cGVjdApTdWJtb2R1bGUgcGF0aCAnLi4vc3VwZXInOiBjaGVja2VkIG91dCAnJHN1cGVyc2hhMScKU3VibW9kdWxlIHBhdGggJy4uL3N1cGVyL21lcmdpbmcnOiBjaGVja2VkIG91dCAnJG1lcmdpbmdzaGExJwpTdWJtb2R1bGUgcGF0aCAnLi4vc3VwZXIvbm9uZSc6IGNoZWNrZWQgb3V0ICckbm9uZXNoYTEnClN1Ym1vZHVsZSBwYXRoICcuLi9zdXBlci9yZWJhc2luZyc6IGNoZWNrZWQgb3V0ICckcmViYXNpbmdzaGExJwpTdWJtb2R1bGUgcGF0aCAnLi4vc3VwZXIvc3VibW9kdWxlJzogY2hlY2tlZCBvdXQgJyRzdWJtb2R1bGVzaGExJwpFT0YKCmNhdCA8PEVPRiA+ZXhwZWN0MgpDbG9uaW5nIGludG8gJyRwd2QvcmVjdXJzaXZlc3VwZXIvc3VwZXIvbWVyZ2luZycuLi4KQ2xvbmluZyBpbnRvICckcHdkL3JlY3Vyc2l2ZXN1cGVyL3N1cGVyL25vbmUnLi4uCkNsb25pbmcgaW50byAnJHB3ZC9yZWN1cnNpdmVzdXBlci9zdXBlci9yZWJhc2luZycuLi4KQ2xvbmluZyBpbnRvICckcHdkL3JlY3Vyc2l2ZXN1cGVyL3N1cGVyL3N1Ym1vZHVsZScuLi4KU3VibW9kdWxlICdtZXJnaW5nJyAoJHB3ZC9tZXJnaW5nKSByZWdpc3RlcmVkIGZvciBwYXRoICcuLi9zdXBlci9tZXJnaW5nJwpTdWJtb2R1bGUgJ25vbmUnICgkcHdkL25vbmUpIHJlZ2lzdGVyZWQgZm9yIHBhdGggJy4uL3N1cGVyL25vbmUnClN1Ym1vZHVsZSAncmViYXNpbmcnICgkcHdkL3JlYmFzaW5nKSByZWdpc3RlcmVkIGZvciBwYXRoICcuLi9zdXBlci9yZWJhc2luZycKU3VibW9kdWxlICdzdWJtb2R1bGUnICgkcHdkL3N1Ym1vZHVsZSkgcmVnaXN0ZXJlZCBmb3IgcGF0aCAnLi4vc3VwZXIvc3VibW9kdWxlJwpkb25lLgpkb25lLgpkb25lLgpkb25lLgpFT0YKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLS1pbml0IC0tcmVjdXJzaXZlIGZyb20gc3ViZGlyZWN0b3J5JyAnCglnaXQgLUMgcmVjdXJzaXZlc3VwZXIvc3VwZXIgcmVzZXQgLS1oYXJkIEhFQUReICYmCgkoY2QgcmVjdXJzaXZlc3VwZXIgJiYKCSBta2RpciB0bXAgJiYKCSBjZCB0bXAgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLWluaXQgLS1yZWN1cnNpdmUgLi4vc3VwZXIgPi4uLy4uL2FjdHVhbCAyPi4uLy4uL2FjdHVhbDIKCSkgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCXNvcnQgYWN0dWFsMiA+YWN0dWFsMi5zb3J0ZWQgJiYKCXRlc3RfY21wIGV4cGVjdDIgYWN0dWFsMi5zb3J0ZWQKJwoKY2F0IDw8RU9GID5leHBlY3QyClN1Ym1vZHVsZSAnZm9vL3N1YicgKCRwd2Qvd2l0aHN1YnMvLi4vcmViYXNpbmcpIHJlZ2lzdGVyZWQgZm9yIHBhdGggJ3N1YicKRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0taW5pdCBmcm9tIGFuZCBvZiBzdWJkaXJlY3RvcnknICcKCWdpdCBpbml0IHdpdGhzdWJzICYmCgkoY2Qgd2l0aHN1YnMgJiYKCSBta2RpciBmb28gJiYKCSBnaXQgc3VibW9kdWxlIGFkZCAiJChwd2QpLy4uL3JlYmFzaW5nIiBmb28vc3ViICYmCgkgKGNkIGZvbyAmJgoJICBnaXQgc3VibW9kdWxlIGRlaW5pdCAtZiBzdWIgJiYKCSAgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1pbml0IHN1YiAyPi4uLy4uL2FjdHVhbDIKCSApCgkpICYmCgl0ZXN0X2NtcCBleHBlY3QyIGFjdHVhbDIKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSBkb2VzIG5vdCBmZXRjaCBhbHJlYWR5IHByZXNlbnQgY29tbWl0cycgJwoJKGNkIHN1Ym1vZHVsZSAmJgoJICBlY2hvIGxpbmUzID4+IGZpbGUgJiYKCSAgZ2l0IGFkZCBmaWxlICYmCgkgIHRlc3RfdGljayAmJgoJICBnaXQgY29tbWl0IC1tICJ1cHN0cmVhbSBsaW5lMyIKCSkgJiYKCShjZCBzdXBlci9zdWJtb2R1bGUgJiYKCSAgaGVhZD0kKGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgSEVBRCkgJiYKCSAgZWNobyAiU3VibW9kdWxlIHBhdGggJHtTUX1zdWJtb2R1bGUkU1E6IGNoZWNrZWQgb3V0ICRTUSRoZWFkJFNRIiA+IC4uLy4uL2V4cGVjdGVkICYmCgkgIGdpdCByZXNldCAtLWhhcmQgSEVBRH4xCgkpICYmCgkoY2Qgc3VwZXIgJiYKCSAgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgPiAuLi9hY3R1YWwgMj4gLi4vYWN0dWFsLmVycgoJKSAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsICYmCgl0ZXN0X211c3RfYmVfZW1wdHkgYWN0dWFsLmVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIHNob3VsZCBmYWlsIGR1ZSB0byBsb2NhbCBjaGFuZ2VzJyAnCgkoY2Qgc3VwZXIvc3VibW9kdWxlICYmCgkgZ2l0IHJlc2V0IC0taGFyZCBIRUFEfjEgJiYKCSBlY2hvICJsb2NhbCBjaGFuZ2UiID4gZmlsZQoJKSAmJgoJKGNkIHN1cGVyICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBjb21wYXJlX2hlYWQKCSApICYmCgkgdGVzdF9tdXN0X2ZhaWwgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgc3VibW9kdWxlIDI+Li4vYWN0dWFsLnJhdwoJKSAmJgoJc2VkICJzL14+IC8vIiA+ZXhwZWN0IDw8LVxFT0YgJiYKCT4gZXJyb3I6IFlvdXIgbG9jYWwgY2hhbmdlcyB0byB0aGUgZm9sbG93aW5nIGZpbGVzIHdvdWxkIGJlIG92ZXJ3cml0dGVuIGJ5IGNoZWNrb3V0OgoJPiAJZmlsZQoJPiBQbGVhc2UgY29tbWl0IHlvdXIgY2hhbmdlcyBvciBzdGFzaCB0aGVtIGJlZm9yZSB5b3Ugc3dpdGNoIGJyYW5jaGVzLgoJPiBBYm9ydGluZwoJPiBmYXRhbDogVW5hYmxlIHRvIGNoZWNrb3V0IE9JRCBpbiBzdWJtb2R1bGUgcGF0aCAnXCcnc3VibW9kdWxlJ1wnJwoJRU9GCglzZWQgLWUgInMvY2hlY2tvdXQgJFNRW14kU1FdKiRTUS9jaGVja291dCBPSUQvIiA8YWN0dWFsLnJhdyA+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCgonCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgc2hvdWxkIHRocm93IGF3YXkgY2hhbmdlcyB3aXRoIC0tZm9yY2UgJyAnCgkoY2Qgc3VwZXIgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIGNvbXBhcmVfaGVhZAoJICkgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLWZvcmNlIHN1Ym1vZHVsZSAmJgoJIGNkIHN1Ym1vZHVsZSAmJgoJICEgY29tcGFyZV9oZWFkCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLS1mb3JjZSBmb3JjaWJseSBjaGVja3Mgb3V0IHN1Ym1vZHVsZXMnICcKCShjZCBzdXBlciAmJgoJIChjZCBzdWJtb2R1bGUgJiYKCSAgcm0gLWYgZmlsZQoJICkgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLWZvcmNlIHN1Ym1vZHVsZSAmJgoJIChjZCBzdWJtb2R1bGUgJiYKCSAgdGVzdCAiJChnaXQgc3RhdHVzIC1zIGZpbGUpIiA9ICIiCgkgKQoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0tcmVtb3RlIHNob3VsZCBmZXRjaCB1cHN0cmVhbSBjaGFuZ2VzJyAnCgkoY2Qgc3VibW9kdWxlICYmCgkgZWNobyBsaW5lNCA+PiBmaWxlICYmCgkgZ2l0IGFkZCBmaWxlICYmCgkgdGVzdF90aWNrICYmCgkgZ2l0IGNvbW1pdCAtbSAidXBzdHJlYW0gbGluZTQiCgkpICYmCgkoY2Qgc3VwZXIgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLXJlbW90ZSAtLWZvcmNlIHN1Ym1vZHVsZSAmJgoJIGNkIHN1Ym1vZHVsZSAmJgoJIHRlc3QgIiQoZ2l0IGxvZyAtMSAtLW9uZWxpbmUpIiA9ICIkKEdJVF9ESVI9Li4vLi4vc3VibW9kdWxlLy5naXQgZ2l0IGxvZyAtMSAtLW9uZWxpbmUpIgoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0tcmVtb3RlIHNob3VsZCBmZXRjaCB1cHN0cmVhbSBjaGFuZ2VzIHdpdGggLicgJwoJKAoJCWNkIHN1cGVyICYmCgkJZ2l0IGNvbmZpZyAtZiAuZ2l0bW9kdWxlcyBzdWJtb2R1bGUuInN1Ym1vZHVsZSIuYnJhbmNoICIuIiAmJgoJCWdpdCBhZGQgLmdpdG1vZHVsZXMgJiYKCQlnaXQgY29tbWl0IC1tICJzdWJtb2R1bGVzOiB1cGRhdGUgZnJvbSB0aGUgcmVzcGVjdGl2ZSBzdXBlcnByb2plY3QgYnJhbmNoIgoJKSAmJgoJKAoJCWNkIHN1Ym1vZHVsZSAmJgoJCWVjaG8gbGluZTRhID4+IGZpbGUgJiYKCQlnaXQgYWRkIGZpbGUgJiYKCQl0ZXN0X3RpY2sgJiYKCQlnaXQgY29tbWl0IC1tICJ1cHN0cmVhbSBsaW5lNGEiICYmCgkJZ2l0IGNoZWNrb3V0IC1iIHRlc3QtYnJhbmNoICYmCgkJdGVzdF9jb21taXQgb24tdGVzdC1icmFuY2gKCSkgJiYKCSgKCQljZCBzdXBlciAmJgoJCWdpdCBzdWJtb2R1bGUgdXBkYXRlIC0tcmVtb3RlIC0tZm9yY2Ugc3VibW9kdWxlICYmCgkJZ2l0IC1DIHN1Ym1vZHVsZSBsb2cgLTEgLS1vbmVsaW5lID5hY3R1YWwgJiYKCQlnaXQgLUMgLi4vc3VibW9kdWxlIGxvZyAtMSAtLW9uZWxpbmUgbWFpbiA+ZXhwZWN0ICYmCgkJdGVzdF9jbXAgZXhwZWN0IGFjdHVhbCAmJgoJCWdpdCBjaGVja291dCAtYiB0ZXN0LWJyYW5jaCAmJgoJCWdpdCBzdWJtb2R1bGUgdXBkYXRlIC0tcmVtb3RlIC0tZm9yY2Ugc3VibW9kdWxlICYmCgkJZ2l0IC1DIHN1Ym1vZHVsZSBsb2cgLTEgLS1vbmVsaW5lID5hY3R1YWwgJiYKCQlnaXQgLUMgLi4vc3VibW9kdWxlIGxvZyAtMSAtLW9uZWxpbmUgdGVzdC1icmFuY2ggPmV4cGVjdCAmJgoJCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwgJiYKCQlnaXQgY2hlY2tvdXQgbWFpbiAmJgoJCWdpdCBicmFuY2ggLWQgdGVzdC1icmFuY2ggJiYKCQlnaXQgcmVzZXQgLS1oYXJkIEhFQUReCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2xvY2FsIGNvbmZpZyBzaG91bGQgb3ZlcnJpZGUgLmdpdG1vZHVsZXMgYnJhbmNoJyAnCgkoY2Qgc3VibW9kdWxlICYmCgkgZ2l0IGNoZWNrb3V0IHRlc3QtYnJhbmNoICYmCgkgZWNobyBsaW5lNSA+PiBmaWxlICYmCgkgZ2l0IGFkZCBmaWxlICYmCgkgdGVzdF90aWNrICYmCgkgZ2l0IGNvbW1pdCAtbSAidXBzdHJlYW0gbGluZTUiICYmCgkgZ2l0IGNoZWNrb3V0IG1haW4KCSkgJiYKCShjZCBzdXBlciAmJgoJIGdpdCBjb25maWcgc3VibW9kdWxlLnN1Ym1vZHVsZS5icmFuY2ggdGVzdC1icmFuY2ggJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLXJlbW90ZSAtLWZvcmNlIHN1Ym1vZHVsZSAmJgoJIGNkIHN1Ym1vZHVsZSAmJgoJIHRlc3QgIiQoZ2l0IGxvZyAtMSAtLW9uZWxpbmUpIiA9ICIkKEdJVF9ESVI9Li4vLi4vc3VibW9kdWxlLy5naXQgZ2l0IGxvZyAtMSAtLW9uZWxpbmUgdGVzdC1icmFuY2gpIgoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0tcmViYXNlIHN0YXlpbmcgb24gbWFpbicgJwoJKGNkIHN1cGVyL3N1Ym1vZHVsZSAmJgoJICBnaXQgY2hlY2tvdXQgbWFpbgoJKSAmJgoJKGNkIHN1cGVyICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBjb21wYXJlX2hlYWQKCSApICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1yZWJhc2Ugc3VibW9kdWxlICYmCgkgY2Qgc3VibW9kdWxlICYmCgkgY29tcGFyZV9oZWFkCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLS1tZXJnZSBzdGF5aW5nIG9uIG1haW4nICcKCShjZCBzdXBlci9zdWJtb2R1bGUgJiYKCSAgZ2l0IHJlc2V0IC0taGFyZCBIRUFEfjEKCSkgJiYKCShjZCBzdXBlciAmJgoJIChjZCBzdWJtb2R1bGUgJiYKCSAgY29tcGFyZV9oZWFkCgkgKSAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIC0tbWVyZ2Ugc3VibW9kdWxlICYmCgkgY2Qgc3VibW9kdWxlICYmCgkgY29tcGFyZV9oZWFkCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLSByZWJhc2UgaW4gLmdpdC9jb25maWcnICcKCShjZCBzdXBlciAmJgoJIGdpdCBjb25maWcgc3VibW9kdWxlLnN1Ym1vZHVsZS51cGRhdGUgcmViYXNlCgkpICYmCgkoY2Qgc3VwZXIvc3VibW9kdWxlICYmCgkgIGdpdCByZXNldCAtLWhhcmQgSEVBRH4xCgkpICYmCgkoY2Qgc3VwZXIgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIGNvbXBhcmVfaGVhZAoJICkgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSBzdWJtb2R1bGUgJiYKCSBjZCBzdWJtb2R1bGUgJiYKCSBjb21wYXJlX2hlYWQKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSAtIGNoZWNrb3V0IGluIC5naXQvY29uZmlnIGJ1dCAtLXJlYmFzZSBnaXZlbicgJwoJKGNkIHN1cGVyICYmCgkgZ2l0IGNvbmZpZyBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSBjaGVja291dAoJKSAmJgoJKGNkIHN1cGVyL3N1Ym1vZHVsZSAmJgoJICBnaXQgcmVzZXQgLS1oYXJkIEhFQUR+MQoJKSAmJgoJKGNkIHN1cGVyICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBjb21wYXJlX2hlYWQKCSApICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1yZWJhc2Ugc3VibW9kdWxlICYmCgkgY2Qgc3VibW9kdWxlICYmCgkgY29tcGFyZV9oZWFkCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLSBtZXJnZSBpbiAuZ2l0L2NvbmZpZycgJwoJKGNkIHN1cGVyICYmCgkgZ2l0IGNvbmZpZyBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSBtZXJnZQoJKSAmJgoJKGNkIHN1cGVyL3N1Ym1vZHVsZSAmJgoJICBnaXQgcmVzZXQgLS1oYXJkIEhFQUR+MQoJKSAmJgoJKGNkIHN1cGVyICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBjb21wYXJlX2hlYWQKCSApICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgc3VibW9kdWxlICYmCgkgY2Qgc3VibW9kdWxlICYmCgkgY29tcGFyZV9oZWFkCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLSBjaGVja291dCBpbiAuZ2l0L2NvbmZpZyBidXQgLS1tZXJnZSBnaXZlbicgJwoJKGNkIHN1cGVyICYmCgkgZ2l0IGNvbmZpZyBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSBjaGVja291dAoJKSAmJgoJKGNkIHN1cGVyL3N1Ym1vZHVsZSAmJgoJICBnaXQgcmVzZXQgLS1oYXJkIEhFQUR+MQoJKSAmJgoJKGNkIHN1cGVyICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBjb21wYXJlX2hlYWQKCSApICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1tZXJnZSBzdWJtb2R1bGUgJiYKCSBjZCBzdWJtb2R1bGUgJiYKCSBjb21wYXJlX2hlYWQKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSAtIGNoZWNrb3V0IGluIC5naXQvY29uZmlnJyAnCgkoY2Qgc3VwZXIgJiYKCSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlIGNoZWNrb3V0CgkpICYmCgkoY2Qgc3VwZXIvc3VibW9kdWxlICYmCgkgIGdpdCByZXNldCAtLWhhcmQgSEVBRF4KCSkgJiYKCShjZCBzdXBlciAmJgoJIChjZCBzdWJtb2R1bGUgJiYKCSAgY29tcGFyZV9oZWFkCgkgKSAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIHN1Ym1vZHVsZSAmJgoJIGNkIHN1Ym1vZHVsZSAmJgoJICEgY29tcGFyZV9oZWFkCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLSBjb21tYW5kIGluIC5naXQvY29uZmlnJyAnCgkoY2Qgc3VwZXIgJiYKCSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlICIhZ2l0IGNoZWNrb3V0IgoJKSAmJgoJKGNkIHN1cGVyL3N1Ym1vZHVsZSAmJgoJICBnaXQgcmVzZXQgLS1oYXJkIEhFQUReCgkpICYmCgkoY2Qgc3VwZXIgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIGNvbXBhcmVfaGVhZAoJICkgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSBzdWJtb2R1bGUgJiYKCSBjZCBzdWJtb2R1bGUgJiYKCSAhIGNvbXBhcmVfaGVhZAoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0gY29tbWFuZCBpbiAuZ2l0bW9kdWxlcyBpcyByZWplY3RlZCcgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgLUMgc3VwZXIgcmVzZXQgLS1oYXJkIEhFQUReIiAmJgoJZ2l0IC1DIHN1cGVyIGNvbmZpZyAtZiAuZ2l0bW9kdWxlcyBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSAiIWZhbHNlIiAmJgoJZ2l0IC1DIHN1cGVyIGNvbW1pdCAtYSAtbSAiYWRkIGNvbW1hbmQgdG8gLmdpdG1vZHVsZXMgZmlsZSIgJiYKCWdpdCAtQyBzdXBlci9zdWJtb2R1bGUgcmVzZXQgLS1oYXJkICRzdWJtb2R1bGVzaGExXiAmJgoJdGVzdF9tdXN0X2ZhaWwgZ2l0IC1DIHN1cGVyIHN1Ym1vZHVsZSB1cGRhdGUgc3VibW9kdWxlCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2ZzY2sgZGV0ZWN0cyBjb21tYW5kIGluIC5naXRtb2R1bGVzJyAnCglnaXQgaW5pdCBjb21tYW5kLWluLWdpdG1vZHVsZXMgJiYKCSgKCQljZCBjb21tYW5kLWluLWdpdG1vZHVsZXMgJiYKCQlnaXQgc3VibW9kdWxlIGFkZCAuLi9zdWJtb2R1bGUgc3VibW9kdWxlICYmCgkJdGVzdF9jb21taXQgYWRkaW5nLXN1Ym1vZHVsZSAmJgoKCQlnaXQgY29uZmlnIC1mIC5naXRtb2R1bGVzIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlICIhZmFsc2UiICYmCgkJZ2l0IGFkZCAuZ2l0bW9kdWxlcyAmJgoJCXRlc3RfY29tbWl0IGNvbmZpZ3VyaW5nLXVwZGF0ZSAmJgoJCXRlc3RfbXVzdF9mYWlsIGdpdCBmc2NrCgkpCicKCmNhdCA8PCBFT0YgPmV4cGVjdApmYXRhbDogRXhlY3V0aW9uIG9mICdmYWxzZSAkc3VibW9kdWxlc2hhMScgZmFpbGVkIGluIHN1Ym1vZHVsZSBwYXRoICdzdWJtb2R1bGUnCkVPRgoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSAtIGNvbW1hbmQgaW4gLmdpdC9jb25maWcgY2F0Y2hlcyBmYWlsdXJlJyAnCgkoY2Qgc3VwZXIgJiYKCSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlICIhZmFsc2UiCgkpICYmCgkoY2Qgc3VwZXIvc3VibW9kdWxlICYmCgkgIGdpdCByZXNldCAtLWhhcmQgJHN1Ym1vZHVsZXNoYTFeCgkpICYmCgkoY2Qgc3VwZXIgJiYKCSB0ZXN0X211c3RfZmFpbCBnaXQgc3VibW9kdWxlIHVwZGF0ZSBzdWJtb2R1bGUgMj4uLi9hY3R1YWwKCSkgJiYKCXRlc3RfY21wIGFjdHVhbCBleHBlY3QKJwoKY2F0IDw8IEVPRiA+ZXhwZWN0CmZhdGFsOiBFeGVjdXRpb24gb2YgJ2ZhbHNlICRzdWJtb2R1bGVzaGExJyBmYWlsZWQgaW4gc3VibW9kdWxlIHBhdGggJy4uL3N1Ym1vZHVsZScKRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0gY29tbWFuZCBpbiAuZ2l0L2NvbmZpZyBjYXRjaGVzIGZhaWx1cmUgLS0gc3ViZGlyZWN0b3J5JyAnCgkoY2Qgc3VwZXIgJiYKCSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlICIhZmFsc2UiCgkpICYmCgkoY2Qgc3VwZXIvc3VibW9kdWxlICYmCgkgIGdpdCByZXNldCAtLWhhcmQgJHN1Ym1vZHVsZXNoYTFeCgkpICYmCgkoY2Qgc3VwZXIgJiYKCSBta2RpciB0bXAgJiYgY2QgdG1wICYmCgkgdGVzdF9tdXN0X2ZhaWwgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLi4vc3VibW9kdWxlIDI+Li4vLi4vYWN0dWFsCgkpICYmCgl0ZXN0X2NtcCBhY3R1YWwgZXhwZWN0CicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLSBjb21tYW5kIHJ1biBmb3IgaW5pdGlhbCBwb3B1bGF0aW9uIG9mIHN1Ym1vZHVsZScgJwoJY2F0ID5leHBlY3QgPDwtRU9GICYmCglmYXRhbDogRXhlY3V0aW9uIG9mICdcJydmYWxzZSAkc3VibW9kdWxlc2hhMSdcJycgZmFpbGVkIGluIHN1Ym1vZHVsZSBwYXRoICdcJydzdWJtb2R1bGUnXCcnCglFT0YKCXJtIC1yZiBzdXBlci9zdWJtb2R1bGUgJiYKCXRlc3RfbXVzdF9mYWlsIGdpdCAtQyBzdXBlciBzdWJtb2R1bGUgdXBkYXRlIDI+YWN0dWFsICYmCgl0ZXN0X2NtcCBleHBlY3QgYWN0dWFsICYmCglnaXQgLUMgc3VwZXIgc3VibW9kdWxlIHVwZGF0ZSAtLWNoZWNrb3V0CicKCmNhdCA8PCBFT0YgPmV4cGVjdApmYXRhbDogRXhlY3V0aW9uIG9mICdmYWxzZSAkc3VibW9kdWxlc2hhMScgZmFpbGVkIGluIHN1Ym1vZHVsZSBwYXRoICcuLi9zdXBlci9zdWJtb2R1bGUnCmZhdGFsOiBGYWlsZWQgdG8gcmVjdXJzZSBpbnRvIHN1Ym1vZHVsZSBwYXRoICcuLi9zdXBlcicKRU9GCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdyZWN1cnNpdmUgc3VibW9kdWxlIHVwZGF0ZSAtIGNvbW1hbmQgaW4gLmdpdC9jb25maWcgY2F0Y2hlcyBmYWlsdXJlIC0tIHN1YmRpcmVjdG9yeScgJwoJKGNkIHJlY3Vyc2l2ZXN1cGVyICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1yZW1vdGUgc3VwZXIgJiYKCSBnaXQgYWRkIHN1cGVyICYmCgkgZ2l0IGNvbW1pdCAtbSAidXBkYXRlIHRvIGxhdGVzdCB0byBoYXZlIG1vcmUgdGhhbiBvbmUgY29tbWl0IGluIHN1Ym1vZHVsZXMiCgkpICYmCglnaXQgLUMgcmVjdXJzaXZlc3VwZXIvc3VwZXIgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlICIhZmFsc2UiICYmCglnaXQgLUMgcmVjdXJzaXZlc3VwZXIvc3VwZXIvc3VibW9kdWxlIHJlc2V0IC0taGFyZCAkc3VibW9kdWxlc2hhMV4gJiYKCShjZCByZWN1cnNpdmVzdXBlciAmJgoJIG1rZGlyIC1wIHRtcCAmJiBjZCB0bXAgJiYKCSB0ZXN0X211c3RfZmFpbCBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLXJlY3Vyc2l2ZSAuLi9zdXBlciAyPi4uLy4uL2FjdHVhbAoJKSAmJgoJdGVzdF9jbXAgYWN0dWFsIGV4cGVjdAonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgaW5pdCBkb2VzIG5vdCBjb3B5IGNvbW1hbmQgaW50byAuZ2l0L2NvbmZpZycgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJnaXQgLUMgc3VwZXIgdXBkYXRlLWluZGV4IC0tZm9yY2UtcmVtb3ZlIHN1Ym1vZHVsZTEiICYmCgl0ZXN0X3doZW5fZmluaXNoZWQgZ2l0IGNvbmZpZyAtZiBzdXBlci8uZ2l0bW9kdWxlcyBcCgkJLS1yZW1vdmUtc2VjdGlvbiBzdWJtb2R1bGUuc3VibW9kdWxlMSAmJgoJKGNkIHN1cGVyICYmCgkgZ2l0IGxzLWZpbGVzIC1zIHN1Ym1vZHVsZSA+b3V0ICYmCgkgSD0kKGN1dCAtZCIgIiAtZjIgb3V0KSAmJgoJIG1rZGlyIHN1Ym1vZHVsZTEgJiYKCSBnaXQgdXBkYXRlLWluZGV4IC0tYWRkIC0tY2FjaGVpbmZvIDE2MDAwMCAkSCBzdWJtb2R1bGUxICYmCgkgZ2l0IGNvbmZpZyAtZiAuZ2l0bW9kdWxlcyBzdWJtb2R1bGUuc3VibW9kdWxlMS5wYXRoIHN1Ym1vZHVsZTEgJiYKCSBnaXQgY29uZmlnIC1mIC5naXRtb2R1bGVzIHN1Ym1vZHVsZS5zdWJtb2R1bGUxLnVybCAuLi9zdWJtb2R1bGUgJiYKCSBnaXQgY29uZmlnIC1mIC5naXRtb2R1bGVzIHN1Ym1vZHVsZS5zdWJtb2R1bGUxLnVwZGF0ZSAhZmFsc2UgJiYKCSB0ZXN0X211c3RfZmFpbCBnaXQgc3VibW9kdWxlIGluaXQgc3VibW9kdWxlMSAmJgoJIHRlc3RfZXhwZWN0X2NvZGUgMSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUxLnVwZGF0ZSA+YWN0dWFsICYmCgkgdGVzdF9tdXN0X2JlX2VtcHR5IGFjdHVhbAoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgaW5pdCBwaWNrcyB1cCByZWJhc2UnICcKCShjZCBzdXBlciAmJgoJIGdpdCBjb25maWcgLWYgLmdpdG1vZHVsZXMgc3VibW9kdWxlLnJlYmFzaW5nLnVwZGF0ZSByZWJhc2UgJiYKCSBnaXQgc3VibW9kdWxlIGluaXQgcmViYXNpbmcgJiYKCSB0ZXN0ICJyZWJhc2UiID0gIiQoZ2l0IGNvbmZpZyBzdWJtb2R1bGUucmViYXNpbmcudXBkYXRlKSIKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIGluaXQgcGlja3MgdXAgbWVyZ2UnICcKCShjZCBzdXBlciAmJgoJIGdpdCBjb25maWcgLWYgLmdpdG1vZHVsZXMgc3VibW9kdWxlLm1lcmdpbmcudXBkYXRlIG1lcmdlICYmCgkgZ2l0IHN1Ym1vZHVsZSBpbml0IG1lcmdpbmcgJiYKCSB0ZXN0ICJtZXJnZSIgPSAiJChnaXQgY29uZmlnIHN1Ym1vZHVsZS5tZXJnaW5nLnVwZGF0ZSkiCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLS1tZXJnZSAgLSBpZ25vcmVzIC0tbWVyZ2UgIGZvciBuZXcgc3VibW9kdWxlcycgJwoJdGVzdF9jb25maWcgLUMgc3VwZXIgc3VibW9kdWxlLnN1Ym1vZHVsZS51cGRhdGUgY2hlY2tvdXQgJiYKCShjZCBzdXBlciAmJgoJIHJtIC1yZiBzdWJtb2R1bGUgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSBzdWJtb2R1bGUgJiYKCSBnaXQgc3RhdHVzIC1zIHN1Ym1vZHVsZSA+ZXhwZWN0ICYmCgkgcm0gLXJmIHN1Ym1vZHVsZSAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIC0tbWVyZ2Ugc3VibW9kdWxlICYmCgkgZ2l0IHN0YXR1cyAtcyBzdWJtb2R1bGUgPmFjdHVhbCAmJgoJIHRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSAtLXJlYmFzZSAtIGlnbm9yZXMgLS1yZWJhc2UgZm9yIG5ldyBzdWJtb2R1bGVzJyAnCgl0ZXN0X2NvbmZpZyAtQyBzdXBlciBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSBjaGVja291dCAmJgoJKGNkIHN1cGVyICYmCgkgcm0gLXJmIHN1Ym1vZHVsZSAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIHN1Ym1vZHVsZSAmJgoJIGdpdCBzdGF0dXMgLXMgc3VibW9kdWxlID5leHBlY3QgJiYKCSBybSAtcmYgc3VibW9kdWxlICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1yZWJhc2Ugc3VibW9kdWxlICYmCgkgZ2l0IHN0YXR1cyAtcyBzdWJtb2R1bGUgPmFjdHVhbCAmJgoJIHRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSBpZ25vcmVzIHVwZGF0ZT1tZXJnZSBjb25maWcgZm9yIG5ldyBzdWJtb2R1bGVzJyAnCgkoY2Qgc3VwZXIgJiYKCSBybSAtcmYgc3VibW9kdWxlICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgc3VibW9kdWxlICYmCgkgZ2l0IHN0YXR1cyAtcyBzdWJtb2R1bGUgPmV4cGVjdCAmJgoJIHJtIC1yZiBzdWJtb2R1bGUgJiYKCSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlIG1lcmdlICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgc3VibW9kdWxlICYmCgkgZ2l0IHN0YXR1cyAtcyBzdWJtb2R1bGUgPmFjdHVhbCAmJgoJIGdpdCBjb25maWcgLS11bnNldCBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSAmJgoJIHRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSBpZ25vcmVzIHVwZGF0ZT1yZWJhc2UgY29uZmlnIGZvciBuZXcgc3VibW9kdWxlcycgJwoJKGNkIHN1cGVyICYmCgkgcm0gLXJmIHN1Ym1vZHVsZSAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIHN1Ym1vZHVsZSAmJgoJIGdpdCBzdGF0dXMgLXMgc3VibW9kdWxlID5leHBlY3QgJiYKCSBybSAtcmYgc3VibW9kdWxlICYmCgkgZ2l0IGNvbmZpZyBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSByZWJhc2UgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSBzdWJtb2R1bGUgJiYKCSBnaXQgc3RhdHVzIC1zIHN1Ym1vZHVsZSA+YWN0dWFsICYmCgkgZ2l0IGNvbmZpZyAtLXVuc2V0IHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlICYmCgkgdGVzdF9jbXAgZXhwZWN0IGFjdHVhbAoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgaW5pdCBwaWNrcyB1cCB1cGRhdGU9bm9uZScgJwoJKGNkIHN1cGVyICYmCgkgZ2l0IGNvbmZpZyAtZiAuZ2l0bW9kdWxlcyBzdWJtb2R1bGUubm9uZS51cGRhdGUgbm9uZSAmJgoJIGdpdCBzdWJtb2R1bGUgaW5pdCBub25lICYmCgkgdGVzdCAibm9uZSIgPSAiJChnaXQgY29uZmlnIHN1Ym1vZHVsZS5ub25lLnVwZGF0ZSkiCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLSB1cGRhdGU9bm9uZSBpbiAuZ2l0L2NvbmZpZycgJwoJKGNkIHN1cGVyICYmCgkgZ2l0IGNvbmZpZyBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSBub25lICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBnaXQgY2hlY2tvdXQgbWFpbiAmJgoJICBjb21wYXJlX2hlYWQKCSApICYmCgkgZ2l0IGRpZmYgLS1uYW1lLW9ubHkgPm91dCAmJgoJIGdyZXAgXnN1Ym1vZHVsZSQgb3V0ICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgJiYKCSBnaXQgZGlmZiAtLW5hbWUtb25seSA+b3V0ICYmCgkgZ3JlcCBec3VibW9kdWxlJCBvdXQgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIGNvbXBhcmVfaGVhZAoJICkgJiYKCSBnaXQgY29uZmlnIC0tdW5zZXQgc3VibW9kdWxlLnN1Ym1vZHVsZS51cGRhdGUgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSBzdWJtb2R1bGUKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSAtIHVwZGF0ZT1ub25lIGluIC5naXQvY29uZmlnIGJ1dCAtLWNoZWNrb3V0IGdpdmVuJyAnCgkoY2Qgc3VwZXIgJiYKCSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlIG5vbmUgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIGdpdCBjaGVja291dCBtYWluICYmCgkgIGNvbXBhcmVfaGVhZAoJICkgJiYKCSBnaXQgZGlmZiAtLW5hbWUtb25seSA+b3V0ICYmCgkgZ3JlcCBec3VibW9kdWxlJCBvdXQgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLWNoZWNrb3V0ICYmCgkgZ2l0IGRpZmYgLS1uYW1lLW9ubHkgPm91dCAmJgoJICEgZ3JlcCBec3VibW9kdWxlJCBvdXQgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgICEgY29tcGFyZV9oZWFkCgkgKSAmJgoJIGdpdCBjb25maWcgLS11bnNldCBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZQoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0taW5pdCBza2lwcyBzdWJtb2R1bGUgd2l0aCB1cGRhdGU9bm9uZScgJwoJKGNkIHN1cGVyICYmCgkgZ2l0IGFkZCAuZ2l0bW9kdWxlcyAmJgoJIGdpdCBjb21taXQgLW0gIi5naXRtb2R1bGVzIgoJKSAmJgoJZ2l0IGNsb25lIHN1cGVyIGNsb25lZCAmJgoJKGNkIGNsb25lZCAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIC0taW5pdCAmJgoJIHRlc3RfcGF0aF9leGlzdHMgc3VibW9kdWxlLy5naXQgJiYKCSB0ZXN0X3BhdGhfaXNfbWlzc2luZyBub25lLy5naXQKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSB3aXRoIHBhdGhzcGVjIHdhcm5zIGFnYWluc3QgdW5pbml0aWFsaXplZCBvbmVzJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInJtIC1mciBzZWxlY3RpdmUiICYmCglnaXQgY2xvbmUgc3VwZXIgc2VsZWN0aXZlICYmCgkoCgkJY2Qgc2VsZWN0aXZlICYmCgkJZ2l0IHN1Ym1vZHVsZSBpbml0IHN1Ym1vZHVsZSAmJgoKCQlnaXQgc3VibW9kdWxlIHVwZGF0ZSBzdWJtb2R1bGUgMj5lcnIgJiYKCQkhIGdyZXAgIlN1Ym1vZHVsZSBwYXRoIC4qIG5vdCBpbml0aWFsaXplZCIgZXJyICYmCgoJCWdpdCBzdWJtb2R1bGUgdXBkYXRlIHJlYmFzaW5nIDI+ZXJyICYmCgkJZ3JlcCAiU3VibW9kdWxlIHBhdGggLnJlYmFzaW5nLiBub3QgaW5pdGlhbGl6ZWQiIGVyciAmJgoKCQl0ZXN0X3BhdGhfZXhpc3RzIHN1Ym1vZHVsZS8uZ2l0ICYmCgkJdGVzdF9wYXRoX2lzX21pc3NpbmcgcmViYXNpbmcvLmdpdAoJKQoKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSB3aXRob3V0IHBhdGhzcGVjIHVwZGF0ZXMgb25seSBpbml0aWFsaXplZCBvbmVzJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInJtIC1mciBzZWxlY3RpdmUiICYmCglnaXQgY2xvbmUgc3VwZXIgc2VsZWN0aXZlICYmCgkoCgkJY2Qgc2VsZWN0aXZlICYmCgkJZ2l0IHN1Ym1vZHVsZSBpbml0IHN1Ym1vZHVsZSAmJgoJCWdpdCBzdWJtb2R1bGUgdXBkYXRlIDI+ZXJyICYmCgkJdGVzdF9wYXRoX2V4aXN0cyBzdWJtb2R1bGUvLmdpdCAmJgoJCXRlc3RfcGF0aF9pc19taXNzaW5nIHJlYmFzaW5nLy5naXQgJiYKCQkhIGdyZXAgIlN1Ym1vZHVsZSBwYXRoIC4qIG5vdCBpbml0aWFsaXplZCIgZXJyCgkpCgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIGNvbnRpbnVlcyBhZnRlciBjaGVja291dCBlcnJvcicgJwoJKGNkIHN1cGVyICYmCgkgZ2l0IHJlc2V0IC0taGFyZCBIRUFEICYmCgkgZ2l0IHN1Ym1vZHVsZSBhZGQgLi4vc3VibW9kdWxlIHN1Ym1vZHVsZTIgJiYKCSBnaXQgc3VibW9kdWxlIGluaXQgJiYKCSBnaXQgY29tbWl0IC1hbSAibmV3X3N1Ym1vZHVsZSIgJiYKCSAoY2Qgc3VibW9kdWxlMiAmJgoJICBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IEhFQUQgPi4uL2V4cGVjdAoJICkgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIHRlc3RfY29tbWl0ICJ1cGRhdGVfc3VibW9kdWxlIiBmaWxlCgkgKSAmJgoJIChjZCBzdWJtb2R1bGUyICYmCgkgIHRlc3RfY29tbWl0ICJ1cGRhdGVfc3VibW9kdWxlMiIgZmlsZQoJICkgJiYKCSBnaXQgYWRkIHN1Ym1vZHVsZSAmJgoJIGdpdCBhZGQgc3VibW9kdWxlMiAmJgoJIGdpdCBjb21taXQgLW0gInR3b19uZXdfc3VibW9kdWxlX2NvbW1pdHMiICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBlY2hvICIiID4gZmlsZQoJICkgJiYKCSBnaXQgY2hlY2tvdXQgSEVBRF4gJiYKCSB0ZXN0X211c3RfZmFpbCBnaXQgc3VibW9kdWxlIHVwZGF0ZSAmJgoJIChjZCBzdWJtb2R1bGUyICYmCgkgIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgSEVBRCA+Li4vYWN0dWFsCgkgKSAmJgoJIHRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCSkKJwp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIGNvbnRpbnVlcyBhZnRlciByZWN1cnNpdmUgY2hlY2tvdXQgZXJyb3InICcKCShjZCBzdXBlciAmJgoJIGdpdCByZXNldCAtLWhhcmQgSEVBRCAmJgoJIGdpdCBjaGVja291dCBtYWluICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIGdpdCBzdWJtb2R1bGUgYWRkIC4uL3N1Ym1vZHVsZSBzdWJzdWJtb2R1bGUgJiYKCSAgZ2l0IHN1Ym1vZHVsZSBpbml0ICYmCgkgIGdpdCBjb21taXQgLW0gIm5ld19zdWJzdWJtb2R1bGUiCgkgKSAmJgoJIGdpdCBhZGQgc3VibW9kdWxlICYmCgkgZ2l0IGNvbW1pdCAtbSAidXBkYXRlX3N1Ym1vZHVsZSIgJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIChjZCBzdWJzdWJtb2R1bGUgJiYKCSAgIHRlc3RfY29tbWl0ICJ1cGRhdGVfc3Vic3VibW9kdWxlIiBmaWxlCgkgICkgJiYKCSAgZ2l0IGFkZCBzdWJzdWJtb2R1bGUgJiYKCSAgdGVzdF9jb21taXQgInVwZGF0ZV9zdWJtb2R1bGVfYWdhaW4iIGZpbGUgJiYKCSAgKGNkIHN1YnN1Ym1vZHVsZSAmJgoJICAgdGVzdF9jb21taXQgInVwZGF0ZV9zdWJzdWJtb2R1bGVfYWdhaW4iIGZpbGUKCSAgKSAmJgoJICB0ZXN0X2NvbW1pdCAidXBkYXRlX3N1Ym1vZHVsZV9hZ2Fpbl9hZ2FpbiIgZmlsZQoJICkgJiYKCSAoY2Qgc3VibW9kdWxlMiAmJgoJICBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IEhFQUQgPi4uL2V4cGVjdCAmJgoJICB0ZXN0X2NvbW1pdCAidXBkYXRlX3N1Ym1vZHVsZTJfYWdhaW4iIGZpbGUKCSApICYmCgkgZ2l0IGFkZCBzdWJtb2R1bGUgJiYKCSBnaXQgYWRkIHN1Ym1vZHVsZTIgJiYKCSBnaXQgY29tbWl0IC1tICJuZXdfY29tbWl0cyIgJiYKCSBnaXQgY2hlY2tvdXQgSEVBRF4gJiYKCSAoY2Qgc3VibW9kdWxlICYmCgkgIGdpdCBjaGVja291dCBIRUFEXiAmJgoJICAoY2Qgc3Vic3VibW9kdWxlICYmCgkgICBlY2hvICIiID4gZmlsZQoJICApCgkgKSAmJgoJIHRlc3RfZXhwZWN0X2NvZGUgMSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLXJlY3Vyc2l2ZSAmJgoJIChjZCBzdWJtb2R1bGUyICYmCgkgIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgSEVBRCA+Li4vYWN0dWFsCgkgKSAmJgoJIHRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSBleGl0IGltbWVkaWF0ZWx5IGluIGNhc2Ugb2YgbWVyZ2UgY29uZmxpY3QnICcKCShjZCBzdXBlciAmJgoJIGdpdCBjaGVja291dCBtYWluICYmCgkgZ2l0IHJlc2V0IC0taGFyZCBIRUFEICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICAoY2Qgc3Vic3VibW9kdWxlICYmCgkgICBnaXQgcmVzZXQgLS1oYXJkIEhFQUQKCSAgKQoJICkgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLXJlY3Vyc2l2ZSAmJgoJIChjZCBzdWJtb2R1bGUgJiYKCSAgdGVzdF9jb21taXQgInVwZGF0ZV9zdWJtb2R1bGVfMiIgZmlsZQoJICkgJiYKCSAoY2Qgc3VibW9kdWxlMiAmJgoJICB0ZXN0X2NvbW1pdCAidXBkYXRlX3N1Ym1vZHVsZTJfMiIgZmlsZQoJICkgJiYKCSBnaXQgYWRkIHN1Ym1vZHVsZSAmJgoJIGdpdCBhZGQgc3VibW9kdWxlMiAmJgoJIGdpdCBjb21taXQgLW0gInR3b19uZXdfc3VibW9kdWxlX2NvbW1pdHMiICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBnaXQgY2hlY2tvdXQgbWFpbiAmJgoJICB0ZXN0X2NvbW1pdCAiY29uZmxpY3QiIGZpbGUgJiYKCSAgZWNobyAiY29uZmxpY3QiID4gZmlsZQoJICkgJiYKCSBnaXQgY2hlY2tvdXQgSEVBRF4gJiYKCSAoY2Qgc3VibW9kdWxlMiAmJgoJICBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IEhFQUQgPi4uL2V4cGVjdAoJICkgJiYKCSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5zdWJtb2R1bGUudXBkYXRlIG1lcmdlICYmCgkgdGVzdF9tdXN0X2ZhaWwgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgJiYKCSAoY2Qgc3VibW9kdWxlMiAmJgoJICBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IEhFQUQgPi4uL2FjdHVhbAoJICkgJiYKCSB0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgZXhpdCBpbW1lZGlhdGVseSBhZnRlciByZWN1cnNpdmUgcmViYXNlIGVycm9yJyAnCgkoY2Qgc3VwZXIgJiYKCSBnaXQgY2hlY2tvdXQgbWFpbiAmJgoJIGdpdCByZXNldCAtLWhhcmQgSEVBRCAmJgoJIChjZCBzdWJtb2R1bGUgJiYKCSAgZ2l0IHJlc2V0IC0taGFyZCBIRUFEICYmCgkgIGdpdCBzdWJtb2R1bGUgdXBkYXRlIC0tcmVjdXJzaXZlCgkgKSAmJgoJIChjZCBzdWJtb2R1bGUgJiYKCSAgdGVzdF9jb21taXQgInVwZGF0ZV9zdWJtb2R1bGVfMyIgZmlsZQoJICkgJiYKCSAoY2Qgc3VibW9kdWxlMiAmJgoJICB0ZXN0X2NvbW1pdCAidXBkYXRlX3N1Ym1vZHVsZTJfMyIgZmlsZQoJICkgJiYKCSBnaXQgYWRkIHN1Ym1vZHVsZSAmJgoJIGdpdCBhZGQgc3VibW9kdWxlMiAmJgoJIGdpdCBjb21taXQgLW0gInR3b19uZXdfc3VibW9kdWxlX2NvbW1pdHMiICYmCgkgKGNkIHN1Ym1vZHVsZSAmJgoJICBnaXQgY2hlY2tvdXQgbWFpbiAmJgoJICB0ZXN0X2NvbW1pdCAiY29uZmxpY3QyIiBmaWxlICYmCgkgIGVjaG8gImNvbmZsaWN0IiA+IGZpbGUKCSApICYmCgkgZ2l0IGNoZWNrb3V0IEhFQUReICYmCgkgKGNkIHN1Ym1vZHVsZTIgJiYKCSAgZ2l0IHJldi1wYXJzZSAtLXZlcmlmeSBIRUFEID4uLi9leHBlY3QKCSApICYmCgkgZ2l0IGNvbmZpZyBzdWJtb2R1bGUuc3VibW9kdWxlLnVwZGF0ZSByZWJhc2UgJiYKCSB0ZXN0X211c3RfZmFpbCBnaXQgc3VibW9kdWxlIHVwZGF0ZSAmJgoJIChjZCBzdWJtb2R1bGUyICYmCgkgIGdpdCByZXYtcGFyc2UgLS12ZXJpZnkgSEVBRCA+Li4vYWN0dWFsCgkgKSAmJgoJIHRlc3RfY21wIGV4cGVjdCBhY3R1YWwKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnYWRkIGRpZmZlcmVudCBzdWJtb2R1bGVzIHRvIHRoZSBzYW1lIHBhdGgnICcKCShjZCBzdXBlciAmJgoJIGdpdCBzdWJtb2R1bGUgYWRkIC4uL3N1Ym1vZHVsZSBzMSAmJgoJIHRlc3RfbXVzdF9mYWlsIGdpdCBzdWJtb2R1bGUgYWRkIC4uL21lcmdpbmcgczEKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIGFkZCBwbGFjZXMgZ2l0LWRpciBpbiBzdXBlcnByb2plY3RzIGdpdC1kaXInICcKCShjZCBzdXBlciAmJgoJIG1rZGlyIGRlZXBlciAmJgoJIGdpdCBzdWJtb2R1bGUgYWRkIC4uL3N1Ym1vZHVsZSBkZWVwZXIvc3VibW9kdWxlICYmCgkgKGNkIGRlZXBlci9zdWJtb2R1bGUgJiYKCSAgZ2l0IGxvZyA+IC4uLy4uL2V4cGVjdGVkCgkgKSAmJgoJIChjZCAuZ2l0L21vZHVsZXMvZGVlcGVyL3N1Ym1vZHVsZSAmJgoJICBnaXQgbG9nID4gLi4vLi4vLi4vLi4vYWN0dWFsCgkgKSAmJgoJIHRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIHBsYWNlcyBnaXQtZGlyIGluIHN1cGVycHJvamVjdHMgZ2l0LWRpcicgJwoJKGNkIHN1cGVyICYmCgkgZ2l0IGNvbW1pdCAtbSAiYWRkZWQgc3VibW9kdWxlIgoJKSAmJgoJZ2l0IGNsb25lIHN1cGVyIHN1cGVyMiAmJgoJKGNkIHN1cGVyMiAmJgoJIGdpdCBzdWJtb2R1bGUgaW5pdCBkZWVwZXIvc3VibW9kdWxlICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgJiYKCSAoY2QgZGVlcGVyL3N1Ym1vZHVsZSAmJgoJICBnaXQgbG9nID4gLi4vLi4vZXhwZWN0ZWQKCSApICYmCgkgKGNkIC5naXQvbW9kdWxlcy9kZWVwZXIvc3VibW9kdWxlICYmCgkgIGdpdCBsb2cgPiAuLi8uLi8uLi8uLi9hY3R1YWwKCSApICYmCgkgdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSBhZGQgcGxhY2VzIGdpdC1kaXIgaW4gc3VwZXJwcm9qZWN0cyBnaXQtZGlyIHJlY3Vyc2l2ZScgJwoJKGNkIHN1cGVyMiAmJgoJIChjZCBkZWVwZXIvc3VibW9kdWxlICYmCgkgIGdpdCBzdWJtb2R1bGUgYWRkIC4uL3N1Ym1vZHVsZSBzdWJzdWJtb2R1bGUgJiYKCSAgKGNkIHN1YnN1Ym1vZHVsZSAmJgoJICAgZ2l0IGxvZyA+IC4uLy4uLy4uL2V4cGVjdGVkCgkgICkgJiYKCSAgZ2l0IGNvbW1pdCAtbSAiYWRkZWQgc3Vic3VibW9kdWxlIiAmJgoJICBnaXQgcHVzaCBvcmlnaW4gOgoJICkgJiYKCSAoY2QgLmdpdC9tb2R1bGVzL2RlZXBlci9zdWJtb2R1bGUvbW9kdWxlcy9zdWJzdWJtb2R1bGUgJiYKCSAgZ2l0IGxvZyA+IC4uLy4uLy4uLy4uLy4uL2FjdHVhbAoJICkgJiYKCSBnaXQgYWRkIGRlZXBlci9zdWJtb2R1bGUgJiYKCSBnaXQgY29tbWl0IC1tICJ1cGRhdGUgc3VibW9kdWxlIiAmJgoJIGdpdCBwdXNoIG9yaWdpbiA6ICYmCgkgdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgcGxhY2VzIGdpdC1kaXIgaW4gc3VwZXJwcm9qZWN0cyBnaXQtZGlyIHJlY3Vyc2l2ZScgJwoJbWtkaXIgc3VwZXJfdXBkYXRlX3IgJiYKCShjZCBzdXBlcl91cGRhdGVfciAmJgoJIGdpdCBpbml0IC0tYmFyZQoJKSAmJgoJbWtkaXIgc3Vic3VwZXJfdXBkYXRlX3IgJiYKCShjZCBzdWJzdXBlcl91cGRhdGVfciAmJgoJIGdpdCBpbml0IC0tYmFyZQoJKSAmJgoJbWtkaXIgc3Vic3Vic3VwZXJfdXBkYXRlX3IgJiYKCShjZCBzdWJzdWJzdXBlcl91cGRhdGVfciAmJgoJIGdpdCBpbml0IC0tYmFyZQoJKSAmJgoJZ2l0IGNsb25lIHN1YnN1YnN1cGVyX3VwZGF0ZV9yIHN1YnN1YnN1cGVyX3VwZGF0ZV9yMiAmJgoJKGNkIHN1YnN1YnN1cGVyX3VwZGF0ZV9yMiAmJgoJIHRlc3RfY29tbWl0ICJ1cGRhdGVfc3Vic3Vic3VwZXIiIGZpbGUgJiYKCSBnaXQgcHVzaCBvcmlnaW4gbWFpbgoJKSAmJgoJZ2l0IGNsb25lIHN1YnN1cGVyX3VwZGF0ZV9yIHN1YnN1cGVyX3VwZGF0ZV9yMiAmJgoJKGNkIHN1YnN1cGVyX3VwZGF0ZV9yMiAmJgoJIHRlc3RfY29tbWl0ICJ1cGRhdGVfc3Vic3VwZXIiIGZpbGUgJiYKCSBnaXQgc3VibW9kdWxlIGFkZCAuLi9zdWJzdWJzdXBlcl91cGRhdGVfciBzdWJzdWJtb2R1bGUgJiYKCSBnaXQgY29tbWl0IC1hbSAic3Vic3VibW9kdWxlIiAmJgoJIGdpdCBwdXNoIG9yaWdpbiBtYWluCgkpICYmCglnaXQgY2xvbmUgc3VwZXJfdXBkYXRlX3Igc3VwZXJfdXBkYXRlX3IyICYmCgkoY2Qgc3VwZXJfdXBkYXRlX3IyICYmCgkgdGVzdF9jb21taXQgInVwZGF0ZV9zdXBlciIgZmlsZSAmJgoJIGdpdCBzdWJtb2R1bGUgYWRkIC4uL3N1YnN1cGVyX3VwZGF0ZV9yIHN1Ym1vZHVsZSAmJgoJIGdpdCBjb21taXQgLWFtICJzdWJtb2R1bGUiICYmCgkgZ2l0IHB1c2ggb3JpZ2luIG1haW4KCSkgJiYKCXJtIC1yZiBzdXBlcl91cGRhdGVfcjIgJiYKCWdpdCBjbG9uZSBzdXBlcl91cGRhdGVfciBzdXBlcl91cGRhdGVfcjIgJiYKCShjZCBzdXBlcl91cGRhdGVfcjIgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLWluaXQgLS1yZWN1cnNpdmUgPmFjdHVhbCAmJgoJIHRlc3RfaTE4bmdyZXAgIlN1Ym1vZHVsZSBwYXRoIC5zdWJtb2R1bGUvc3Vic3VibW9kdWxlLjogY2hlY2tlZCBvdXQiIGFjdHVhbCAmJgoJIChjZCBzdWJtb2R1bGUvc3Vic3VibW9kdWxlICYmCgkgIGdpdCBsb2cgPiAuLi8uLi9leHBlY3RlZAoJICkgJiYKCSAoY2QgLmdpdC9tb2R1bGVzL3N1Ym1vZHVsZS9tb2R1bGVzL3N1YnN1Ym1vZHVsZSAmJgoJICBnaXQgbG9nID4gLi4vLi4vLi4vLi4vLi4vYWN0dWFsCgkgKSAmJgoJIHRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgYWRkIHByb3Blcmx5IHJlLWNyZWF0ZXMgZGVlcGVyIGxldmVsIHN1Ym1vZHVsZXMnICcKCShjZCBzdXBlciAmJgoJIGdpdCByZXNldCAtLWhhcmQgbWFpbiAmJgoJIHJtIC1yZiBkZWVwZXIvICYmCgkgZ2l0IHN1Ym1vZHVsZSBhZGQgLS1mb3JjZSAuLi9zdWJtb2R1bGUgZGVlcGVyL3N1Ym1vZHVsZQoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIHByb3Blcmx5IHJldml2ZXMgYSBtb3ZlZCBzdWJtb2R1bGUnICcKCShjZCBzdXBlciAmJgoJIEg9JChnaXQgcmV2LXBhcnNlIC0tc2hvcnQgSEVBRCkgJiYKCSBnaXQgY29tbWl0IC1hbSAicHJlIG1vdmUiICYmCgkgSDI9JChnaXQgcmV2LXBhcnNlIC0tc2hvcnQgSEVBRCkgJiYKCSBnaXQgc3RhdHVzID5vdXQgJiYKCSBzZWQgInMvJEgvWFhYLyIgb3V0ID5leHBlY3QgJiYKCSBIPSQoY2Qgc3VibW9kdWxlMiAmJiBnaXQgcmV2LXBhcnNlIEhFQUQpICYmCgkgZ2l0IHJtIC0tY2FjaGVkIHN1Ym1vZHVsZTIgJiYKCSBybSAtcmYgc3VibW9kdWxlMiAmJgoJIG1rZGlyIC1wICJtb3ZlZC9zdWIgbW9kdWxlIiAmJgoJIGdpdCB1cGRhdGUtaW5kZXggLS1hZGQgLS1jYWNoZWluZm8gMTYwMDAwICRIICJtb3ZlZC9zdWIgbW9kdWxlIiAmJgoJIGdpdCBjb25maWcgLWYgLmdpdG1vZHVsZXMgc3VibW9kdWxlLnN1Ym1vZHVsZTIucGF0aCAibW92ZWQvc3ViIG1vZHVsZSIgJiYKCSBnaXQgY29tbWl0IC1hbSAicG9zdCBtb3ZlIiAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlICYmCgkgZ2l0IHN0YXR1cyA+IG91dCAmJgoJIHNlZCAicy8kSDIvWFhYLyIgb3V0ID5hY3R1YWwgJiYKCSB0ZXN0X2NtcCBleHBlY3QgYWN0dWFsCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgU1lNTElOS1MgJ3N1Ym1vZHVsZSB1cGRhdGUgY2FuIGhhbmRsZSBzeW1ib2xpYyBsaW5rcyBpbiBwd2QnICcKCW1rZGlyIC1wIGxpbmtlZC9kaXIgJiYKCWxuIC1zIGxpbmtlZC9kaXIgbGlua3RvICYmCgkoY2QgbGlua3RvICYmCgkgZ2l0IGNsb25lICIkVFJBU0hfRElSRUNUT1JZIi9zdXBlcl91cGRhdGVfcjIgc3VwZXIgJiYKCSAoY2Qgc3VwZXIgJiYKCSAgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1pbml0IC0tcmVjdXJzaXZlCgkgKQoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIGNsb25lIHNoYWxsb3cgc3VibW9kdWxlJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInJtIC1yZiBzdXBlcjMiICYmCglmaXJzdD0kKGdpdCAtQyBjbG9uZWQgcmV2LXBhcnNlIEhFQUQ6c3VibW9kdWxlKSAmJgoJc2Vjb25kPSQoZ2l0IC1DIHN1Ym1vZHVsZSByZXYtcGFyc2UgSEVBRCkgJiYKCWNvbW1pdF9jb3VudD0kKGdpdCAtQyBzdWJtb2R1bGUgcmV2LWxpc3QgLS1jb3VudCAkZmlyc3ReLi4kc2Vjb25kKSAmJgoJZ2l0IGNsb25lIGNsb25lZCBzdXBlcjMgJiYKCXB3ZD0kKHB3ZCkgJiYKCSgKCQljZCBzdXBlcjMgJiYKCQlzZWQgLWUgInMjdXJsID0gLi4vI3VybCA9IGZpbGU6Ly8kcHdkLyMiIDwuZ2l0bW9kdWxlcyA+LmdpdG1vZHVsZXMudG1wICYmCgkJbXYgLWYgLmdpdG1vZHVsZXMudG1wIC5naXRtb2R1bGVzICYmCgkJZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1pbml0IC0tZGVwdGg9JGNvbW1pdF9jb3VudCAmJgoJCWdpdCAtQyBzdWJtb2R1bGUgbG9nIC0tb25lbGluZSA+b3V0ICYmCgkJdGVzdF9saW5lX2NvdW50ID0gMSBvdXQKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSBjbG9uZSBzaGFsbG93IHN1Ym1vZHVsZSBvdXRzaWRlIG9mIGRlcHRoJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInJtIC1yZiBzdXBlcjMiICYmCglnaXQgY2xvbmUgY2xvbmVkIHN1cGVyMyAmJgoJcHdkPSQocHdkKSAmJgoJKAoJCWNkIHN1cGVyMyAmJgoJCXNlZCAtZSAicyN1cmwgPSAuLi8jdXJsID0gZmlsZTovLyRwd2QvIyIgPC5naXRtb2R1bGVzID4uZ2l0bW9kdWxlcy50bXAgJiYKCQltdiAtZiAuZ2l0bW9kdWxlcy50bXAgLmdpdG1vZHVsZXMgJiYKCQkjIFNvbWUgcHJvdG9jb2wgdmVyc2lvbnMgKGUuZy4gMikgc3VwcG9ydCBmZXRjaGluZwoJCSMgdW5hZHZlcnRpc2VkIG9iamVjdHMsIHNvIHJlc3RyaWN0IHRoaXMgdGVzdCB0byB2MC4KCQl0ZXN0X211c3RfZmFpbCBlbnYgR0lUX1RFU1RfUFJPVE9DT0xfVkVSU0lPTj0wIFwKCQkJZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1pbml0IC0tZGVwdGg9MSAyPmFjdHVhbCAmJgoJCXRlc3RfaTE4bmdyZXAgIkRpcmVjdCBmZXRjaGluZyBvZiB0aGF0IGNvbW1pdCBmYWlsZWQuIiBhY3R1YWwgJiYKCQlnaXQgLUMgLi4vc3VibW9kdWxlIGNvbmZpZyB1cGxvYWRwYWNrLmFsbG93UmVhY2hhYmxlU0hBMUluV2FudCB0cnVlICYmCgkJZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1pbml0IC0tZGVwdGg9MSA+YWN0dWFsICYmCgkJZ2l0IC1DIHN1Ym1vZHVsZSBsb2cgLS1vbmVsaW5lID5vdXQgJiYKCQl0ZXN0X2xpbmVfY291bnQgPSAxIG91dAoJKQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0tcmVjdXJzaXZlIGRyb3BzIG1vZHVsZSBuYW1lIGJlZm9yZSByZWN1cnNpbmcnICcKCShjZCBzdXBlcjIgJiYKCSAoY2QgZGVlcGVyL3N1Ym1vZHVsZS9zdWJzdWJtb2R1bGUgJiYKCSAgZ2l0IGNoZWNrb3V0IEhFQUReCgkgKSAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIC0tcmVjdXJzaXZlIGRlZXBlci9zdWJtb2R1bGUgPmFjdHVhbCAmJgoJIHRlc3RfaTE4bmdyZXAgIlN1Ym1vZHVsZSBwYXRoIC5kZWVwZXIvc3VibW9kdWxlL3N1YnN1Ym1vZHVsZS46IGNoZWNrZWQgb3V0IiBhY3R1YWwKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSBjYW4gYmUgcnVuIGluIHBhcmFsbGVsJyAnCgkoY2Qgc3VwZXIyICYmCgkgR0lUX1RSQUNFPSQocHdkKS90cmFjZS5vdXQgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1qb2JzIDcgJiYKCSBncmVwICI3IHRhc2tzIiB0cmFjZS5vdXQgJiYKCSBnaXQgY29uZmlnIHN1Ym1vZHVsZS5mZXRjaEpvYnMgOCAmJgoJIEdJVF9UUkFDRT0kKHB3ZCkvdHJhY2Uub3V0IGdpdCBzdWJtb2R1bGUgdXBkYXRlICYmCgkgZ3JlcCAiOCB0YXNrcyIgdHJhY2Uub3V0ICYmCgkgR0lUX1RSQUNFPSQocHdkKS90cmFjZS5vdXQgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1qb2JzIDkgJiYKCSBncmVwICI5IHRhc2tzIiB0cmFjZS5vdXQKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnZ2l0IGNsb25lIHBhc3NlcyB0aGUgcGFyYWxsZWwgam9icyBjb25maWcgb24gdG8gc3VibW9kdWxlcycgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJybSAtcmYgc3VwZXI0IiAmJgoJR0lUX1RSQUNFPSQocHdkKS90cmFjZS5vdXQgZ2l0IGNsb25lIC0tcmVjdXJzZS1zdWJtb2R1bGVzIC0tam9icyA3IC4gc3VwZXI0ICYmCglncmVwICI3IHRhc2tzIiB0cmFjZS5vdXQgJiYKCXJtIC1yZiBzdXBlcjQgJiYKCWdpdCBjb25maWcgLS1nbG9iYWwgc3VibW9kdWxlLmZldGNoSm9icyA4ICYmCglHSVRfVFJBQ0U9JChwd2QpL3RyYWNlLm91dCBnaXQgY2xvbmUgLS1yZWN1cnNlLXN1Ym1vZHVsZXMgLiBzdXBlcjQgJiYKCWdyZXAgIjggdGFza3MiIHRyYWNlLm91dCAmJgoJcm0gLXJmIHN1cGVyNCAmJgoJR0lUX1RSQUNFPSQocHdkKS90cmFjZS5vdXQgZ2l0IGNsb25lIC0tcmVjdXJzZS1zdWJtb2R1bGVzIC0tam9icyA5IC4gc3VwZXI0ICYmCglncmVwICI5IHRhc2tzIiB0cmFjZS5vdXQgJiYKCXJtIC1yZiBzdXBlcjQKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSAtLXF1aWV0IHBhc3NlcyBxdWlldG5lc3MgdG8gbWVyZ2UvcmViYXNlJyAnCgkoY2Qgc3VwZXIgJiYKCSB0ZXN0X2NvbW1pdCAtQyByZWJhc2luZyBtZXNzYWdlICYmCgkgZ2l0IHN1Ym1vZHVsZSB1cGRhdGUgLS1yZWJhc2UgLS1xdWlldCA+b3V0IDI+ZXJyICYmCgkgdGVzdF9tdXN0X2JlX2VtcHR5IG91dCAmJgoJIHRlc3RfbXVzdF9iZV9lbXB0eSBlcnIgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLXJlYmFzZSA+b3V0IDI+ZXJyICYmCgkgdGVzdF9maWxlX25vdF9lbXB0eSBvdXQgJiYKCSB0ZXN0X211c3RfYmVfZW1wdHkgZXJyCgkpCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgLS1xdWlldCBwYXNzZXMgcXVpZXRuZXNzIHRvIGZldGNoIHdpdGggYSBzaGFsbG93IGNsb25lJyAnCgl0ZXN0X3doZW5fZmluaXNoZWQgInJtIC1yZiBzdXBlcjQgc3VwZXI1IHN1cGVyNiIgJiYKCWdpdCBjbG9uZSAuIHN1cGVyNCAmJgoJKGNkIHN1cGVyNCAmJgoJIGdpdCBzdWJtb2R1bGUgYWRkIC0tcXVpZXQgZmlsZTovLyIkVFJBU0hfRElSRUNUT1JZIi9zdWJtb2R1bGUgc3VibW9kdWxlMyAmJgoJIGdpdCBjb21taXQgLWFtICJzZXR1cCBzdWJtb2R1bGUzIgoJKSAmJgoJKGNkIHN1Ym1vZHVsZSAmJgoJICB0ZXN0X2NvbW1pdCBsaW5lNiBmaWxlCgkpICYmCglnaXQgY2xvbmUgc3VwZXI0IHN1cGVyNSAmJgoJKGNkIHN1cGVyNSAmJgoJIGdpdCBzdWJtb2R1bGUgdXBkYXRlIC0tcXVpZXQgLS1pbml0IC0tZGVwdGg9MSBzdWJtb2R1bGUzID5vdXQgMj5lcnIgJiYKCSB0ZXN0X211c3RfYmVfZW1wdHkgb3V0ICYmCgkgdGVzdF9tdXN0X2JlX2VtcHR5IGVycgoJKSAmJgoJZ2l0IGNsb25lIHN1cGVyNCBzdXBlcjYgJiYKCShjZCBzdXBlcjYgJiYKCSBnaXQgc3VibW9kdWxlIHVwZGF0ZSAtLWluaXQgLS1kZXB0aD0xIHN1Ym1vZHVsZTMgPm91dCAyPmVyciAmJgoJIHRlc3RfZmlsZV9ub3RfZW1wdHkgb3V0ICYmCgkgdGVzdF9maWxlX25vdF9lbXB0eSBlcnIKCSkKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnc3VibW9kdWxlIHVwZGF0ZSAtLWZpbHRlciByZXF1aXJlcyAtLWluaXQnICcKCXRlc3RfZXhwZWN0X2NvZGUgMTI5IGdpdCAtQyBzdXBlciBzdWJtb2R1bGUgdXBkYXRlIC0tZmlsdGVyIGJsb2I6bm9uZQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0tZmlsdGVyIHNldHMgcGFydGlhbCBjbG9uZSBzZXR0aW5ncycgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJybSAtcmYgc3VwZXItZmlsdGVyIiAmJgoJZ2l0IGNsb25lIGNsb25lZCBzdXBlci1maWx0ZXIgJiYKCWdpdCAtQyBzdXBlci1maWx0ZXIgc3VibW9kdWxlIHVwZGF0ZSAtLWluaXQgLS1maWx0ZXIgYmxvYjpub25lICYmCgl0ZXN0X2NtcF9jb25maWcgLUMgc3VwZXItZmlsdGVyL3N1Ym1vZHVsZSB0cnVlIHJlbW90ZS5vcmlnaW4ucHJvbWlzb3IgJiYKCXRlc3RfY21wX2NvbmZpZyAtQyBzdXBlci1maWx0ZXIvc3VibW9kdWxlIGJsb2I6bm9uZSByZW1vdGUub3JpZ2luLnBhcnRpYWxjbG9uZWZpbHRlcgonCgojIE5FRURTV09SSzogQ2xlYW4gdXAgdGhlIHRlc3RzIHNvIHRoYXQgd2UgY2FuIHJldXNlIHRoZSB0ZXN0IHNldHVwLgojIERvbid0IHJldXNlIHRoZSBleGlzdGluZyByZXBvcyBiZWNhdXNlIHRoZSBlYXJsaWVyIHRlc3RzIGhhdmUKIyBpbnRlbnRpb25hbGx5IGRpc3J1cHRpdmUgY29uZmlndXJhdGlvbnMuCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3NldHVwIGNsZWFuIHJlY3Vyc2l2ZSBzdXBlcnByb2plY3QnICcKCWdpdCBpbml0IGJvdHRvbSAmJgoJdGVzdF9jb21taXQgLUMgYm90dG9tICJib3R0b20iICYmCglnaXQgaW5pdCBtaWRkbGUgJiYKCWdpdCAtQyBtaWRkbGUgc3VibW9kdWxlIGFkZCAuLi9ib3R0b20gYm90dG9tICYmCglnaXQgLUMgbWlkZGxlIGNvbW1pdCAtbSAibWlkZGxlIiAmJgoJZ2l0IGluaXQgdG9wICYmCglnaXQgLUMgdG9wIHN1Ym1vZHVsZSBhZGQgLi4vbWlkZGxlIG1pZGRsZSAmJgoJZ2l0IC1DIHRvcCBjb21taXQgLW0gInRvcCIgJiYKCWdpdCBjbG9uZSAtLXJlY3Vyc2Utc3VibW9kdWxlcyB0b3AgdG9wLWNsZWFuCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ3N1Ym1vZHVsZSB1cGRhdGUgc2hvdWxkIHNraXAgdW5tZXJnZWQgc3VibW9kdWxlcycgJwoJdGVzdF93aGVuX2ZpbmlzaGVkICJybSAtZnIgdG9wLWNsb25lZCIgJiYKCWNwIC1yIHRvcC1jbGVhbiB0b3AtY2xvbmVkICYmCgoJIyBDcmVhdGUgYW4gdXBzdHJlYW0gY29tbWl0IGluIGVhY2ggcmVwbywgc3RhcnRpbmcgd2l0aCBib3R0b20KCXRlc3RfY29tbWl0IC1DIGJvdHRvbSB1cHN0cmVhbV9jb21taXQgJiYKCSMgQ3JlYXRlIG1pZGRsZSBjb21taXQKCWdpdCAtQyBtaWRkbGUvYm90dG9tIGZldGNoICYmCglnaXQgLUMgbWlkZGxlL2JvdHRvbSBjaGVja291dCAtZiBGRVRDSF9IRUFEICYmCglnaXQgLUMgbWlkZGxlIGFkZCBib3R0b20gJiYKCWdpdCAtQyBtaWRkbGUgY29tbWl0IC1tICJ1cHN0cmVhbV9jb21taXQiICYmCgkjIENyZWF0ZSB0b3AgY29tbWl0CglnaXQgLUMgdG9wL21pZGRsZSBmZXRjaCAmJgoJZ2l0IC1DIHRvcC9taWRkbGUgY2hlY2tvdXQgLWYgRkVUQ0hfSEVBRCAmJgoJZ2l0IC1DIHRvcCBhZGQgbWlkZGxlICYmCglnaXQgLUMgdG9wIGNvbW1pdCAtbSAidXBzdHJlYW1fY29tbWl0IiAmJgoKCSMgQ3JlYXRlIGEgZG93bnN0cmVhbSBjb25mbGljdAoJdGVzdF9jb21taXQgLUMgdG9wLWNsb25lZC9taWRkbGUvYm90dG9tIGRvd25zdHJlYW1fY29tbWl0ICYmCglnaXQgLUMgdG9wLWNsb25lZC9taWRkbGUgYWRkIGJvdHRvbSAmJgoJZ2l0IC1DIHRvcC1jbG9uZWQvbWlkZGxlIGNvbW1pdCAtbSAiZG93bnN0cmVhbV9jb21taXQiICYmCglnaXQgLUMgdG9wLWNsb25lZC9taWRkbGUgZmV0Y2ggLS1yZWN1cnNlLXN1Ym1vZHVsZXMgb3JpZ2luICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgLUMgdG9wLWNsb25lZC9taWRkbGUgbWVyZ2Ugb3JpZ2luL21haW4gJiYKCgkjIE1ha2UgdGhlIHVwZGF0ZSBvZiAibWlkZGxlIiBhIG5vLW9wLCBvdGhlcndpc2Ugd2UgZXJyb3Igb3V0CgkjIGJlY2F1c2Ugb2YgaXRzIHVubWVyZ2VkIHN0YXRlCgl0ZXN0X2NvbmZpZyAtQyB0b3AtY2xvbmVkIHN1Ym1vZHVsZS5taWRkbGUudXBkYXRlICF0cnVlICYmCglnaXQgLUMgdG9wLWNsb25lZCBzdWJtb2R1bGUgdXBkYXRlIC0tcmVjdXJzaXZlIDI+YWN0dWFsLmVyciAmJgoJY2F0ID5leHBlY3QuZXJyIDw8LVxFT0YgJiYKCVNraXBwaW5nIHVubWVyZ2VkIHN1Ym1vZHVsZSBtaWRkbGUvYm90dG9tCglFT0YKCXRlc3RfY21wIGV4cGVjdC5lcnIgYWN0dWFsLmVycgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdzdWJtb2R1bGUgdXBkYXRlIC0tcmVjdXJzaXZlIHNraXAgc3VibW9kdWxlcyB3aXRoIHN0cmF0ZWd5PW5vbmUnICcKCXRlc3Rfd2hlbl9maW5pc2hlZCAicm0gLWZyIHRvcC1jbG9uZWQiICYmCgljcCAtciB0b3AtY2xlYW4gdG9wLWNsb25lZCAmJgoKCXRlc3RfY29tbWl0IC1DIHRvcC1jbG9uZWQvbWlkZGxlL2JvdHRvbSBkb3duc3RyZWFtX2NvbW1pdCAmJgoJZ2l0IC1DIHRvcC1jbG9uZWQvbWlkZGxlIGNvbmZpZyBzdWJtb2R1bGUuYm90dG9tLnVwZGF0ZSBub25lICYmCglnaXQgLUMgdG9wLWNsb25lZCBzdWJtb2R1bGUgdXBkYXRlIC0tcmVjdXJzaXZlIDI+YWN0dWFsLmVyciAmJgoJY2F0ID5leHBlY3QuZXJyIDw8LVxFT0YgJiYKCVNraXBwaW5nIHN1Ym1vZHVsZSAnXCcnbWlkZGxlL2JvdHRvbSdcJycKCUVPRgoJdGVzdF9jbXAgZXhwZWN0LmVyciBhY3R1YWwuZXJyCicKCmFkZF9zdWJtb2R1bGVfY29tbWl0X2FuZF92YWxpZGF0ZSAoKSB7CglIQVNIPSQoZ2l0IHJldi1wYXJzZSBIRUFEKSAmJgoJZ2l0IHVwZGF0ZS1pbmRleCAtLWFkZCAtLWNhY2hlaW5mbyAxNjAwMDAsJEhBU0gsc3ViICYmCglnaXQgY29tbWl0IC1tICJjcmVhdGUgc3VibW9kdWxlIiAmJgoJZWNobyAiMTYwMDAwIGNvbW1pdCAkSEFTSAlzdWIiID5leHBlY3QgJiYKCWdpdCBscy10cmVlIEhFQUQgLS0gc3ViID5hY3R1YWwgJiYKCXRlc3RfY21wIGV4cGVjdCBhY3R1YWwKfQoKdGVzdF9leHBlY3Rfc3VjY2VzcyAnY29tbWl0IHdpdGggc3RhZ2VkIHN1Ym1vZHVsZSBjaGFuZ2UnICcKCWFkZF9zdWJtb2R1bGVfY29tbWl0X2FuZF92YWxpZGF0ZQonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjb21taXQgd2l0aCBzdGFnZWQgc3VibW9kdWxlIGNoYW5nZSB3aXRoIGlnbm9yZVN1Ym1vZHVsZXMgZGlydHknICcKCXRlc3RfY29uZmlnIGRpZmYuaWdub3JlU3VibW9kdWxlcyBkaXJ0eSAmJgoJYWRkX3N1Ym1vZHVsZV9jb21taXRfYW5kX3ZhbGlkYXRlCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2NvbW1pdCB3aXRoIHN0YWdlZCBzdWJtb2R1bGUgY2hhbmdlIHdpdGggaWdub3JlU3VibW9kdWxlcyBhbGwnICcKCXRlc3RfY29uZmlnIGRpZmYuaWdub3JlU3VibW9kdWxlcyBhbGwgJiYKCWFkZF9zdWJtb2R1bGVfY29tbWl0X2FuZF92YWxpZGF0ZQonCgp0ZXN0X2RvbmUK",
    "text": "#!/bin/sh\n#\n# Copyright (c) 2009 Red Hat, Inc.\n#\n\ntest_description='Test updating submodules\n\nThis test verifies that \"git submodule update\" detaches the HEAD of the\nsubmodule and \"git submodule update --rebase/--merge\" does not detach the HEAD.\n'\n\nGIT_TEST_DEFAULT_INITIAL_BRANCH_NAME=main\nexport GIT_TEST_DEFAULT_INITIAL_BRANCH_NAME\n\n. ./test-lib.sh\n\n\ncompare_head()\n{\n    sha_main=$(git rev-list --max-count=1 main)\n    sha_head=$(git rev-list --max-count=1 HEAD)\n\n    test \"$sha_main\" = \"$sha_head\"\n}\n\n\ntest_expect_success 'setup a submodule tree' '\n\tgit config --global protocol.file.allow always &&\n\techo file > file &&\n\tgit add file &&\n\ttest_tick &&\n\tgit commit -m upstream &&\n\tgit clone . super &&\n\tgit clone super submodule &&\n\tgit clone super rebasing &&\n\tgit clone super merging &&\n\tgit clone super none &&\n\t(cd super &&\n\t git submodule add ../submodule submodule &&\n\t test_tick &&\n\t git commit -m \"submodule\" &&\n\t git submodule init submodule\n\t) &&\n\t(cd submodule &&\n\techo \"line2\" > file &&\n\tgit add file &&\n\tgit commit -m \"Commit 2\"\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  git pull --rebase origin\n\t ) &&\n\t git add submodule &&\n\t git commit -m \"submodule update\"\n\t) &&\n\t(cd super &&\n\t git submodule add ../rebasing rebasing &&\n\t test_tick &&\n\t git commit -m \"rebasing\"\n\t) &&\n\t(cd super &&\n\t git submodule add ../merging merging &&\n\t test_tick &&\n\t git commit -m \"rebasing\"\n\t) &&\n\t(cd super &&\n\t git submodule add ../none none &&\n\t test_tick &&\n\t git commit -m \"none\"\n\t) &&\n\tgit clone . recursivesuper &&\n\t( cd recursivesuper &&\n\t git submodule add ../super super\n\t)\n'\n\ntest_expect_success 'update --remote falls back to using HEAD' '\n\ttest_create_repo main-branch-submodule &&\n\ttest_commit -C main-branch-submodule initial &&\n\n\ttest_create_repo main-branch &&\n\tgit -C main-branch submodule add ../main-branch-submodule &&\n\tgit -C main-branch commit -m add-submodule &&\n\n\tgit -C main-branch-submodule switch -c hello &&\n\ttest_commit -C main-branch-submodule world &&\n\n\tgit clone --recursive main-branch main-branch-clone &&\n\tgit -C main-branch-clone submodule update --remote main-branch-submodule &&\n\ttest_path_exists main-branch-clone/main-branch-submodule/world.t\n'\n\ntest_expect_success 'submodule update detaching the HEAD ' '\n\t(cd super/submodule &&\n\t git reset --hard HEAD~1\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update submodule &&\n\t cd submodule &&\n\t ! compare_head\n\t)\n'\n\ntest_expect_success 'submodule update from subdirectory' '\n\t(cd super/submodule &&\n\t git reset --hard HEAD~1\n\t) &&\n\tmkdir super/sub &&\n\t(cd super/sub &&\n\t (cd ../submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update ../submodule &&\n\t cd ../submodule &&\n\t ! compare_head\n\t)\n'\n\nsupersha1=$(git -C super rev-parse HEAD)\nmergingsha1=$(git -C super/merging rev-parse HEAD)\nnonesha1=$(git -C super/none rev-parse HEAD)\nrebasingsha1=$(git -C super/rebasing rev-parse HEAD)\nsubmodulesha1=$(git -C super/submodule rev-parse HEAD)\npwd=$(pwd)\n\ncat <<EOF >expect\nSubmodule path '../super': checked out '$supersha1'\nSubmodule path '../super/merging': checked out '$mergingsha1'\nSubmodule path '../super/none': checked out '$nonesha1'\nSubmodule path '../super/rebasing': checked out '$rebasingsha1'\nSubmodule path '../super/submodule': checked out '$submodulesha1'\nEOF\n\ncat <<EOF >expect2\nCloning into '$pwd/recursivesuper/super/merging'...\nCloning into '$pwd/recursivesuper/super/none'...\nCloning into '$pwd/recursivesuper/super/rebasing'...\nCloning into '$pwd/recursivesuper/super/submodule'...\nSubmodule 'merging' ($pwd/merging) registered for path '../super/merging'\nSubmodule 'none' ($pwd/none) registered for path '../super/none'\nSubmodule 'rebasing' ($pwd/rebasing) registered for path '../super/rebasing'\nSubmodule 'submodule' ($pwd/submodule) registered for path '../super/submodule'\ndone.\ndone.\ndone.\ndone.\nEOF\n\ntest_expect_success 'submodule update --init --recursive from subdirectory' '\n\tgit -C recursivesuper/super reset --hard HEAD^ &&\n\t(cd recursivesuper &&\n\t mkdir tmp &&\n\t cd tmp &&\n\t git submodule update --init --recursive ../super >../../actual 2>../../actual2\n\t) &&\n\ttest_cmp expect actual &&\n\tsort actual2 >actual2.sorted &&\n\ttest_cmp expect2 actual2.sorted\n'\n\ncat <<EOF >expect2\nSubmodule 'foo/sub' ($pwd/withsubs/../rebasing) registered for path 'sub'\nEOF\n\ntest_expect_success 'submodule update --init from and of subdirectory' '\n\tgit init withsubs &&\n\t(cd withsubs &&\n\t mkdir foo &&\n\t git submodule add \"$(pwd)/../rebasing\" foo/sub &&\n\t (cd foo &&\n\t  git submodule deinit -f sub &&\n\t  git submodule update --init sub 2>../../actual2\n\t )\n\t) &&\n\ttest_cmp expect2 actual2\n'\n\ntest_expect_success 'submodule update does not fetch already present commits' '\n\t(cd submodule &&\n\t  echo line3 >> file &&\n\t  git add file &&\n\t  test_tick &&\n\t  git commit -m \"upstream line3\"\n\t) &&\n\t(cd super/submodule &&\n\t  head=$(git rev-parse --verify HEAD) &&\n\t  echo \"Submodule path ${SQ}submodule$SQ: checked out $SQ$head$SQ\" > ../../expected &&\n\t  git reset --hard HEAD~1\n\t) &&\n\t(cd super &&\n\t  git submodule update > ../actual 2> ../actual.err\n\t) &&\n\ttest_cmp expected actual &&\n\ttest_must_be_empty actual.err\n'\n\ntest_expect_success 'submodule update should fail due to local changes' '\n\t(cd super/submodule &&\n\t git reset --hard HEAD~1 &&\n\t echo \"local change\" > file\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t test_must_fail git submodule update submodule 2>../actual.raw\n\t) &&\n\tsed \"s/^> //\" >expect <<-\\EOF &&\n\t> error: Your local changes to the following files would be overwritten by checkout:\n\t> \tfile\n\t> Please commit your changes or stash them before you switch branches.\n\t> Aborting\n\t> fatal: Unable to checkout OID in submodule path '\\''submodule'\\''\n\tEOF\n\tsed -e \"s/checkout $SQ[^$SQ]*$SQ/checkout OID/\" <actual.raw >actual &&\n\ttest_cmp expect actual\n\n'\ntest_expect_success 'submodule update should throw away changes with --force ' '\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update --force submodule &&\n\t cd submodule &&\n\t ! compare_head\n\t)\n'\n\ntest_expect_success 'submodule update --force forcibly checks out submodules' '\n\t(cd super &&\n\t (cd submodule &&\n\t  rm -f file\n\t ) &&\n\t git submodule update --force submodule &&\n\t (cd submodule &&\n\t  test \"$(git status -s file)\" = \"\"\n\t )\n\t)\n'\n\ntest_expect_success 'submodule update --remote should fetch upstream changes' '\n\t(cd submodule &&\n\t echo line4 >> file &&\n\t git add file &&\n\t test_tick &&\n\t git commit -m \"upstream line4\"\n\t) &&\n\t(cd super &&\n\t git submodule update --remote --force submodule &&\n\t cd submodule &&\n\t test \"$(git log -1 --oneline)\" = \"$(GIT_DIR=../../submodule/.git git log -1 --oneline)\"\n\t)\n'\n\ntest_expect_success 'submodule update --remote should fetch upstream changes with .' '\n\t(\n\t\tcd super &&\n\t\tgit config -f .gitmodules submodule.\"submodule\".branch \".\" &&\n\t\tgit add .gitmodules &&\n\t\tgit commit -m \"submodules: update from the respective superproject branch\"\n\t) &&\n\t(\n\t\tcd submodule &&\n\t\techo line4a >> file &&\n\t\tgit add file &&\n\t\ttest_tick &&\n\t\tgit commit -m \"upstream line4a\" &&\n\t\tgit checkout -b test-branch &&\n\t\ttest_commit on-test-branch\n\t) &&\n\t(\n\t\tcd super &&\n\t\tgit submodule update --remote --force submodule &&\n\t\tgit -C submodule log -1 --oneline >actual &&\n\t\tgit -C ../submodule log -1 --oneline main >expect &&\n\t\ttest_cmp expect actual &&\n\t\tgit checkout -b test-branch &&\n\t\tgit submodule update --remote --force submodule &&\n\t\tgit -C submodule log -1 --oneline >actual &&\n\t\tgit -C ../submodule log -1 --oneline test-branch >expect &&\n\t\ttest_cmp expect actual &&\n\t\tgit checkout main &&\n\t\tgit branch -d test-branch &&\n\t\tgit reset --hard HEAD^\n\t)\n'\n\ntest_expect_success 'local config should override .gitmodules branch' '\n\t(cd submodule &&\n\t git checkout test-branch &&\n\t echo line5 >> file &&\n\t git add file &&\n\t test_tick &&\n\t git commit -m \"upstream line5\" &&\n\t git checkout main\n\t) &&\n\t(cd super &&\n\t git config submodule.submodule.branch test-branch &&\n\t git submodule update --remote --force submodule &&\n\t cd submodule &&\n\t test \"$(git log -1 --oneline)\" = \"$(GIT_DIR=../../submodule/.git git log -1 --oneline test-branch)\"\n\t)\n'\n\ntest_expect_success 'submodule update --rebase staying on main' '\n\t(cd super/submodule &&\n\t  git checkout main\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update --rebase submodule &&\n\t cd submodule &&\n\t compare_head\n\t)\n'\n\ntest_expect_success 'submodule update --merge staying on main' '\n\t(cd super/submodule &&\n\t  git reset --hard HEAD~1\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update --merge submodule &&\n\t cd submodule &&\n\t compare_head\n\t)\n'\n\ntest_expect_success 'submodule update - rebase in .git/config' '\n\t(cd super &&\n\t git config submodule.submodule.update rebase\n\t) &&\n\t(cd super/submodule &&\n\t  git reset --hard HEAD~1\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update submodule &&\n\t cd submodule &&\n\t compare_head\n\t)\n'\n\ntest_expect_success 'submodule update - checkout in .git/config but --rebase given' '\n\t(cd super &&\n\t git config submodule.submodule.update checkout\n\t) &&\n\t(cd super/submodule &&\n\t  git reset --hard HEAD~1\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update --rebase submodule &&\n\t cd submodule &&\n\t compare_head\n\t)\n'\n\ntest_expect_success 'submodule update - merge in .git/config' '\n\t(cd super &&\n\t git config submodule.submodule.update merge\n\t) &&\n\t(cd super/submodule &&\n\t  git reset --hard HEAD~1\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update submodule &&\n\t cd submodule &&\n\t compare_head\n\t)\n'\n\ntest_expect_success 'submodule update - checkout in .git/config but --merge given' '\n\t(cd super &&\n\t git config submodule.submodule.update checkout\n\t) &&\n\t(cd super/submodule &&\n\t  git reset --hard HEAD~1\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update --merge submodule &&\n\t cd submodule &&\n\t compare_head\n\t)\n'\n\ntest_expect_success 'submodule update - checkout in .git/config' '\n\t(cd super &&\n\t git config submodule.submodule.update checkout\n\t) &&\n\t(cd super/submodule &&\n\t  git reset --hard HEAD^\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update submodule &&\n\t cd submodule &&\n\t ! compare_head\n\t)\n'\n\ntest_expect_success 'submodule update - command in .git/config' '\n\t(cd super &&\n\t git config submodule.submodule.update \"!git checkout\"\n\t) &&\n\t(cd super/submodule &&\n\t  git reset --hard HEAD^\n\t) &&\n\t(cd super &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git submodule update submodule &&\n\t cd submodule &&\n\t ! compare_head\n\t)\n'\n\ntest_expect_success 'submodule update - command in .gitmodules is rejected' '\n\ttest_when_finished \"git -C super reset --hard HEAD^\" &&\n\tgit -C super config -f .gitmodules submodule.submodule.update \"!false\" &&\n\tgit -C super commit -a -m \"add command to .gitmodules file\" &&\n\tgit -C super/submodule reset --hard $submodulesha1^ &&\n\ttest_must_fail git -C super submodule update submodule\n'\n\ntest_expect_success 'fsck detects command in .gitmodules' '\n\tgit init command-in-gitmodules &&\n\t(\n\t\tcd command-in-gitmodules &&\n\t\tgit submodule add ../submodule submodule &&\n\t\ttest_commit adding-submodule &&\n\n\t\tgit config -f .gitmodules submodule.submodule.update \"!false\" &&\n\t\tgit add .gitmodules &&\n\t\ttest_commit configuring-update &&\n\t\ttest_must_fail git fsck\n\t)\n'\n\ncat << EOF >expect\nfatal: Execution of 'false $submodulesha1' failed in submodule path 'submodule'\nEOF\n\ntest_expect_success 'submodule update - command in .git/config catches failure' '\n\t(cd super &&\n\t git config submodule.submodule.update \"!false\"\n\t) &&\n\t(cd super/submodule &&\n\t  git reset --hard $submodulesha1^\n\t) &&\n\t(cd super &&\n\t test_must_fail git submodule update submodule 2>../actual\n\t) &&\n\ttest_cmp actual expect\n'\n\ncat << EOF >expect\nfatal: Execution of 'false $submodulesha1' failed in submodule path '../submodule'\nEOF\n\ntest_expect_success 'submodule update - command in .git/config catches failure -- subdirectory' '\n\t(cd super &&\n\t git config submodule.submodule.update \"!false\"\n\t) &&\n\t(cd super/submodule &&\n\t  git reset --hard $submodulesha1^\n\t) &&\n\t(cd super &&\n\t mkdir tmp && cd tmp &&\n\t test_must_fail git submodule update ../submodule 2>../../actual\n\t) &&\n\ttest_cmp actual expect\n'\n\ntest_expect_success 'submodule update - command run for initial population of submodule' '\n\tcat >expect <<-EOF &&\n\tfatal: Execution of '\\''false $submodulesha1'\\'' failed in submodule path '\\''submodule'\\''\n\tEOF\n\trm -rf super/submodule &&\n\ttest_must_fail git -C super submodule update 2>actual &&\n\ttest_cmp expect actual &&\n\tgit -C super submodule update --checkout\n'\n\ncat << EOF >expect\nfatal: Execution of 'false $submodulesha1' failed in submodule path '../super/submodule'\nfatal: Failed to recurse into submodule path '../super'\nEOF\n\ntest_expect_success 'recursive submodule update - command in .git/config catches failure -- subdirectory' '\n\t(cd recursivesuper &&\n\t git submodule update --remote super &&\n\t git add super &&\n\t git commit -m \"update to latest to have more than one commit in submodules\"\n\t) &&\n\tgit -C recursivesuper/super config submodule.submodule.update \"!false\" &&\n\tgit -C recursivesuper/super/submodule reset --hard $submodulesha1^ &&\n\t(cd recursivesuper &&\n\t mkdir -p tmp && cd tmp &&\n\t test_must_fail git submodule update --recursive ../super 2>../../actual\n\t) &&\n\ttest_cmp actual expect\n'\n\ntest_expect_success 'submodule init does not copy command into .git/config' '\n\ttest_when_finished \"git -C super update-index --force-remove submodule1\" &&\n\ttest_when_finished git config -f super/.gitmodules \\\n\t\t--remove-section submodule.submodule1 &&\n\t(cd super &&\n\t git ls-files -s submodule >out &&\n\t H=$(cut -d\" \" -f2 out) &&\n\t mkdir submodule1 &&\n\t git update-index --add --cacheinfo 160000 $H submodule1 &&\n\t git config -f .gitmodules submodule.submodule1.path submodule1 &&\n\t git config -f .gitmodules submodule.submodule1.url ../submodule &&\n\t git config -f .gitmodules submodule.submodule1.update !false &&\n\t test_must_fail git submodule init submodule1 &&\n\t test_expect_code 1 git config submodule.submodule1.update >actual &&\n\t test_must_be_empty actual\n\t)\n'\n\ntest_expect_success 'submodule init picks up rebase' '\n\t(cd super &&\n\t git config -f .gitmodules submodule.rebasing.update rebase &&\n\t git submodule init rebasing &&\n\t test \"rebase\" = \"$(git config submodule.rebasing.update)\"\n\t)\n'\n\ntest_expect_success 'submodule init picks up merge' '\n\t(cd super &&\n\t git config -f .gitmodules submodule.merging.update merge &&\n\t git submodule init merging &&\n\t test \"merge\" = \"$(git config submodule.merging.update)\"\n\t)\n'\n\ntest_expect_success 'submodule update --merge  - ignores --merge  for new submodules' '\n\ttest_config -C super submodule.submodule.update checkout &&\n\t(cd super &&\n\t rm -rf submodule &&\n\t git submodule update submodule &&\n\t git status -s submodule >expect &&\n\t rm -rf submodule &&\n\t git submodule update --merge submodule &&\n\t git status -s submodule >actual &&\n\t test_cmp expect actual\n\t)\n'\n\ntest_expect_success 'submodule update --rebase - ignores --rebase for new submodules' '\n\ttest_config -C super submodule.submodule.update checkout &&\n\t(cd super &&\n\t rm -rf submodule &&\n\t git submodule update submodule &&\n\t git status -s submodule >expect &&\n\t rm -rf submodule &&\n\t git submodule update --rebase submodule &&\n\t git status -s submodule >actual &&\n\t test_cmp expect actual\n\t)\n'\n\ntest_expect_success 'submodule update ignores update=merge config for new submodules' '\n\t(cd super &&\n\t rm -rf submodule &&\n\t git submodule update submodule &&\n\t git status -s submodule >expect &&\n\t rm -rf submodule &&\n\t git config submodule.submodule.update merge &&\n\t git submodule update submodule &&\n\t git status -s submodule >actual &&\n\t git config --unset submodule.submodule.update &&\n\t test_cmp expect actual\n\t)\n'\n\ntest_expect_success 'submodule update ignores update=rebase config for new submodules' '\n\t(cd super &&\n\t rm -rf submodule &&\n\t git submodule update submodule &&\n\t git status -s submodule >expect &&\n\t rm -rf submodule &&\n\t git config submodule.submodule.update rebase &&\n\t git submodule update submodule &&\n\t git status -s submodule >actual &&\n\t git config --unset submodule.submodule.update &&\n\t test_cmp expect actual\n\t)\n'\n\ntest_expect_success 'submodule init picks up update=none' '\n\t(cd super &&\n\t git config -f .gitmodules submodule.none.update none &&\n\t git submodule init none &&\n\t test \"none\" = \"$(git config submodule.none.update)\"\n\t)\n'\n\ntest_expect_success 'submodule update - update=none in .git/config' '\n\t(cd super &&\n\t git config submodule.submodule.update none &&\n\t (cd submodule &&\n\t  git checkout main &&\n\t  compare_head\n\t ) &&\n\t git diff --name-only >out &&\n\t grep ^submodule$ out &&\n\t git submodule update &&\n\t git diff --name-only >out &&\n\t grep ^submodule$ out &&\n\t (cd submodule &&\n\t  compare_head\n\t ) &&\n\t git config --unset submodule.submodule.update &&\n\t git submodule update submodule\n\t)\n'\n\ntest_expect_success 'submodule update - update=none in .git/config but --checkout given' '\n\t(cd super &&\n\t git config submodule.submodule.update none &&\n\t (cd submodule &&\n\t  git checkout main &&\n\t  compare_head\n\t ) &&\n\t git diff --name-only >out &&\n\t grep ^submodule$ out &&\n\t git submodule update --checkout &&\n\t git diff --name-only >out &&\n\t ! grep ^submodule$ out &&\n\t (cd submodule &&\n\t  ! compare_head\n\t ) &&\n\t git config --unset submodule.submodule.update\n\t)\n'\n\ntest_expect_success 'submodule update --init skips submodule with update=none' '\n\t(cd super &&\n\t git add .gitmodules &&\n\t git commit -m \".gitmodules\"\n\t) &&\n\tgit clone super cloned &&\n\t(cd cloned &&\n\t git submodule update --init &&\n\t test_path_exists submodule/.git &&\n\t test_path_is_missing none/.git\n\t)\n'\n\ntest_expect_success 'submodule update with pathspec warns against uninitialized ones' '\n\ttest_when_finished \"rm -fr selective\" &&\n\tgit clone super selective &&\n\t(\n\t\tcd selective &&\n\t\tgit submodule init submodule &&\n\n\t\tgit submodule update submodule 2>err &&\n\t\t! grep \"Submodule path .* not initialized\" err &&\n\n\t\tgit submodule update rebasing 2>err &&\n\t\tgrep \"Submodule path .rebasing. not initialized\" err &&\n\n\t\ttest_path_exists submodule/.git &&\n\t\ttest_path_is_missing rebasing/.git\n\t)\n\n'\n\ntest_expect_success 'submodule update without pathspec updates only initialized ones' '\n\ttest_when_finished \"rm -fr selective\" &&\n\tgit clone super selective &&\n\t(\n\t\tcd selective &&\n\t\tgit submodule init submodule &&\n\t\tgit submodule update 2>err &&\n\t\ttest_path_exists submodule/.git &&\n\t\ttest_path_is_missing rebasing/.git &&\n\t\t! grep \"Submodule path .* not initialized\" err\n\t)\n\n'\n\ntest_expect_success 'submodule update continues after checkout error' '\n\t(cd super &&\n\t git reset --hard HEAD &&\n\t git submodule add ../submodule submodule2 &&\n\t git submodule init &&\n\t git commit -am \"new_submodule\" &&\n\t (cd submodule2 &&\n\t  git rev-parse --verify HEAD >../expect\n\t ) &&\n\t (cd submodule &&\n\t  test_commit \"update_submodule\" file\n\t ) &&\n\t (cd submodule2 &&\n\t  test_commit \"update_submodule2\" file\n\t ) &&\n\t git add submodule &&\n\t git add submodule2 &&\n\t git commit -m \"two_new_submodule_commits\" &&\n\t (cd submodule &&\n\t  echo \"\" > file\n\t ) &&\n\t git checkout HEAD^ &&\n\t test_must_fail git submodule update &&\n\t (cd submodule2 &&\n\t  git rev-parse --verify HEAD >../actual\n\t ) &&\n\t test_cmp expect actual\n\t)\n'\ntest_expect_success 'submodule update continues after recursive checkout error' '\n\t(cd super &&\n\t git reset --hard HEAD &&\n\t git checkout main &&\n\t git submodule update &&\n\t (cd submodule &&\n\t  git submodule add ../submodule subsubmodule &&\n\t  git submodule init &&\n\t  git commit -m \"new_subsubmodule\"\n\t ) &&\n\t git add submodule &&\n\t git commit -m \"update_submodule\" &&\n\t (cd submodule &&\n\t  (cd subsubmodule &&\n\t   test_commit \"update_subsubmodule\" file\n\t  ) &&\n\t  git add subsubmodule &&\n\t  test_commit \"update_submodule_again\" file &&\n\t  (cd subsubmodule &&\n\t   test_commit \"update_subsubmodule_again\" file\n\t  ) &&\n\t  test_commit \"update_submodule_again_again\" file\n\t ) &&\n\t (cd submodule2 &&\n\t  git rev-parse --verify HEAD >../expect &&\n\t  test_commit \"update_submodule2_again\" file\n\t ) &&\n\t git add submodule &&\n\t git add submodule2 &&\n\t git commit -m \"new_commits\" &&\n\t git checkout HEAD^ &&\n\t (cd submodule &&\n\t  git checkout HEAD^ &&\n\t  (cd subsubmodule &&\n\t   echo \"\" > file\n\t  )\n\t ) &&\n\t test_expect_code 1 git submodule update --recursive &&\n\t (cd submodule2 &&\n\t  git rev-parse --verify HEAD >../actual\n\t ) &&\n\t test_cmp expect actual\n\t)\n'\n\ntest_expect_success 'submodule update exit immediately in case of merge conflict' '\n\t(cd super &&\n\t git checkout main &&\n\t git reset --hard HEAD &&\n\t (cd submodule &&\n\t  (cd subsubmodule &&\n\t   git reset --hard HEAD\n\t  )\n\t ) &&\n\t git submodule update --recursive &&\n\t (cd submodule &&\n\t  test_commit \"update_submodule_2\" file\n\t ) &&\n\t (cd submodule2 &&\n\t  test_commit \"update_submodule2_2\" file\n\t ) &&\n\t git add submodule &&\n\t git add submodule2 &&\n\t git commit -m \"two_new_submodule_commits\" &&\n\t (cd submodule &&\n\t  git checkout main &&\n\t  test_commit \"conflict\" file &&\n\t  echo \"conflict\" > file\n\t ) &&\n\t git checkout HEAD^ &&\n\t (cd submodule2 &&\n\t  git rev-parse --verify HEAD >../expect\n\t ) &&\n\t git config submodule.submodule.update merge &&\n\t test_must_fail git submodule update &&\n\t (cd submodule2 &&\n\t  git rev-parse --verify HEAD >../actual\n\t ) &&\n\t test_cmp expect actual\n\t)\n'\n\ntest_expect_success 'submodule update exit immediately after recursive rebase error' '\n\t(cd super &&\n\t git checkout main &&\n\t git reset --hard HEAD &&\n\t (cd submodule &&\n\t  git reset --hard HEAD &&\n\t  git submodule update --recursive\n\t ) &&\n\t (cd submodule &&\n\t  test_commit \"update_submodule_3\" file\n\t ) &&\n\t (cd submodule2 &&\n\t  test_commit \"update_submodule2_3\" file\n\t ) &&\n\t git add submodule &&\n\t git add submodule2 &&\n\t git commit -m \"two_new_submodule_commits\" &&\n\t (cd submodule &&\n\t  git checkout main &&\n\t  test_commit \"conflict2\" file &&\n\t  echo \"conflict\" > file\n\t ) &&\n\t git checkout HEAD^ &&\n\t (cd submodule2 &&\n\t  git rev-parse --verify HEAD >../expect\n\t ) &&\n\t git config submodule.submodule.update rebase &&\n\t test_must_fail git submodule update &&\n\t (cd submodule2 &&\n\t  git rev-parse --verify HEAD >../actual\n\t ) &&\n\t test_cmp expect actual\n\t)\n'\n\ntest_expect_success 'add different submodules to the same path' '\n\t(cd super &&\n\t git submodule add ../submodule s1 &&\n\t test_must_fail git submodule add ../merging s1\n\t)\n'\n\ntest_expect_success 'submodule add places git-dir in superprojects git-dir' '\n\t(cd super &&\n\t mkdir deeper &&\n\t git submodule add ../submodule deeper/submodule &&\n\t (cd deeper/submodule &&\n\t  git log > ../../expected\n\t ) &&\n\t (cd .git/modules/deeper/submodule &&\n\t  git log > ../../../../actual\n\t ) &&\n\t test_cmp expected actual\n\t)\n'\n\ntest_expect_success 'submodule update places git-dir in superprojects git-dir' '\n\t(cd super &&\n\t git commit -m \"added submodule\"\n\t) &&\n\tgit clone super super2 &&\n\t(cd super2 &&\n\t git submodule init deeper/submodule &&\n\t git submodule update &&\n\t (cd deeper/submodule &&\n\t  git log > ../../expected\n\t ) &&\n\t (cd .git/modules/deeper/submodule &&\n\t  git log > ../../../../actual\n\t ) &&\n\t test_cmp expected actual\n\t)\n'\n\ntest_expect_success 'submodule add places git-dir in superprojects git-dir recursive' '\n\t(cd super2 &&\n\t (cd deeper/submodule &&\n\t  git submodule add ../submodule subsubmodule &&\n\t  (cd subsubmodule &&\n\t   git log > ../../../expected\n\t  ) &&\n\t  git commit -m \"added subsubmodule\" &&\n\t  git push origin :\n\t ) &&\n\t (cd .git/modules/deeper/submodule/modules/subsubmodule &&\n\t  git log > ../../../../../actual\n\t ) &&\n\t git add deeper/submodule &&\n\t git commit -m \"update submodule\" &&\n\t git push origin : &&\n\t test_cmp expected actual\n\t)\n'\n\ntest_expect_success 'submodule update places git-dir in superprojects git-dir recursive' '\n\tmkdir super_update_r &&\n\t(cd super_update_r &&\n\t git init --bare\n\t) &&\n\tmkdir subsuper_update_r &&\n\t(cd subsuper_update_r &&\n\t git init --bare\n\t) &&\n\tmkdir subsubsuper_update_r &&\n\t(cd subsubsuper_update_r &&\n\t git init --bare\n\t) &&\n\tgit clone subsubsuper_update_r subsubsuper_update_r2 &&\n\t(cd subsubsuper_update_r2 &&\n\t test_commit \"update_subsubsuper\" file &&\n\t git push origin main\n\t) &&\n\tgit clone subsuper_update_r subsuper_update_r2 &&\n\t(cd subsuper_update_r2 &&\n\t test_commit \"update_subsuper\" file &&\n\t git submodule add ../subsubsuper_update_r subsubmodule &&\n\t git commit -am \"subsubmodule\" &&\n\t git push origin main\n\t) &&\n\tgit clone super_update_r super_update_r2 &&\n\t(cd super_update_r2 &&\n\t test_commit \"update_super\" file &&\n\t git submodule add ../subsuper_update_r submodule &&\n\t git commit -am \"submodule\" &&\n\t git push origin main\n\t) &&\n\trm -rf super_update_r2 &&\n\tgit clone super_update_r super_update_r2 &&\n\t(cd super_update_r2 &&\n\t git submodule update --init --recursive >actual &&\n\t test_i18ngrep \"Submodule path .submodule/subsubmodule.: checked out\" actual &&\n\t (cd submodule/subsubmodule &&\n\t  git log > ../../expected\n\t ) &&\n\t (cd .git/modules/submodule/modules/subsubmodule &&\n\t  git log > ../../../../../actual\n\t ) &&\n\t test_cmp expected actual\n\t)\n'\n\ntest_expect_success 'submodule add properly re-creates deeper level submodules' '\n\t(cd super &&\n\t git reset --hard main &&\n\t rm -rf deeper/ &&\n\t git submodule add --force ../submodule deeper/submodule\n\t)\n'\n\ntest_expect_success 'submodule update properly revives a moved submodule' '\n\t(cd super &&\n\t H=$(git rev-parse --short HEAD) &&\n\t git commit -am \"pre move\" &&\n\t H2=$(git rev-parse --short HEAD) &&\n\t git status >out &&\n\t sed \"s/$H/XXX/\" out >expect &&\n\t H=$(cd submodule2 && git rev-parse HEAD) &&\n\t git rm --cached submodule2 &&\n\t rm -rf submodule2 &&\n\t mkdir -p \"moved/sub module\" &&\n\t git update-index --add --cacheinfo 160000 $H \"moved/sub module\" &&\n\t git config -f .gitmodules submodule.submodule2.path \"moved/sub module\" &&\n\t git commit -am \"post move\" &&\n\t git submodule update &&\n\t git status > out &&\n\t sed \"s/$H2/XXX/\" out >actual &&\n\t test_cmp expect actual\n\t)\n'\n\ntest_expect_success SYMLINKS 'submodule update can handle symbolic links in pwd' '\n\tmkdir -p linked/dir &&\n\tln -s linked/dir linkto &&\n\t(cd linkto &&\n\t git clone \"$TRASH_DIRECTORY\"/super_update_r2 super &&\n\t (cd super &&\n\t  git submodule update --init --recursive\n\t )\n\t)\n'\n\ntest_expect_success 'submodule update clone shallow submodule' '\n\ttest_when_finished \"rm -rf super3\" &&\n\tfirst=$(git -C cloned rev-parse HEAD:submodule) &&\n\tsecond=$(git -C submodule rev-parse HEAD) &&\n\tcommit_count=$(git -C submodule rev-list --count $first^..$second) &&\n\tgit clone cloned super3 &&\n\tpwd=$(pwd) &&\n\t(\n\t\tcd super3 &&\n\t\tsed -e \"s#url = ../#url = file://$pwd/#\" <.gitmodules >.gitmodules.tmp &&\n\t\tmv -f .gitmodules.tmp .gitmodules &&\n\t\tgit submodule update --init --depth=$commit_count &&\n\t\tgit -C submodule log --oneline >out &&\n\t\ttest_line_count = 1 out\n\t)\n'\n\ntest_expect_success 'submodule update clone shallow submodule outside of depth' '\n\ttest_when_finished \"rm -rf super3\" &&\n\tgit clone cloned super3 &&\n\tpwd=$(pwd) &&\n\t(\n\t\tcd super3 &&\n\t\tsed -e \"s#url = ../#url = file://$pwd/#\" <.gitmodules >.gitmodules.tmp &&\n\t\tmv -f .gitmodules.tmp .gitmodules &&\n\t\t# Some protocol versions (e.g. 2) support fetching\n\t\t# unadvertised objects, so restrict this test to v0.\n\t\ttest_must_fail env GIT_TEST_PROTOCOL_VERSION=0 \\\n\t\t\tgit submodule update --init --depth=1 2>actual &&\n\t\ttest_i18ngrep \"Direct fetching of that commit failed.\" actual &&\n\t\tgit -C ../submodule config uploadpack.allowReachableSHA1InWant true &&\n\t\tgit submodule update --init --depth=1 >actual &&\n\t\tgit -C submodule log --oneline >out &&\n\t\ttest_line_count = 1 out\n\t)\n'\n\ntest_expect_success 'submodule update --recursive drops module name before recursing' '\n\t(cd super2 &&\n\t (cd deeper/submodule/subsubmodule &&\n\t  git checkout HEAD^\n\t ) &&\n\t git submodule update --recursive deeper/submodule >actual &&\n\t test_i18ngrep \"Submodule path .deeper/submodule/subsubmodule.: checked out\" actual\n\t)\n'\n\ntest_expect_success 'submodule update can be run in parallel' '\n\t(cd super2 &&\n\t GIT_TRACE=$(pwd)/trace.out git submodule update --jobs 7 &&\n\t grep \"7 tasks\" trace.out &&\n\t git config submodule.fetchJobs 8 &&\n\t GIT_TRACE=$(pwd)/trace.out git submodule update &&\n\t grep \"8 tasks\" trace.out &&\n\t GIT_TRACE=$(pwd)/trace.out git submodule update --jobs 9 &&\n\t grep \"9 tasks\" trace.out\n\t)\n'\n\ntest_expect_success 'git clone passes the parallel jobs config on to submodules' '\n\ttest_when_finished \"rm -rf super4\" &&\n\tGIT_TRACE=$(pwd)/trace.out git clone --recurse-submodules --jobs 7 . super4 &&\n\tgrep \"7 tasks\" trace.out &&\n\trm -rf super4 &&\n\tgit config --global submodule.fetchJobs 8 &&\n\tGIT_TRACE=$(pwd)/trace.out git clone --recurse-submodules . super4 &&\n\tgrep \"8 tasks\" trace.out &&\n\trm -rf super4 &&\n\tGIT_TRACE=$(pwd)/trace.out git clone --recurse-submodules --jobs 9 . super4 &&\n\tgrep \"9 tasks\" trace.out &&\n\trm -rf super4\n'\n\ntest_expect_success 'submodule update --quiet passes quietness to merge/rebase' '\n\t(cd super &&\n\t test_commit -C rebasing message &&\n\t git submodule update --rebase --quiet >out 2>err &&\n\t test_must_be_empty out &&\n\t test_must_be_empty err &&\n\t git submodule update --rebase >out 2>err &&\n\t test_file_not_empty out &&\n\t test_must_be_empty err\n\t)\n'\n\ntest_expect_success 'submodule update --quiet passes quietness to fetch with a shallow clone' '\n\ttest_when_finished \"rm -rf super4 super5 super6\" &&\n\tgit clone . super4 &&\n\t(cd super4 &&\n\t git submodule add --quiet file://\"$TRASH_DIRECTORY\"/submodule submodule3 &&\n\t git commit -am \"setup submodule3\"\n\t) &&\n\t(cd submodule &&\n\t  test_commit line6 file\n\t) &&\n\tgit clone super4 super5 &&\n\t(cd super5 &&\n\t git submodule update --quiet --init --depth=1 submodule3 >out 2>err &&\n\t test_must_be_empty out &&\n\t test_must_be_empty err\n\t) &&\n\tgit clone super4 super6 &&\n\t(cd super6 &&\n\t git submodule update --init --depth=1 submodule3 >out 2>err &&\n\t test_file_not_empty out &&\n\t test_file_not_empty err\n\t)\n'\n\ntest_expect_success 'submodule update --filter requires --init' '\n\ttest_expect_code 129 git -C super submodule update --filter blob:none\n'\n\ntest_expect_success 'submodule update --filter sets partial clone settings' '\n\ttest_when_finished \"rm -rf super-filter\" &&\n\tgit clone cloned super-filter &&\n\tgit -C super-filter submodule update --init --filter blob:none &&\n\ttest_cmp_config -C super-filter/submodule true remote.origin.promisor &&\n\ttest_cmp_config -C super-filter/submodule blob:none remote.origin.partialclonefilter\n'\n\n# NEEDSWORK: Clean up the tests so that we can reuse the test setup.\n# Don't reuse the existing repos because the earlier tests have\n# intentionally disruptive configurations.\ntest_expect_success 'setup clean recursive superproject' '\n\tgit init bottom &&\n\ttest_commit -C bottom \"bottom\" &&\n\tgit init middle &&\n\tgit -C middle submodule add ../bottom bottom &&\n\tgit -C middle commit -m \"middle\" &&\n\tgit init top &&\n\tgit -C top submodule add ../middle middle &&\n\tgit -C top commit -m \"top\" &&\n\tgit clone --recurse-submodules top top-clean\n'\n\ntest_expect_success 'submodule update should skip unmerged submodules' '\n\ttest_when_finished \"rm -fr top-cloned\" &&\n\tcp -r top-clean top-cloned &&\n\n\t# Create an upstream commit in each repo, starting with bottom\n\ttest_commit -C bottom upstream_commit &&\n\t# Create middle commit\n\tgit -C middle/bottom fetch &&\n\tgit -C middle/bottom checkout -f FETCH_HEAD &&\n\tgit -C middle add bottom &&\n\tgit -C middle commit -m \"upstream_commit\" &&\n\t# Create top commit\n\tgit -C top/middle fetch &&\n\tgit -C top/middle checkout -f FETCH_HEAD &&\n\tgit -C top add middle &&\n\tgit -C top commit -m \"upstream_commit\" &&\n\n\t# Create a downstream conflict\n\ttest_commit -C top-cloned/middle/bottom downstream_commit &&\n\tgit -C top-cloned/middle add bottom &&\n\tgit -C top-cloned/middle commit -m \"downstream_commit\" &&\n\tgit -C top-cloned/middle fetch --recurse-submodules origin &&\n\ttest_must_fail git -C top-cloned/middle merge origin/main &&\n\n\t# Make the update of \"middle\" a no-op, otherwise we error out\n\t# because of its unmerged state\n\ttest_config -C top-cloned submodule.middle.update !true &&\n\tgit -C top-cloned submodule update --recursive 2>actual.err &&\n\tcat >expect.err <<-\\EOF &&\n\tSkipping unmerged submodule middle/bottom\n\tEOF\n\ttest_cmp expect.err actual.err\n'\n\ntest_expect_success 'submodule update --recursive skip submodules with strategy=none' '\n\ttest_when_finished \"rm -fr top-cloned\" &&\n\tcp -r top-clean top-cloned &&\n\n\ttest_commit -C top-cloned/middle/bottom downstream_commit &&\n\tgit -C top-cloned/middle config submodule.bottom.update none &&\n\tgit -C top-cloned submodule update --recursive 2>actual.err &&\n\tcat >expect.err <<-\\EOF &&\n\tSkipping submodule '\\''middle/bottom'\\''\n\tEOF\n\ttest_cmp expect.err actual.err\n'\n\nadd_submodule_commit_and_validate () {\n\tHASH=$(git rev-parse HEAD) &&\n\tgit update-index --add --cacheinfo 160000,$HASH,sub &&\n\tgit commit -m \"create submodule\" &&\n\techo \"160000 commit $HASH\tsub\" >expect &&\n\tgit ls-tree HEAD -- sub >actual &&\n\ttest_cmp expect actual\n}\n\ntest_expect_success 'commit with staged submodule change' '\n\tadd_submodule_commit_and_validate\n'\n\ntest_expect_success 'commit with staged submodule change with ignoreSubmodules dirty' '\n\ttest_config diff.ignoreSubmodules dirty &&\n\tadd_submodule_commit_and_validate\n'\n\ntest_expect_success 'commit with staged submodule change with ignoreSubmodules all' '\n\ttest_config diff.ignoreSubmodules all &&\n\tadd_submodule_commit_and_validate\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00651c25cb4089a4d7334ad00f6ebc8e51bafb0f",
  "sha1_ok": true,
  "size": 33372
}
