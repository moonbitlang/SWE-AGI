{
  "content": {
    "base64": "I2lmbmRlZiBSRUZUQUJMRV9GU0NLX0gKI2RlZmluZSBSRUZUQUJMRV9GU0NLX0gKCiNpbmNsdWRlICJyZWZ0YWJsZS1zdGFjay5oIgoKZW51bSByZWZ0YWJsZV9mc2NrX2Vycm9yIHsKCS8qIEludmFsaWQgdGFibGUgbmFtZSAqLwoJUkVGVEFCTEVfRlNDS19FUlJPUl9UQUJMRV9OQU1FID0gMCwKCS8qIFVzZWQgZm9yIGJvdW5kcyBjaGVja2luZywgbXVzdCBiZSBsYXN0ICovCglSRUZUQUJMRV9GU0NLX01BWF9WQUxVRSwKfTsKCi8qIFJlcHJlc2VudHMgYW4gaW5kaXZpZHVhbCBlcnJvciBlbmNvdW50ZXJlZCBkdXJpbmcgdGhlIEZTQ0sgY2hlY2tzLiAqLwpzdHJ1Y3QgcmVmdGFibGVfZnNja19pbmZvIHsKCWVudW0gcmVmdGFibGVfZnNja19lcnJvciBlcnJvcjsKCWNvbnN0IGNoYXIgKm1zZzsKCWNvbnN0IGNoYXIgKnBhdGg7Cn07Cgp0eXBlZGVmIGludCByZWZ0YWJsZV9mc2NrX3JlcG9ydF9mbihzdHJ1Y3QgcmVmdGFibGVfZnNja19pbmZvICppbmZvLAoJCQkJICAgIHZvaWQgKmNiX2RhdGEpOwp0eXBlZGVmIHZvaWQgcmVmdGFibGVfZnNja192ZXJib3NlX2ZuKGNvbnN0IGNoYXIgKm1zZywgdm9pZCAqY2JfZGF0YSk7CgovKgogKiBHaXZlbiBhIHJlZnRhYmxlIHN0YWNrLCBwZXJmb3JtIGNvbnNpc3RlbmN5IGNoZWNrcyBvbiB0aGUgc3RhY2suCiAqCiAqIElmIGFuIGlzc3VlIGlzIGVuY291bnRlcmVkLCB0aGUgaXNzdWUgaXMgcmVwb3J0ZWQgdG8gdGhlIGNhbGxlZSB2aWEgdGhlCiAqIHByb3ZpZGVkICdyZXBvcnRfZm4nLiBJZiB0aGUgaXNzdWUgaXMgbm9uLXJlY292ZXJhYmxlIHRoZSBmbG93IHdpbGwgbm90CiAqIGNvbnRpbnVlLiBJZiBpdCBpcyByZWNvdmVyYWJsZSwgdGhlIGZsb3cgd2lsbCBjb250aW51ZSBhbmQgZnVydGhlciBpc3N1ZXMKICogd2lsbCBiZSByZXBvcnRlZCBhcyBpZGVudGlmaWVkLgogKgogKiBUaGUgJ3ZlcmJvc2VfZm4nIHdpbGwgYmUgaW52b2tlZCB0byBwcm92aWRlIHZlcmJvc2UgaW5mb3JtYXRpb24gYWJvdXQKICogdGhlIHByb2dyZXNzIGFuZCBzdGF0ZSBvZiB0aGUgY29uc2lzdGVuY3kgY2hlY2tzLgogKi8KaW50IHJlZnRhYmxlX2ZzY2tfY2hlY2soc3RydWN0IHJlZnRhYmxlX3N0YWNrICpzdGFjaywKCQkJcmVmdGFibGVfZnNja19yZXBvcnRfZm4gcmVwb3J0X2ZuLAoJCQlyZWZ0YWJsZV9mc2NrX3ZlcmJvc2VfZm4gdmVyYm9zZV9mbiwKCQkJdm9pZCAqY2JfZGF0YSk7CgojZW5kaWYgLyogUkVGVEFCTEVfRlNDS19IICovCg==",
    "text": "#ifndef REFTABLE_FSCK_H\n#define REFTABLE_FSCK_H\n\n#include \"reftable-stack.h\"\n\nenum reftable_fsck_error {\n\t/* Invalid table name */\n\tREFTABLE_FSCK_ERROR_TABLE_NAME = 0,\n\t/* Used for bounds checking, must be last */\n\tREFTABLE_FSCK_MAX_VALUE,\n};\n\n/* Represents an individual error encountered during the FSCK checks. */\nstruct reftable_fsck_info {\n\tenum reftable_fsck_error error;\n\tconst char *msg;\n\tconst char *path;\n};\n\ntypedef int reftable_fsck_report_fn(struct reftable_fsck_info *info,\n\t\t\t\t    void *cb_data);\ntypedef void reftable_fsck_verbose_fn(const char *msg, void *cb_data);\n\n/*\n * Given a reftable stack, perform consistency checks on the stack.\n *\n * If an issue is encountered, the issue is reported to the callee via the\n * provided 'report_fn'. If the issue is non-recoverable the flow will not\n * continue. If it is recoverable, the flow will continue and further issues\n * will be reported as identified.\n *\n * The 'verbose_fn' will be invoked to provide verbose information about\n * the progress and state of the consistency checks.\n */\nint reftable_fsck_check(struct reftable_stack *stack,\n\t\t\treftable_fsck_report_fn report_fn,\n\t\t\treftable_fsck_verbose_fn verbose_fn,\n\t\t\tvoid *cb_data);\n\n#endif /* REFTABLE_FSCK_H */\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "007a392cf906c7a69fdafc883deb8cc8ff386d49",
  "sha1_ok": true,
  "size": 1234
}
