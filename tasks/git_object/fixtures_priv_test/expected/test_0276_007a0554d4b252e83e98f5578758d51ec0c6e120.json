{
  "content": {
    "base64": "LyoKICogQ29weXJpZ2h0IChDKSAyMDA1IEp1bmlvIEMgSGFtYW5vCiAqLwojaWZuZGVmIERJRkZfSAojZGVmaW5lIERJRkZfSAoKI2luY2x1ZGUgInRyZWUtd2Fsay5oIgoKc3RydWN0IHJldl9pbmZvOwpzdHJ1Y3QgZGlmZl9vcHRpb25zOwpzdHJ1Y3QgZGlmZl9xdWV1ZV9zdHJ1Y3Q7CnN0cnVjdCBzdHJidWY7CnN0cnVjdCBkaWZmX2ZpbGVzcGVjOwpzdHJ1Y3QgdXNlcmRpZmZfZHJpdmVyOwoKdHlwZWRlZiB2b2lkICgqY2hhbmdlX2ZuX3QpKHN0cnVjdCBkaWZmX29wdGlvbnMgKm9wdGlvbnMsCgkJIHVuc2lnbmVkIG9sZF9tb2RlLCB1bnNpZ25lZCBuZXdfbW9kZSwKCQkgY29uc3QgdW5zaWduZWQgY2hhciAqb2xkX3NoYTEsCgkJIGNvbnN0IHVuc2lnbmVkIGNoYXIgKm5ld19zaGExLAoJCSBjb25zdCBjaGFyICpmdWxscGF0aCwKCQkgdW5zaWduZWQgb2xkX2RpcnR5X3N1Ym1vZHVsZSwgdW5zaWduZWQgbmV3X2RpcnR5X3N1Ym1vZHVsZSk7Cgp0eXBlZGVmIHZvaWQgKCphZGRfcmVtb3ZlX2ZuX3QpKHN0cnVjdCBkaWZmX29wdGlvbnMgKm9wdGlvbnMsCgkJICAgIGludCBhZGRyZW1vdmUsIHVuc2lnbmVkIG1vZGUsCgkJICAgIGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEsCgkJICAgIGNvbnN0IGNoYXIgKmZ1bGxwYXRoLCB1bnNpZ25lZCBkaXJ0eV9zdWJtb2R1bGUpOwoKdHlwZWRlZiB2b2lkICgqZGlmZl9mb3JtYXRfZm5fdCkoc3RydWN0IGRpZmZfcXVldWVfc3RydWN0ICpxLAoJCXN0cnVjdCBkaWZmX29wdGlvbnMgKm9wdGlvbnMsIHZvaWQgKmRhdGEpOwoKdHlwZWRlZiBzdHJ1Y3Qgc3RyYnVmICooKmRpZmZfcHJlZml4X2ZuX3QpKHN0cnVjdCBkaWZmX29wdGlvbnMgKm9wdCwgdm9pZCAqZGF0YSk7CgojZGVmaW5lIERJRkZfRk9STUFUX1JBVwkJMHgwMDAxCiNkZWZpbmUgRElGRl9GT1JNQVRfRElGRlNUQVQJMHgwMDAyCiNkZWZpbmUgRElGRl9GT1JNQVRfTlVNU1RBVAkweDAwMDQKI2RlZmluZSBESUZGX0ZPUk1BVF9TVU1NQVJZCTB4MDAwOAojZGVmaW5lIERJRkZfRk9STUFUX1BBVENICTB4MDAxMAojZGVmaW5lIERJRkZfRk9STUFUX1NIT1JUU1RBVAkweDAwMjAKI2RlZmluZSBESUZGX0ZPUk1BVF9ESVJTVEFUCTB4MDA0MAoKLyogVGhlc2Ugb3ZlcnJpZGUgYWxsIGFib3ZlICovCiNkZWZpbmUgRElGRl9GT1JNQVRfTkFNRQkweDAxMDAKI2RlZmluZSBESUZGX0ZPUk1BVF9OQU1FX1NUQVRVUwkweDAyMDAKI2RlZmluZSBESUZGX0ZPUk1BVF9DSEVDS0RJRkYJMHgwNDAwCgovKiBTYW1lIGFzIG91dHB1dF9mb3JtYXQgPSAwIGJ1dCB3ZSBrbm93IHRoYXQgLXMgZmxhZyB3YXMgZ2l2ZW4KICogYW5kIHdlIHNob3VsZCBub3QgZ2l2ZSBkZWZhdWx0IHZhbHVlIHRvIG91dHB1dF9mb3JtYXQuCiAqLwojZGVmaW5lIERJRkZfRk9STUFUX05PX09VVFBVVAkweDA4MDAKCiNkZWZpbmUgRElGRl9GT1JNQVRfQ0FMTEJBQ0sJMHgxMDAwCgojZGVmaW5lIERJRkZfT1BUX1JFQ1VSU0lWRSAgICAgICAgICAgKDEgPDwgIDApCiNkZWZpbmUgRElGRl9PUFRfVFJFRV9JTl9SRUNVUlNJVkUgICAoMSA8PCAgMSkKI2RlZmluZSBESUZGX09QVF9CSU5BUlkgICAgICAgICAgICAgICgxIDw8ICAyKQojZGVmaW5lIERJRkZfT1BUX1RFWFQgICAgICAgICAgICAgICAgKDEgPDwgIDMpCiNkZWZpbmUgRElGRl9PUFRfRlVMTF9JTkRFWCAgICAgICAgICAoMSA8PCAgNCkKI2RlZmluZSBESUZGX09QVF9TSUxFTlRfT05fUkVNT1ZFICAgICgxIDw8ICA1KQojZGVmaW5lIERJRkZfT1BUX0ZJTkRfQ09QSUVTX0hBUkRFUiAgKDEgPDwgIDYpCiNkZWZpbmUgRElGRl9PUFRfRk9MTE9XX1JFTkFNRVMgICAgICAoMSA8PCAgNykKI2RlZmluZSBESUZGX09QVF9DT0xPUl9ESUZGICAgICAgICAgICgxIDw8ICA4KQovKiAoMSA8PCAgOSkgdW51c2VkICovCiNkZWZpbmUgRElGRl9PUFRfSEFTX0NIQU5HRVMgICAgICAgICAoMSA8PCAxMCkKI2RlZmluZSBESUZGX09QVF9RVUlDSyAgICAgICAgICAgICAgICgxIDw8IDExKQojZGVmaW5lIERJRkZfT1BUX05PX0lOREVYICAgICAgICAgICAgKDEgPDwgMTIpCiNkZWZpbmUgRElGRl9PUFRfQUxMT1dfRVhURVJOQUwgICAgICAoMSA8PCAxMykKI2RlZmluZSBESUZGX09QVF9FWElUX1dJVEhfU1RBVFVTICAgICgxIDw8IDE0KQojZGVmaW5lIERJRkZfT1BUX1JFVkVSU0VfRElGRiAgICAgICAgKDEgPDwgMTUpCiNkZWZpbmUgRElGRl9PUFRfQ0hFQ0tfRkFJTEVEICAgICAgICAoMSA8PCAxNikKI2RlZmluZSBESUZGX09QVF9SRUxBVElWRV9OQU1FICAgICAgICgxIDw8IDE3KQojZGVmaW5lIERJRkZfT1BUX0lHTk9SRV9TVUJNT0RVTEVTICAgKDEgPDwgMTgpCiNkZWZpbmUgRElGRl9PUFRfRElSU1RBVF9DVU1VTEFUSVZFICAoMSA8PCAxOSkKI2RlZmluZSBESUZGX09QVF9ESVJTVEFUX0JZX0ZJTEUgICAgICgxIDw8IDIwKQojZGVmaW5lIERJRkZfT1BUX0FMTE9XX1RFWFRDT05WICAgICAgKDEgPDwgMjEpCiNkZWZpbmUgRElGRl9PUFRfRElGRl9GUk9NX0NPTlRFTlRTICAoMSA8PCAyMikKI2RlZmluZSBESUZGX09QVF9TVUJNT0RVTEVfTE9HICAgICAgICgxIDw8IDIzKQojZGVmaW5lIERJRkZfT1BUX0RJUlRZX1NVQk1PRFVMRVMgICAgKDEgPDwgMjQpCiNkZWZpbmUgRElGRl9PUFRfSUdOT1JFX1VOVFJBQ0tFRF9JTl9TVUJNT0RVTEVTICgxIDw8IDI1KQojZGVmaW5lIERJRkZfT1BUX0lHTk9SRV9ESVJUWV9TVUJNT0RVTEVTICgxIDw8IDI2KQojZGVmaW5lIERJRkZfT1BUX09WRVJSSURFX1NVQk1PRFVMRV9DT05GSUcgKDEgPDwgMjcpCgojZGVmaW5lIERJRkZfT1BUX1RTVChvcHRzLCBmbGFnKSAgICAoKG9wdHMpLT5mbGFncyAmIERJRkZfT1BUXyMjZmxhZykKI2RlZmluZSBESUZGX09QVF9TRVQob3B0cywgZmxhZykgICAgKChvcHRzKS0+ZmxhZ3MgfD0gRElGRl9PUFRfIyNmbGFnKQojZGVmaW5lIERJRkZfT1BUX0NMUihvcHRzLCBmbGFnKSAgICAoKG9wdHMpLT5mbGFncyAmPSB+RElGRl9PUFRfIyNmbGFnKQojZGVmaW5lIERJRkZfWERMX1RTVChvcHRzLCBmbGFnKSAgICAoKG9wdHMpLT54ZGxfb3B0cyAmIFhERl8jI2ZsYWcpCiNkZWZpbmUgRElGRl9YRExfU0VUKG9wdHMsIGZsYWcpICAgICgob3B0cyktPnhkbF9vcHRzIHw9IFhERl8jI2ZsYWcpCiNkZWZpbmUgRElGRl9YRExfQ0xSKG9wdHMsIGZsYWcpICAgICgob3B0cyktPnhkbF9vcHRzICY9IH5YREZfIyNmbGFnKQoKZW51bSBkaWZmX3dvcmRzX3R5cGUgewoJRElGRl9XT1JEU19OT05FID0gMCwKCURJRkZfV09SRFNfUE9SQ0VMQUlOLAoJRElGRl9XT1JEU19QTEFJTiwKCURJRkZfV09SRFNfQ09MT1IKfTsKCnN0cnVjdCBkaWZmX29wdGlvbnMgewoJY29uc3QgY2hhciAqZmlsdGVyOwoJY29uc3QgY2hhciAqb3JkZXJmaWxlOwoJY29uc3QgY2hhciAqcGlja2F4ZTsKCWNvbnN0IGNoYXIgKnNpbmdsZV9mb2xsb3c7Cgljb25zdCBjaGFyICphX3ByZWZpeCwgKmJfcHJlZml4OwoJdW5zaWduZWQgZmxhZ3M7CglpbnQgY29udGV4dDsKCWludCBpbnRlcmh1bmtjb250ZXh0OwoJaW50IGJyZWFrX29wdDsKCWludCBkZXRlY3RfcmVuYW1lOwoJaW50IHNraXBfc3RhdF91bm1hdGNoOwoJaW50IGxpbmVfdGVybWluYXRpb247CglpbnQgb3V0cHV0X2Zvcm1hdDsKCWludCBwaWNrYXhlX29wdHM7CglpbnQgcmVuYW1lX3Njb3JlOwoJaW50IHJlbmFtZV9saW1pdDsKCWludCBuZWVkZWRfcmVuYW1lX2xpbWl0OwoJaW50IHNob3dfcmVuYW1lX3Byb2dyZXNzOwoJaW50IGRpcnN0YXRfcGVyY2VudDsKCWludCBzZXR1cDsKCWludCBhYmJyZXY7Cgljb25zdCBjaGFyICpwcmVmaXg7CglpbnQgcHJlZml4X2xlbmd0aDsKCWNvbnN0IGNoYXIgKnN0YXRfc2VwOwoJbG9uZyB4ZGxfb3B0czsKCglpbnQgc3RhdF93aWR0aDsKCWludCBzdGF0X25hbWVfd2lkdGg7Cgljb25zdCBjaGFyICp3b3JkX3JlZ2V4OwoJZW51bSBkaWZmX3dvcmRzX3R5cGUgd29yZF9kaWZmOwoKCS8qIHRoaXMgaXMgc2V0IGJ5IGRpZmZjb3JlIGZvciBESUZGX0ZPUk1BVF9QQVRDSCAqLwoJaW50IGZvdW5kX2NoYW5nZXM7CgoJLyogdG8gc3VwcG9ydCBpbnRlcm5hbCBkaWZmIHJlY3Vyc2lvbiBieSAtLWZvbGxvdyBoYWNrKi8KCWludCBmb3VuZF9mb2xsb3c7CgoJRklMRSAqZmlsZTsKCWludCBjbG9zZV9maWxlOwoKCXN0cnVjdCBwYXRoc3BlYyBwYXRoc3BlYzsKCWNoYW5nZV9mbl90IGNoYW5nZTsKCWFkZF9yZW1vdmVfZm5fdCBhZGRfcmVtb3ZlOwoJZGlmZl9mb3JtYXRfZm5fdCBmb3JtYXRfY2FsbGJhY2s7Cgl2b2lkICpmb3JtYXRfY2FsbGJhY2tfZGF0YTsKCWRpZmZfcHJlZml4X2ZuX3Qgb3V0cHV0X3ByZWZpeDsKCXZvaWQgKm91dHB1dF9wcmVmaXhfZGF0YTsKfTsKCmVudW0gY29sb3JfZGlmZiB7CglESUZGX1JFU0VUID0gMCwKCURJRkZfUExBSU4gPSAxLAoJRElGRl9NRVRBSU5GTyA9IDIsCglESUZGX0ZSQUdJTkZPID0gMywKCURJRkZfRklMRV9PTEQgPSA0LAoJRElGRl9GSUxFX05FVyA9IDUsCglESUZGX0NPTU1JVCA9IDYsCglESUZGX1dISVRFU1BBQ0UgPSA3LAoJRElGRl9GVU5DSU5GTyA9IDgKfTsKY29uc3QgY2hhciAqZGlmZl9nZXRfY29sb3IoaW50IGRpZmZfdXNlX2NvbG9yLCBlbnVtIGNvbG9yX2RpZmYgaXgpOwojZGVmaW5lIGRpZmZfZ2V0X2NvbG9yX29wdChvLCBpeCkgXAoJZGlmZl9nZXRfY29sb3IoRElGRl9PUFRfVFNUKChvKSwgQ09MT1JfRElGRiksIGl4KQoKCmV4dGVybiBjb25zdCBjaGFyIG1pbWVfYm91bmRhcnlfbGVhZGVyW107CgpleHRlcm4gdm9pZCBkaWZmX3RyZWVfc2V0dXBfcGF0aHMoY29uc3QgY2hhciAqKnBhdGhzLCBzdHJ1Y3QgZGlmZl9vcHRpb25zICopOwpleHRlcm4gdm9pZCBkaWZmX3RyZWVfcmVsZWFzZV9wYXRocyhzdHJ1Y3QgZGlmZl9vcHRpb25zICopOwpleHRlcm4gaW50IGRpZmZfdHJlZShzdHJ1Y3QgdHJlZV9kZXNjICp0MSwgc3RydWN0IHRyZWVfZGVzYyAqdDIsCgkJICAgICBjb25zdCBjaGFyICpiYXNlLCBzdHJ1Y3QgZGlmZl9vcHRpb25zICpvcHQpOwpleHRlcm4gaW50IGRpZmZfdHJlZV9zaGExKGNvbnN0IHVuc2lnbmVkIGNoYXIgKm9sZCwgY29uc3QgdW5zaWduZWQgY2hhciAqbmV3LAoJCQkgIGNvbnN0IGNoYXIgKmJhc2UsIHN0cnVjdCBkaWZmX29wdGlvbnMgKm9wdCk7CmV4dGVybiBpbnQgZGlmZl9yb290X3RyZWVfc2hhMShjb25zdCB1bnNpZ25lZCBjaGFyICpuZXcsIGNvbnN0IGNoYXIgKmJhc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZGlmZl9vcHRpb25zICpvcHQpOwoKc3RydWN0IGNvbWJpbmVfZGlmZl9wYXRoIHsKCXN0cnVjdCBjb21iaW5lX2RpZmZfcGF0aCAqbmV4dDsKCWludCBsZW47CgljaGFyICpwYXRoOwoJdW5zaWduZWQgaW50IG1vZGU7Cgl1bnNpZ25lZCBjaGFyIHNoYTFbMjBdOwoJc3RydWN0IGNvbWJpbmVfZGlmZl9wYXJlbnQgewoJCWNoYXIgc3RhdHVzOwoJCXVuc2lnbmVkIGludCBtb2RlOwoJCXVuc2lnbmVkIGNoYXIgc2hhMVsyMF07Cgl9IHBhcmVudFtGTEVYX0FSUkFZXTsKfTsKI2RlZmluZSBjb21iaW5lX2RpZmZfcGF0aF9zaXplKG4sIGwpIFwKCShzaXplb2Yoc3RydWN0IGNvbWJpbmVfZGlmZl9wYXRoKSArIFwKCSBzaXplb2Yoc3RydWN0IGNvbWJpbmVfZGlmZl9wYXJlbnQpICogKG4pICsgKGwpICsgMSkKCmV4dGVybiB2b2lkIHNob3dfY29tYmluZWRfZGlmZihzdHJ1Y3QgY29tYmluZV9kaWZmX3BhdGggKmVsZW0sIGludCBudW1fcGFyZW50LAoJCQkgICAgICBpbnQgZGVuc2UsIHN0cnVjdCByZXZfaW5mbyAqKTsKCmV4dGVybiB2b2lkIGRpZmZfdHJlZV9jb21iaW5lZChjb25zdCB1bnNpZ25lZCBjaGFyICpzaGExLCBjb25zdCB1bnNpZ25lZCBjaGFyIHBhcmVudFtdWzIwXSwgaW50IG51bV9wYXJlbnQsIGludCBkZW5zZSwgc3RydWN0IHJldl9pbmZvICpyZXYpOwoKZXh0ZXJuIHZvaWQgZGlmZl90cmVlX2NvbWJpbmVkX21lcmdlKGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEsIGludCwgc3RydWN0IHJldl9pbmZvICopOwoKdm9pZCBkaWZmX3NldF9tbmVtb25pY19wcmVmaXgoc3RydWN0IGRpZmZfb3B0aW9ucyAqb3B0aW9ucywgY29uc3QgY2hhciAqYSwgY29uc3QgY2hhciAqYik7CgpleHRlcm4gdm9pZCBkaWZmX2FkZHJlbW92ZShzdHJ1Y3QgZGlmZl9vcHRpb25zICosCgkJCSAgIGludCBhZGRyZW1vdmUsCgkJCSAgIHVuc2lnbmVkIG1vZGUsCgkJCSAgIGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEsCgkJCSAgIGNvbnN0IGNoYXIgKmZ1bGxwYXRoLCB1bnNpZ25lZCBkaXJ0eV9zdWJtb2R1bGUpOwoKZXh0ZXJuIHZvaWQgZGlmZl9jaGFuZ2Uoc3RydWN0IGRpZmZfb3B0aW9ucyAqLAoJCQl1bnNpZ25lZCBtb2RlMSwgdW5zaWduZWQgbW9kZTIsCgkJCWNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEsCgkJCWNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTIsCgkJCWNvbnN0IGNoYXIgKmZ1bGxwYXRoLAoJCQl1bnNpZ25lZCBkaXJ0eV9zdWJtb2R1bGUxLCB1bnNpZ25lZCBkaXJ0eV9zdWJtb2R1bGUyKTsKCmV4dGVybiB2b2lkIGRpZmZfdW5tZXJnZShzdHJ1Y3QgZGlmZl9vcHRpb25zICosCgkJCSBjb25zdCBjaGFyICpwYXRoLAoJCQkgdW5zaWduZWQgbW9kZSwKCQkJIGNvbnN0IHVuc2lnbmVkIGNoYXIgKnNoYTEpOwoKI2RlZmluZSBESUZGX1NFVFVQX1JFVkVSU0UgICAgICAJMQojZGVmaW5lIERJRkZfU0VUVVBfVVNFX0NBQ0hFCQkyCiNkZWZpbmUgRElGRl9TRVRVUF9VU0VfU0laRV9DQUNIRQk0CgovKgogKiBQb29yIG1hbidzIGFsdGVybmF0aXZlIHRvIHBhcnNlLW9wdGlvbiwgdG8gYWxsb3cgYm90aCBzdGlja2VkIGZvcm0KICogKC0tb3B0aW9uPXZhbHVlKSBhbmQgc2VwYXJhdGUgZm9ybSAoLS1vcHRpb24gdmFsdWUpLgogKi8KZXh0ZXJuIGludCBwYXJzZV9sb25nX29wdChjb25zdCBjaGFyICpvcHQsIGNvbnN0IGNoYXIgKiphcmd2LAoJCQkgY29uc3QgY2hhciAqKm9wdGFyZyk7CgpleHRlcm4gaW50IGdpdF9kaWZmX2Jhc2ljX2NvbmZpZyhjb25zdCBjaGFyICp2YXIsIGNvbnN0IGNoYXIgKnZhbHVlLCB2b2lkICpjYik7CmV4dGVybiBpbnQgZ2l0X2RpZmZfdWlfY29uZmlnKGNvbnN0IGNoYXIgKnZhciwgY29uc3QgY2hhciAqdmFsdWUsIHZvaWQgKmNiKTsKZXh0ZXJuIGludCBkaWZmX3VzZV9jb2xvcl9kZWZhdWx0OwpleHRlcm4gdm9pZCBkaWZmX3NldHVwKHN0cnVjdCBkaWZmX29wdGlvbnMgKik7CmV4dGVybiBpbnQgZGlmZl9vcHRfcGFyc2Uoc3RydWN0IGRpZmZfb3B0aW9ucyAqLCBjb25zdCBjaGFyICoqLCBpbnQpOwpleHRlcm4gaW50IGRpZmZfc2V0dXBfZG9uZShzdHJ1Y3QgZGlmZl9vcHRpb25zICopOwoKI2RlZmluZSBESUZGX0RFVEVDVF9SRU5BTUUJMQojZGVmaW5lIERJRkZfREVURUNUX0NPUFkJMgoKI2RlZmluZSBESUZGX1BJQ0tBWEVfQUxMCTEKI2RlZmluZSBESUZGX1BJQ0tBWEVfUkVHRVgJMgoKI2RlZmluZSBESUZGX1BJQ0tBWEVfS0lORF9TCTQgLyogdHJhZGl0aW9uYWwgcGx1bWJpbmcgY291bnRlciAqLwojZGVmaW5lIERJRkZfUElDS0FYRV9LSU5EX0cJOCAvKiBncmVwIGluIHRoZSBwYXRjaCAqLwoKZXh0ZXJuIHZvaWQgZGlmZmNvcmVfc3RkKHN0cnVjdCBkaWZmX29wdGlvbnMgKik7CmV4dGVybiB2b2lkIGRpZmZjb3JlX2ZpeF9kaWZmX2luZGV4KHN0cnVjdCBkaWZmX29wdGlvbnMgKik7CgojZGVmaW5lIENPTU1PTl9ESUZGX09QVElPTlNfSEVMUCBcCiJcbmNvbW1vbiBkaWZmIG9wdGlvbnM6XG4iIFwKIiAgLXogICAgICAgICAgICBvdXRwdXQgZGlmZi1yYXcgd2l0aCBsaW5lcyB0ZXJtaW5hdGVkIHdpdGggTlVMLlxuIiBcCiIgIC1wICAgICAgICAgICAgb3V0cHV0IHBhdGNoIGZvcm1hdC5cbiIgXAoiICAtdSAgICAgICAgICAgIHN5bm9ueW0gZm9yIC1wLlxuIiBcCiIgIC0tcGF0Y2gtd2l0aC1yYXdcbiIgXAoiICAgICAgICAgICAgICAgIG91dHB1dCBib3RoIGEgcGF0Y2ggYW5kIHRoZSBkaWZmLXJhdyBmb3JtYXQuXG4iIFwKIiAgLS1zdGF0ICAgICAgICBzaG93IGRpZmZzdGF0IGluc3RlYWQgb2YgcGF0Y2guXG4iIFwKIiAgLS1udW1zdGF0ICAgICBzaG93IG51bWVyaWMgZGlmZnN0YXQgaW5zdGVhZCBvZiBwYXRjaC5cbiIgXAoiICAtLXBhdGNoLXdpdGgtc3RhdFxuIiBcCiIgICAgICAgICAgICAgICAgb3V0cHV0IGEgcGF0Y2ggYW5kIHByZXBlbmQgaXRzIGRpZmZzdGF0LlxuIiBcCiIgIC0tbmFtZS1vbmx5ICAgc2hvdyBvbmx5IG5hbWVzIG9mIGNoYW5nZWQgZmlsZXMuXG4iIFwKIiAgLS1uYW1lLXN0YXR1cyBzaG93IG5hbWVzIGFuZCBzdGF0dXMgb2YgY2hhbmdlZCBmaWxlcy5cbiIgXAoiICAtLWZ1bGwtaW5kZXggIHNob3cgZnVsbCBvYmplY3QgbmFtZSBvbiBpbmRleCBsaW5lcy5cbiIgXAoiICAtLWFiYnJldj08bj4gIGFiYnJldmlhdGUgb2JqZWN0IG5hbWVzIGluIGRpZmYtdHJlZSBoZWFkZXIgYW5kIGRpZmYtcmF3LlxuIiBcCiIgIC1SICAgICAgICAgICAgc3dhcCBpbnB1dCBmaWxlIHBhaXJzLlxuIiBcCiIgIC1CICAgICAgICAgICAgZGV0ZWN0IGNvbXBsZXRlIHJld3JpdGVzLlxuIiBcCiIgIC1NICAgICAgICAgICAgZGV0ZWN0IHJlbmFtZXMuXG4iIFwKIiAgLUMgICAgICAgICAgICBkZXRlY3QgY29waWVzLlxuIiBcCiIgIC0tZmluZC1jb3BpZXMtaGFyZGVyXG4iIFwKIiAgICAgICAgICAgICAgICB0cnkgdW5jaGFuZ2VkIGZpbGVzIGFzIGNhbmRpZGF0ZSBmb3IgY29weSBkZXRlY3Rpb24uXG4iIFwKIiAgLWw8bj4gICAgICAgICBsaW1pdCByZW5hbWUgYXR0ZW1wdHMgdXAgdG8gPG4+IHBhdGhzLlxuIiBcCiIgIC1PPGZpbGU+ICAgICAgcmVvcmRlciBkaWZmcyBhY2NvcmRpbmcgdG8gdGhlIDxmaWxlPi5cbiIgXAoiICAtUzxzdHJpbmc+ICAgIGZpbmQgZmlsZXBhaXIgd2hvc2Ugb25seSBvbmUgc2lkZSBjb250YWlucyB0aGUgc3RyaW5nLlxuIiBcCiIgIC0tcGlja2F4ZS1hbGxcbiIgXAoiICAgICAgICAgICAgICAgIHNob3cgYWxsIGZpbGVzIGRpZmYgd2hlbiAtUyBpcyB1c2VkIGFuZCBoaXQgaXMgZm91bmQuXG4iIFwKIiAgLWEgIC0tdGV4dCAgICB0cmVhdCBhbGwgZmlsZXMgYXMgdGV4dC5cbiIKCmV4dGVybiBpbnQgZGlmZl9xdWV1ZV9pc19lbXB0eSh2b2lkKTsKZXh0ZXJuIHZvaWQgZGlmZl9mbHVzaChzdHJ1Y3QgZGlmZl9vcHRpb25zKik7CgovKiBkaWZmLXJhdyBzdGF0dXMgbGV0dGVycyAqLwojZGVmaW5lIERJRkZfU1RBVFVTX0FEREVECQknQScKI2RlZmluZSBESUZGX1NUQVRVU19DT1BJRUQJCSdDJwojZGVmaW5lIERJRkZfU1RBVFVTX0RFTEVURUQJCSdEJwojZGVmaW5lIERJRkZfU1RBVFVTX01PRElGSUVECQknTScKI2RlZmluZSBESUZGX1NUQVRVU19SRU5BTUVECQknUicKI2RlZmluZSBESUZGX1NUQVRVU19UWVBFX0NIQU5HRUQJJ1QnCiNkZWZpbmUgRElGRl9TVEFUVVNfVU5LTk9XTgkJJ1gnCiNkZWZpbmUgRElGRl9TVEFUVVNfVU5NRVJHRUQJCSdVJwoKLyogdGhlc2UgYXJlIG5vdCBkaWZmLXJhdyBzdGF0dXMgbGV0dGVycyBwcm9wZXIsIGJ1dCB1c2VkIGJ5CiAqIGRpZmZjb3JlLWZpbHRlciBpbnNuIHRvIHNwZWNpZnkgYWRkaXRpb25hbCByZXN0cmljdGlvbnMuCiAqLwojZGVmaW5lIERJRkZfU1RBVFVTX0ZJTFRFUl9BT04JCScqJwojZGVmaW5lIERJRkZfU1RBVFVTX0ZJTFRFUl9CUk9LRU4JJ0InCgpleHRlcm4gY29uc3QgY2hhciAqZGlmZl91bmlxdWVfYWJicmV2KGNvbnN0IHVuc2lnbmVkIGNoYXIgKiwgaW50KTsKCi8qIGRvIG5vdCByZXBvcnQgYW55dGhpbmcgb24gcmVtb3ZlZCBwYXRocyAqLwojZGVmaW5lIERJRkZfU0lMRU5UX09OX1JFTU9WRUQgMDEKLyogcmVwb3J0IHJhY2lseS1jbGVhbiBwYXRocyBhcyBtb2RpZmllZCAqLwojZGVmaW5lIERJRkZfUkFDWV9JU19NT0RJRklFRCAwMgpleHRlcm4gaW50IHJ1bl9kaWZmX2ZpbGVzKHN0cnVjdCByZXZfaW5mbyAqcmV2cywgdW5zaWduZWQgaW50IG9wdGlvbik7CmV4dGVybiBpbnQgcnVuX2RpZmZfaW5kZXgoc3RydWN0IHJldl9pbmZvICpyZXZzLCBpbnQgY2FjaGVkKTsKCmV4dGVybiBpbnQgZG9fZGlmZl9jYWNoZShjb25zdCB1bnNpZ25lZCBjaGFyICosIHN0cnVjdCBkaWZmX29wdGlvbnMgKik7CmV4dGVybiBpbnQgZGlmZl9mbHVzaF9wYXRjaF9pZChzdHJ1Y3QgZGlmZl9vcHRpb25zICosIHVuc2lnbmVkIGNoYXIgKik7CgpleHRlcm4gaW50IGRpZmZfcmVzdWx0X2NvZGUoc3RydWN0IGRpZmZfb3B0aW9ucyAqLCBpbnQpOwoKZXh0ZXJuIHZvaWQgZGlmZl9ub19pbmRleChzdHJ1Y3QgcmV2X2luZm8gKiwgaW50LCBjb25zdCBjaGFyICoqLCBpbnQsIGNvbnN0IGNoYXIgKik7CgpleHRlcm4gaW50IGluZGV4X2RpZmZlcnNfZnJvbShjb25zdCBjaGFyICpkZWYsIGludCBkaWZmX2ZsYWdzKTsKCmV4dGVybiBzaXplX3QgZmlsbF90ZXh0Y29udihzdHJ1Y3QgdXNlcmRpZmZfZHJpdmVyICpkcml2ZXIsCgkJCSAgICBzdHJ1Y3QgZGlmZl9maWxlc3BlYyAqZGYsCgkJCSAgICBjaGFyICoqb3V0YnVmKTsKCmV4dGVybiBzdHJ1Y3QgdXNlcmRpZmZfZHJpdmVyICpnZXRfdGV4dGNvbnYoc3RydWN0IGRpZmZfZmlsZXNwZWMgKm9uZSk7CgpleHRlcm4gaW50IHBhcnNlX3JlbmFtZV9zY29yZShjb25zdCBjaGFyICoqY3BfcCk7CgojZW5kaWYgLyogRElGRl9IICovCg==",
    "text": "/*\n * Copyright (C) 2005 Junio C Hamano\n */\n#ifndef DIFF_H\n#define DIFF_H\n\n#include \"tree-walk.h\"\n\nstruct rev_info;\nstruct diff_options;\nstruct diff_queue_struct;\nstruct strbuf;\nstruct diff_filespec;\nstruct userdiff_driver;\n\ntypedef void (*change_fn_t)(struct diff_options *options,\n\t\t unsigned old_mode, unsigned new_mode,\n\t\t const unsigned char *old_sha1,\n\t\t const unsigned char *new_sha1,\n\t\t const char *fullpath,\n\t\t unsigned old_dirty_submodule, unsigned new_dirty_submodule);\n\ntypedef void (*add_remove_fn_t)(struct diff_options *options,\n\t\t    int addremove, unsigned mode,\n\t\t    const unsigned char *sha1,\n\t\t    const char *fullpath, unsigned dirty_submodule);\n\ntypedef void (*diff_format_fn_t)(struct diff_queue_struct *q,\n\t\tstruct diff_options *options, void *data);\n\ntypedef struct strbuf *(*diff_prefix_fn_t)(struct diff_options *opt, void *data);\n\n#define DIFF_FORMAT_RAW\t\t0x0001\n#define DIFF_FORMAT_DIFFSTAT\t0x0002\n#define DIFF_FORMAT_NUMSTAT\t0x0004\n#define DIFF_FORMAT_SUMMARY\t0x0008\n#define DIFF_FORMAT_PATCH\t0x0010\n#define DIFF_FORMAT_SHORTSTAT\t0x0020\n#define DIFF_FORMAT_DIRSTAT\t0x0040\n\n/* These override all above */\n#define DIFF_FORMAT_NAME\t0x0100\n#define DIFF_FORMAT_NAME_STATUS\t0x0200\n#define DIFF_FORMAT_CHECKDIFF\t0x0400\n\n/* Same as output_format = 0 but we know that -s flag was given\n * and we should not give default value to output_format.\n */\n#define DIFF_FORMAT_NO_OUTPUT\t0x0800\n\n#define DIFF_FORMAT_CALLBACK\t0x1000\n\n#define DIFF_OPT_RECURSIVE           (1 <<  0)\n#define DIFF_OPT_TREE_IN_RECURSIVE   (1 <<  1)\n#define DIFF_OPT_BINARY              (1 <<  2)\n#define DIFF_OPT_TEXT                (1 <<  3)\n#define DIFF_OPT_FULL_INDEX          (1 <<  4)\n#define DIFF_OPT_SILENT_ON_REMOVE    (1 <<  5)\n#define DIFF_OPT_FIND_COPIES_HARDER  (1 <<  6)\n#define DIFF_OPT_FOLLOW_RENAMES      (1 <<  7)\n#define DIFF_OPT_COLOR_DIFF          (1 <<  8)\n/* (1 <<  9) unused */\n#define DIFF_OPT_HAS_CHANGES         (1 << 10)\n#define DIFF_OPT_QUICK               (1 << 11)\n#define DIFF_OPT_NO_INDEX            (1 << 12)\n#define DIFF_OPT_ALLOW_EXTERNAL      (1 << 13)\n#define DIFF_OPT_EXIT_WITH_STATUS    (1 << 14)\n#define DIFF_OPT_REVERSE_DIFF        (1 << 15)\n#define DIFF_OPT_CHECK_FAILED        (1 << 16)\n#define DIFF_OPT_RELATIVE_NAME       (1 << 17)\n#define DIFF_OPT_IGNORE_SUBMODULES   (1 << 18)\n#define DIFF_OPT_DIRSTAT_CUMULATIVE  (1 << 19)\n#define DIFF_OPT_DIRSTAT_BY_FILE     (1 << 20)\n#define DIFF_OPT_ALLOW_TEXTCONV      (1 << 21)\n#define DIFF_OPT_DIFF_FROM_CONTENTS  (1 << 22)\n#define DIFF_OPT_SUBMODULE_LOG       (1 << 23)\n#define DIFF_OPT_DIRTY_SUBMODULES    (1 << 24)\n#define DIFF_OPT_IGNORE_UNTRACKED_IN_SUBMODULES (1 << 25)\n#define DIFF_OPT_IGNORE_DIRTY_SUBMODULES (1 << 26)\n#define DIFF_OPT_OVERRIDE_SUBMODULE_CONFIG (1 << 27)\n\n#define DIFF_OPT_TST(opts, flag)    ((opts)->flags & DIFF_OPT_##flag)\n#define DIFF_OPT_SET(opts, flag)    ((opts)->flags |= DIFF_OPT_##flag)\n#define DIFF_OPT_CLR(opts, flag)    ((opts)->flags &= ~DIFF_OPT_##flag)\n#define DIFF_XDL_TST(opts, flag)    ((opts)->xdl_opts & XDF_##flag)\n#define DIFF_XDL_SET(opts, flag)    ((opts)->xdl_opts |= XDF_##flag)\n#define DIFF_XDL_CLR(opts, flag)    ((opts)->xdl_opts &= ~XDF_##flag)\n\nenum diff_words_type {\n\tDIFF_WORDS_NONE = 0,\n\tDIFF_WORDS_PORCELAIN,\n\tDIFF_WORDS_PLAIN,\n\tDIFF_WORDS_COLOR\n};\n\nstruct diff_options {\n\tconst char *filter;\n\tconst char *orderfile;\n\tconst char *pickaxe;\n\tconst char *single_follow;\n\tconst char *a_prefix, *b_prefix;\n\tunsigned flags;\n\tint context;\n\tint interhunkcontext;\n\tint break_opt;\n\tint detect_rename;\n\tint skip_stat_unmatch;\n\tint line_termination;\n\tint output_format;\n\tint pickaxe_opts;\n\tint rename_score;\n\tint rename_limit;\n\tint needed_rename_limit;\n\tint show_rename_progress;\n\tint dirstat_percent;\n\tint setup;\n\tint abbrev;\n\tconst char *prefix;\n\tint prefix_length;\n\tconst char *stat_sep;\n\tlong xdl_opts;\n\n\tint stat_width;\n\tint stat_name_width;\n\tconst char *word_regex;\n\tenum diff_words_type word_diff;\n\n\t/* this is set by diffcore for DIFF_FORMAT_PATCH */\n\tint found_changes;\n\n\t/* to support internal diff recursion by --follow hack*/\n\tint found_follow;\n\n\tFILE *file;\n\tint close_file;\n\n\tstruct pathspec pathspec;\n\tchange_fn_t change;\n\tadd_remove_fn_t add_remove;\n\tdiff_format_fn_t format_callback;\n\tvoid *format_callback_data;\n\tdiff_prefix_fn_t output_prefix;\n\tvoid *output_prefix_data;\n};\n\nenum color_diff {\n\tDIFF_RESET = 0,\n\tDIFF_PLAIN = 1,\n\tDIFF_METAINFO = 2,\n\tDIFF_FRAGINFO = 3,\n\tDIFF_FILE_OLD = 4,\n\tDIFF_FILE_NEW = 5,\n\tDIFF_COMMIT = 6,\n\tDIFF_WHITESPACE = 7,\n\tDIFF_FUNCINFO = 8\n};\nconst char *diff_get_color(int diff_use_color, enum color_diff ix);\n#define diff_get_color_opt(o, ix) \\\n\tdiff_get_color(DIFF_OPT_TST((o), COLOR_DIFF), ix)\n\n\nextern const char mime_boundary_leader[];\n\nextern void diff_tree_setup_paths(const char **paths, struct diff_options *);\nextern void diff_tree_release_paths(struct diff_options *);\nextern int diff_tree(struct tree_desc *t1, struct tree_desc *t2,\n\t\t     const char *base, struct diff_options *opt);\nextern int diff_tree_sha1(const unsigned char *old, const unsigned char *new,\n\t\t\t  const char *base, struct diff_options *opt);\nextern int diff_root_tree_sha1(const unsigned char *new, const char *base,\n                               struct diff_options *opt);\n\nstruct combine_diff_path {\n\tstruct combine_diff_path *next;\n\tint len;\n\tchar *path;\n\tunsigned int mode;\n\tunsigned char sha1[20];\n\tstruct combine_diff_parent {\n\t\tchar status;\n\t\tunsigned int mode;\n\t\tunsigned char sha1[20];\n\t} parent[FLEX_ARRAY];\n};\n#define combine_diff_path_size(n, l) \\\n\t(sizeof(struct combine_diff_path) + \\\n\t sizeof(struct combine_diff_parent) * (n) + (l) + 1)\n\nextern void show_combined_diff(struct combine_diff_path *elem, int num_parent,\n\t\t\t      int dense, struct rev_info *);\n\nextern void diff_tree_combined(const unsigned char *sha1, const unsigned char parent[][20], int num_parent, int dense, struct rev_info *rev);\n\nextern void diff_tree_combined_merge(const unsigned char *sha1, int, struct rev_info *);\n\nvoid diff_set_mnemonic_prefix(struct diff_options *options, const char *a, const char *b);\n\nextern void diff_addremove(struct diff_options *,\n\t\t\t   int addremove,\n\t\t\t   unsigned mode,\n\t\t\t   const unsigned char *sha1,\n\t\t\t   const char *fullpath, unsigned dirty_submodule);\n\nextern void diff_change(struct diff_options *,\n\t\t\tunsigned mode1, unsigned mode2,\n\t\t\tconst unsigned char *sha1,\n\t\t\tconst unsigned char *sha2,\n\t\t\tconst char *fullpath,\n\t\t\tunsigned dirty_submodule1, unsigned dirty_submodule2);\n\nextern void diff_unmerge(struct diff_options *,\n\t\t\t const char *path,\n\t\t\t unsigned mode,\n\t\t\t const unsigned char *sha1);\n\n#define DIFF_SETUP_REVERSE      \t1\n#define DIFF_SETUP_USE_CACHE\t\t2\n#define DIFF_SETUP_USE_SIZE_CACHE\t4\n\n/*\n * Poor man's alternative to parse-option, to allow both sticked form\n * (--option=value) and separate form (--option value).\n */\nextern int parse_long_opt(const char *opt, const char **argv,\n\t\t\t const char **optarg);\n\nextern int git_diff_basic_config(const char *var, const char *value, void *cb);\nextern int git_diff_ui_config(const char *var, const char *value, void *cb);\nextern int diff_use_color_default;\nextern void diff_setup(struct diff_options *);\nextern int diff_opt_parse(struct diff_options *, const char **, int);\nextern int diff_setup_done(struct diff_options *);\n\n#define DIFF_DETECT_RENAME\t1\n#define DIFF_DETECT_COPY\t2\n\n#define DIFF_PICKAXE_ALL\t1\n#define DIFF_PICKAXE_REGEX\t2\n\n#define DIFF_PICKAXE_KIND_S\t4 /* traditional plumbing counter */\n#define DIFF_PICKAXE_KIND_G\t8 /* grep in the patch */\n\nextern void diffcore_std(struct diff_options *);\nextern void diffcore_fix_diff_index(struct diff_options *);\n\n#define COMMON_DIFF_OPTIONS_HELP \\\n\"\\ncommon diff options:\\n\" \\\n\"  -z            output diff-raw with lines terminated with NUL.\\n\" \\\n\"  -p            output patch format.\\n\" \\\n\"  -u            synonym for -p.\\n\" \\\n\"  --patch-with-raw\\n\" \\\n\"                output both a patch and the diff-raw format.\\n\" \\\n\"  --stat        show diffstat instead of patch.\\n\" \\\n\"  --numstat     show numeric diffstat instead of patch.\\n\" \\\n\"  --patch-with-stat\\n\" \\\n\"                output a patch and prepend its diffstat.\\n\" \\\n\"  --name-only   show only names of changed files.\\n\" \\\n\"  --name-status show names and status of changed files.\\n\" \\\n\"  --full-index  show full object name on index lines.\\n\" \\\n\"  --abbrev=<n>  abbreviate object names in diff-tree header and diff-raw.\\n\" \\\n\"  -R            swap input file pairs.\\n\" \\\n\"  -B            detect complete rewrites.\\n\" \\\n\"  -M            detect renames.\\n\" \\\n\"  -C            detect copies.\\n\" \\\n\"  --find-copies-harder\\n\" \\\n\"                try unchanged files as candidate for copy detection.\\n\" \\\n\"  -l<n>         limit rename attempts up to <n> paths.\\n\" \\\n\"  -O<file>      reorder diffs according to the <file>.\\n\" \\\n\"  -S<string>    find filepair whose only one side contains the string.\\n\" \\\n\"  --pickaxe-all\\n\" \\\n\"                show all files diff when -S is used and hit is found.\\n\" \\\n\"  -a  --text    treat all files as text.\\n\"\n\nextern int diff_queue_is_empty(void);\nextern void diff_flush(struct diff_options*);\n\n/* diff-raw status letters */\n#define DIFF_STATUS_ADDED\t\t'A'\n#define DIFF_STATUS_COPIED\t\t'C'\n#define DIFF_STATUS_DELETED\t\t'D'\n#define DIFF_STATUS_MODIFIED\t\t'M'\n#define DIFF_STATUS_RENAMED\t\t'R'\n#define DIFF_STATUS_TYPE_CHANGED\t'T'\n#define DIFF_STATUS_UNKNOWN\t\t'X'\n#define DIFF_STATUS_UNMERGED\t\t'U'\n\n/* these are not diff-raw status letters proper, but used by\n * diffcore-filter insn to specify additional restrictions.\n */\n#define DIFF_STATUS_FILTER_AON\t\t'*'\n#define DIFF_STATUS_FILTER_BROKEN\t'B'\n\nextern const char *diff_unique_abbrev(const unsigned char *, int);\n\n/* do not report anything on removed paths */\n#define DIFF_SILENT_ON_REMOVED 01\n/* report racily-clean paths as modified */\n#define DIFF_RACY_IS_MODIFIED 02\nextern int run_diff_files(struct rev_info *revs, unsigned int option);\nextern int run_diff_index(struct rev_info *revs, int cached);\n\nextern int do_diff_cache(const unsigned char *, struct diff_options *);\nextern int diff_flush_patch_id(struct diff_options *, unsigned char *);\n\nextern int diff_result_code(struct diff_options *, int);\n\nextern void diff_no_index(struct rev_info *, int, const char **, int, const char *);\n\nextern int index_differs_from(const char *def, int diff_flags);\n\nextern size_t fill_textconv(struct userdiff_driver *driver,\n\t\t\t    struct diff_filespec *df,\n\t\t\t    char **outbuf);\n\nextern struct userdiff_driver *get_textconv(struct diff_filespec *one);\n\nextern int parse_rename_score(const char **cp_p);\n\n#endif /* DIFF_H */\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "007a0554d4b252e83e98f5578758d51ec0c6e120",
  "sha1_ok": true,
  "size": 10558
}
