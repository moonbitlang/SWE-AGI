{
  "content": {
    "base64": "LyoKICogV2UgcHV0IGFsbCB0aGUgZ2l0IGNvbmZpZyB2YXJpYWJsZXMgaW4gdGhpcyBzYW1lIG9iamVjdAogKiBmaWxlLCBzbyB0aGF0IHByb2dyYW1zIGNhbiBsaW5rIGFnYWluc3QgdGhlIGNvbmZpZyBwYXJzZXIKICogd2l0aG91dCBoYXZpbmcgdG8gbGluayBhZ2FpbnN0IGFsbCB0aGUgcmVzdCBvZiBnaXQuCiAqCiAqIEluIHBhcnRpY3VsYXIsIG5vIG5lZWQgdG8gYnJpbmcgaW4gbGlieiBldGMgdW5sZXNzIG5lZWRlZCwKICogZXZlbiBpZiB5b3UgbWlnaHQgd2FudCB0byBrbm93IHdoZXJlIHRoZSBnaXQgZGlyZWN0b3J5IGV0YwogKiBhcmUuCiAqLwojaW5jbHVkZSAiY2FjaGUuaCIKI2luY2x1ZGUgImJyYW5jaC5oIgojaW5jbHVkZSAiZW52aXJvbm1lbnQuaCIKI2luY2x1ZGUgInJlcG9zaXRvcnkuaCIKI2luY2x1ZGUgImNvbmZpZy5oIgojaW5jbHVkZSAicmVmcy5oIgojaW5jbHVkZSAiZm10LW1lcmdlLW1zZy5oIgojaW5jbHVkZSAiY29tbWl0LmgiCiNpbmNsdWRlICJzdHJ2ZWMuaCIKI2luY2x1ZGUgIm9iamVjdC1zdG9yZS5oIgojaW5jbHVkZSAidG1wLW9iamRpci5oIgojaW5jbHVkZSAiY2hkaXItbm90aWZ5LmgiCiNpbmNsdWRlICJzaGFsbG93LmgiCgppbnQgdHJ1c3RfZXhlY3V0YWJsZV9iaXQgPSAxOwppbnQgdHJ1c3RfY3RpbWUgPSAxOwppbnQgY2hlY2tfc3RhdCA9IDE7CmludCBoYXNfc3ltbGlua3MgPSAxOwppbnQgbWluaW11bV9hYmJyZXYgPSA0LCBkZWZhdWx0X2FiYnJldiA9IC0xOwppbnQgaWdub3JlX2Nhc2U7CmludCBhc3N1bWVfdW5jaGFuZ2VkOwppbnQgcHJlZmVyX3N5bWxpbmtfcmVmczsKaW50IGlzX2JhcmVfcmVwb3NpdG9yeV9jZmcgPSAtMTsgLyogdW5zcGVjaWZpZWQgKi8KaW50IHdhcm5fYW1iaWd1b3VzX3JlZnMgPSAxOwppbnQgd2Fybl9vbl9vYmplY3RfcmVmbmFtZV9hbWJpZ3VpdHkgPSAxOwppbnQgcmVwb3NpdG9yeV9mb3JtYXRfcHJlY2lvdXNfb2JqZWN0czsKaW50IHJlcG9zaXRvcnlfZm9ybWF0X3dvcmt0cmVlX2NvbmZpZzsKY29uc3QgY2hhciAqZ2l0X2NvbW1pdF9lbmNvZGluZzsKY29uc3QgY2hhciAqZ2l0X2xvZ19vdXRwdXRfZW5jb2Rpbmc7CmNoYXIgKmFwcGx5X2RlZmF1bHRfd2hpdGVzcGFjZTsKY2hhciAqYXBwbHlfZGVmYXVsdF9pZ25vcmV3aGl0ZXNwYWNlOwpjb25zdCBjaGFyICpnaXRfYXR0cmlidXRlc19maWxlOwpjb25zdCBjaGFyICpnaXRfaG9va3NfcGF0aDsKaW50IHpsaWJfY29tcHJlc3Npb25fbGV2ZWwgPSBaX0JFU1RfU1BFRUQ7CmludCBwYWNrX2NvbXByZXNzaW9uX2xldmVsID0gWl9ERUZBVUxUX0NPTVBSRVNTSU9OOwppbnQgZnN5bmNfb2JqZWN0X2ZpbGVzOwppbnQgdXNlX2ZzeW5jID0gLTE7CnNpemVfdCBwYWNrZWRfZ2l0X3dpbmRvd19zaXplID0gREVGQVVMVF9QQUNLRURfR0lUX1dJTkRPV19TSVpFOwpzaXplX3QgcGFja2VkX2dpdF9saW1pdCA9IERFRkFVTFRfUEFDS0VEX0dJVF9MSU1JVDsKc2l6ZV90IGRlbHRhX2Jhc2VfY2FjaGVfbGltaXQgPSA5NiAqIDEwMjQgKiAxMDI0Owp1bnNpZ25lZCBsb25nIGJpZ19maWxlX3RocmVzaG9sZCA9IDUxMiAqIDEwMjQgKiAxMDI0OwppbnQgcGFnZXJfdXNlX2NvbG9yID0gMTsKY29uc3QgY2hhciAqZWRpdG9yX3Byb2dyYW07CmNvbnN0IGNoYXIgKmFza3Bhc3NfcHJvZ3JhbTsKY29uc3QgY2hhciAqZXhjbHVkZXNfZmlsZTsKZW51bSBhdXRvX2NybGYgYXV0b19jcmxmID0gQVVUT19DUkxGX0ZBTFNFOwppbnQgcmVhZF9yZXBsYWNlX3JlZnMgPSAxOwpjaGFyICpnaXRfcmVwbGFjZV9yZWZfYmFzZTsKZW51bSBlb2wgY29yZV9lb2wgPSBFT0xfVU5TRVQ7CmludCBnbG9iYWxfY29udl9mbGFnc19lb2wgPSBDT05WX0VPTF9STkRUUlBfV0FSTjsKY2hhciAqY2hlY2tfcm91bmR0cmlwX2VuY29kaW5nID0gIlNISUZULUpJUyI7CnVuc2lnbmVkIHdoaXRlc3BhY2VfcnVsZV9jZmcgPSBXU19ERUZBVUxUX1JVTEU7CmVudW0gYnJhbmNoX3RyYWNrIGdpdF9icmFuY2hfdHJhY2sgPSBCUkFOQ0hfVFJBQ0tfUkVNT1RFOwplbnVtIHJlYmFzZV9zZXR1cF90eXBlIGF1dG9yZWJhc2UgPSBBVVRPUkVCQVNFX05FVkVSOwplbnVtIHB1c2hfZGVmYXVsdF90eXBlIHB1c2hfZGVmYXVsdCA9IFBVU0hfREVGQVVMVF9VTlNQRUNJRklFRDsKI2lmbmRlZiBPQkpFQ1RfQ1JFQVRJT05fTU9ERQojZGVmaW5lIE9CSkVDVF9DUkVBVElPTl9NT0RFIE9CSkVDVF9DUkVBVElPTl9VU0VTX0hBUkRMSU5LUwojZW5kaWYKZW51bSBvYmplY3RfY3JlYXRpb25fbW9kZSBvYmplY3RfY3JlYXRpb25fbW9kZSA9IE9CSkVDVF9DUkVBVElPTl9NT0RFOwpjaGFyICpub3Rlc19yZWZfbmFtZTsKaW50IGdyYWZ0c19yZXBsYWNlX3BhcmVudHMgPSAxOwppbnQgY29yZV9hcHBseV9zcGFyc2VfY2hlY2tvdXQ7CmludCBjb3JlX3NwYXJzZV9jaGVja291dF9jb25lOwppbnQgbWVyZ2VfbG9nX2NvbmZpZyA9IC0xOwppbnQgcHJlY29tcG9zZWRfdW5pY29kZSA9IC0xOyAvKiBzZWUgcHJvYmVfdXRmOF9wYXRobmFtZV9jb21wb3NpdGlvbigpICovCnVuc2lnbmVkIGxvbmcgcGFja19zaXplX2xpbWl0X2NmZzsKZW51bSBsb2dfcmVmc19jb25maWcgbG9nX2FsbF9yZWZfdXBkYXRlcyA9IExPR19SRUZTX1VOU0VUOwoKI2lmbmRlZiBQUk9URUNUX0hGU19ERUZBVUxUCiNkZWZpbmUgUFJPVEVDVF9IRlNfREVGQVVMVCAwCiNlbmRpZgppbnQgcHJvdGVjdF9oZnMgPSBQUk9URUNUX0hGU19ERUZBVUxUOwoKI2lmbmRlZiBQUk9URUNUX05URlNfREVGQVVMVAojZGVmaW5lIFBST1RFQ1RfTlRGU19ERUZBVUxUIDEKI2VuZGlmCmludCBwcm90ZWN0X250ZnMgPSBQUk9URUNUX05URlNfREVGQVVMVDsKCi8qCiAqIFRoZSBjaGFyYWN0ZXIgdGhhdCBiZWdpbnMgYSBjb21tZW50ZWQgbGluZSBpbiB1c2VyLWVkaXRhYmxlIGZpbGUKICogdGhhdCBpcyBzdWJqZWN0IHRvIHN0cmlwc3BhY2UuCiAqLwpjaGFyIGNvbW1lbnRfbGluZV9jaGFyID0gJyMnOwppbnQgYXV0b19jb21tZW50X2xpbmVfY2hhcjsKCi8qIFBhcmFsbGVsIGluZGV4IHN0YXQgZGF0YSBwcmVsb2FkPyAqLwppbnQgY29yZV9wcmVsb2FkX2luZGV4ID0gMTsKCi8qIFRoaXMgaXMgc2V0IGJ5IHNldHVwX2dpdF9kaXJfZ2VudGx5KCkgYW5kL29yIGdpdF9kZWZhdWx0X2NvbmZpZygpICovCmNoYXIgKmdpdF93b3JrX3RyZWVfY2ZnOwoKc3RhdGljIGNoYXIgKmdpdF9uYW1lc3BhY2U7CgpzdGF0aWMgY2hhciAqc3VwZXJfcHJlZml4OwoKLyoKICogUmVwb3NpdG9yeS1sb2NhbCBHSVRfKiBlbnZpcm9ubWVudCB2YXJpYWJsZXM7IHNlZSBjYWNoZS5oIGZvciBkZXRhaWxzLgogKi8KY29uc3QgY2hhciAqIGNvbnN0IGxvY2FsX3JlcG9fZW52W10gPSB7CglBTFRFUk5BVEVfREJfRU5WSVJPTk1FTlQsCglDT05GSUdfRU5WSVJPTk1FTlQsCglDT05GSUdfREFUQV9FTlZJUk9OTUVOVCwKCUNPTkZJR19DT1VOVF9FTlZJUk9OTUVOVCwKCURCX0VOVklST05NRU5ULAoJR0lUX0RJUl9FTlZJUk9OTUVOVCwKCUdJVF9XT1JLX1RSRUVfRU5WSVJPTk1FTlQsCglHSVRfSU1QTElDSVRfV09SS19UUkVFX0VOVklST05NRU5ULAoJR1JBRlRfRU5WSVJPTk1FTlQsCglJTkRFWF9FTlZJUk9OTUVOVCwKCU5PX1JFUExBQ0VfT0JKRUNUU19FTlZJUk9OTUVOVCwKCUdJVF9SRVBMQUNFX1JFRl9CQVNFX0VOVklST05NRU5ULAoJR0lUX1BSRUZJWF9FTlZJUk9OTUVOVCwKCUdJVF9TVVBFUl9QUkVGSVhfRU5WSVJPTk1FTlQsCglHSVRfU0hBTExPV19GSUxFX0VOVklST05NRU5ULAoJR0lUX0NPTU1PTl9ESVJfRU5WSVJPTk1FTlQsCglOVUxMCn07CgpzdGF0aWMgY2hhciAqZXhwYW5kX25hbWVzcGFjZShjb25zdCBjaGFyICpyYXdfbmFtZXNwYWNlKQp7CglzdHJ1Y3Qgc3RyYnVmIGJ1ZiA9IFNUUkJVRl9JTklUOwoJc3RydWN0IHN0cmJ1ZiAqKmNvbXBvbmVudHMsICoqYzsKCglpZiAoIXJhd19uYW1lc3BhY2UgfHwgISpyYXdfbmFtZXNwYWNlKQoJCXJldHVybiB4c3RyZHVwKCIiKTsKCglzdHJidWZfYWRkc3RyKCZidWYsIHJhd19uYW1lc3BhY2UpOwoJY29tcG9uZW50cyA9IHN0cmJ1Zl9zcGxpdCgmYnVmLCAnLycpOwoJc3RyYnVmX3Jlc2V0KCZidWYpOwoJZm9yIChjID0gY29tcG9uZW50czsgKmM7IGMrKykKCQlpZiAoc3RyY21wKCgqYyktPmJ1ZiwgIi8iKSAhPSAwKQoJCQlzdHJidWZfYWRkZigmYnVmLCAicmVmcy9uYW1lc3BhY2VzLyVzIiwgKCpjKS0+YnVmKTsKCXN0cmJ1Zl9saXN0X2ZyZWUoY29tcG9uZW50cyk7CglpZiAoY2hlY2tfcmVmbmFtZV9mb3JtYXQoYnVmLmJ1ZiwgMCkpCgkJZGllKF8oImJhZCBnaXQgbmFtZXNwYWNlIHBhdGggXCIlc1wiIiksIHJhd19uYW1lc3BhY2UpOwoJc3RyYnVmX2FkZGNoKCZidWYsICcvJyk7CglyZXR1cm4gc3RyYnVmX2RldGFjaCgmYnVmLCBOVUxMKTsKfQoKY29uc3QgY2hhciAqZ2V0ZW52X3NhZmUoc3RydWN0IHN0cnZlYyAqYXJndiwgY29uc3QgY2hhciAqbmFtZSkKewoJY29uc3QgY2hhciAqdmFsdWUgPSBnZXRlbnYobmFtZSk7CgoJaWYgKCF2YWx1ZSkKCQlyZXR1cm4gTlVMTDsKCglzdHJ2ZWNfcHVzaChhcmd2LCB2YWx1ZSk7CglyZXR1cm4gYXJndi0+dlthcmd2LT5uciAtIDFdOwp9Cgp2b2lkIHNldHVwX2dpdF9lbnYoY29uc3QgY2hhciAqZ2l0X2RpcikKewoJY29uc3QgY2hhciAqc2hhbGxvd19maWxlOwoJY29uc3QgY2hhciAqcmVwbGFjZV9yZWZfYmFzZTsKCXN0cnVjdCBzZXRfZ2l0ZGlyX2FyZ3MgYXJncyA9IHsgTlVMTCB9OwoJc3RydWN0IHN0cnZlYyB0b19mcmVlID0gU1RSVkVDX0lOSVQ7CgoJYXJncy5jb21tb25kaXIgPSBnZXRlbnZfc2FmZSgmdG9fZnJlZSwgR0lUX0NPTU1PTl9ESVJfRU5WSVJPTk1FTlQpOwoJYXJncy5vYmplY3RfZGlyID0gZ2V0ZW52X3NhZmUoJnRvX2ZyZWUsIERCX0VOVklST05NRU5UKTsKCWFyZ3MuZ3JhZnRfZmlsZSA9IGdldGVudl9zYWZlKCZ0b19mcmVlLCBHUkFGVF9FTlZJUk9OTUVOVCk7CglhcmdzLmluZGV4X2ZpbGUgPSBnZXRlbnZfc2FmZSgmdG9fZnJlZSwgSU5ERVhfRU5WSVJPTk1FTlQpOwoJYXJncy5hbHRlcm5hdGVfZGIgPSBnZXRlbnZfc2FmZSgmdG9fZnJlZSwgQUxURVJOQVRFX0RCX0VOVklST05NRU5UKTsKCWlmIChnZXRlbnYoR0lUX1FVQVJBTlRJTkVfRU5WSVJPTk1FTlQpKSB7CgkJYXJncy5kaXNhYmxlX3JlZl91cGRhdGVzID0gMTsKCX0KCglyZXBvX3NldF9naXRkaXIodGhlX3JlcG9zaXRvcnksIGdpdF9kaXIsICZhcmdzKTsKCXN0cnZlY19jbGVhcigmdG9fZnJlZSk7CgoJaWYgKGdldGVudihOT19SRVBMQUNFX09CSkVDVFNfRU5WSVJPTk1FTlQpKQoJCXJlYWRfcmVwbGFjZV9yZWZzID0gMDsKCXJlcGxhY2VfcmVmX2Jhc2UgPSBnZXRlbnYoR0lUX1JFUExBQ0VfUkVGX0JBU0VfRU5WSVJPTk1FTlQpOwoJZnJlZShnaXRfcmVwbGFjZV9yZWZfYmFzZSk7CglnaXRfcmVwbGFjZV9yZWZfYmFzZSA9IHhzdHJkdXAocmVwbGFjZV9yZWZfYmFzZSA/IHJlcGxhY2VfcmVmX2Jhc2UKCQkJCQkJCSAgOiAicmVmcy9yZXBsYWNlLyIpOwoJZnJlZShnaXRfbmFtZXNwYWNlKTsKCWdpdF9uYW1lc3BhY2UgPSBleHBhbmRfbmFtZXNwYWNlKGdldGVudihHSVRfTkFNRVNQQUNFX0VOVklST05NRU5UKSk7CglzaGFsbG93X2ZpbGUgPSBnZXRlbnYoR0lUX1NIQUxMT1dfRklMRV9FTlZJUk9OTUVOVCk7CglpZiAoc2hhbGxvd19maWxlKQoJCXNldF9hbHRlcm5hdGVfc2hhbGxvd19maWxlKHRoZV9yZXBvc2l0b3J5LCBzaGFsbG93X2ZpbGUsIDApOwp9CgppbnQgaXNfYmFyZV9yZXBvc2l0b3J5KHZvaWQpCnsKCS8qIGlmIGNvcmUuYmFyZSBpcyBub3QgJ2ZhbHNlJywgbGV0J3Mgc2VlIGlmIHRoZXJlIGlzIGEgd29yayB0cmVlICovCglyZXR1cm4gaXNfYmFyZV9yZXBvc2l0b3J5X2NmZyAmJiAhZ2V0X2dpdF93b3JrX3RyZWUoKTsKfQoKaW50IGhhdmVfZ2l0X2Rpcih2b2lkKQp7CglyZXR1cm4gc3RhcnR1cF9pbmZvLT5oYXZlX3JlcG9zaXRvcnkKCQl8fCB0aGVfcmVwb3NpdG9yeS0+Z2l0ZGlyOwp9Cgpjb25zdCBjaGFyICpnZXRfZ2l0X2Rpcih2b2lkKQp7CglpZiAoIXRoZV9yZXBvc2l0b3J5LT5naXRkaXIpCgkJQlVHKCJnaXQgZW52aXJvbm1lbnQgaGFzbid0IGJlZW4gc2V0dXAiKTsKCXJldHVybiB0aGVfcmVwb3NpdG9yeS0+Z2l0ZGlyOwp9Cgpjb25zdCBjaGFyICpnZXRfZ2l0X2NvbW1vbl9kaXIodm9pZCkKewoJaWYgKCF0aGVfcmVwb3NpdG9yeS0+Y29tbW9uZGlyKQoJCUJVRygiZ2l0IGVudmlyb25tZW50IGhhc24ndCBiZWVuIHNldHVwIik7CglyZXR1cm4gdGhlX3JlcG9zaXRvcnktPmNvbW1vbmRpcjsKfQoKY29uc3QgY2hhciAqZ2V0X2dpdF9uYW1lc3BhY2Uodm9pZCkKewoJaWYgKCFnaXRfbmFtZXNwYWNlKQoJCUJVRygiZ2l0IGVudmlyb25tZW50IGhhc24ndCBiZWVuIHNldHVwIik7CglyZXR1cm4gZ2l0X25hbWVzcGFjZTsKfQoKY29uc3QgY2hhciAqc3RyaXBfbmFtZXNwYWNlKGNvbnN0IGNoYXIgKm5hbWVzcGFjZWRfcmVmKQp7Cgljb25zdCBjaGFyICpvdXQ7CglpZiAoc2tpcF9wcmVmaXgobmFtZXNwYWNlZF9yZWYsIGdldF9naXRfbmFtZXNwYWNlKCksICZvdXQpKQoJCXJldHVybiBvdXQ7CglyZXR1cm4gTlVMTDsKfQoKY29uc3QgY2hhciAqZ2V0X3N1cGVyX3ByZWZpeCh2b2lkKQp7CglzdGF0aWMgaW50IGluaXRpYWxpemVkOwoJaWYgKCFpbml0aWFsaXplZCkgewoJCXN1cGVyX3ByZWZpeCA9IHhzdHJkdXBfb3JfbnVsbChnZXRlbnYoR0lUX1NVUEVSX1BSRUZJWF9FTlZJUk9OTUVOVCkpOwoJCWluaXRpYWxpemVkID0gMTsKCX0KCXJldHVybiBzdXBlcl9wcmVmaXg7Cn0KCnN0YXRpYyBpbnQgZ2l0X3dvcmtfdHJlZV9pbml0aWFsaXplZDsKCi8qCiAqIE5vdGUuICBUaGlzIHdvcmtzIG9ubHkgYmVmb3JlIHlvdSB1c2VkIGEgd29yayB0cmVlLiAgVGhpcyB3YXMgYWRkZWQKICogcHJpbWFyaWx5IHRvIHN1cHBvcnQgZ2l0LWNsb25lIHRvIHdvcmsgaW4gYSBuZXcgcmVwb3NpdG9yeSBpdCBqdXN0CiAqIGNyZWF0ZWQsIGFuZCBpcyBub3QgbWVhbnQgdG8gZmxpcCBiZXR3ZWVuIGRpZmZlcmVudCB3b3JrIHRyZWVzLgogKi8Kdm9pZCBzZXRfZ2l0X3dvcmtfdHJlZShjb25zdCBjaGFyICpuZXdfd29ya190cmVlKQp7CglpZiAoZ2l0X3dvcmtfdHJlZV9pbml0aWFsaXplZCkgewoJCXN0cnVjdCBzdHJidWYgcmVhbHBhdGggPSBTVFJCVUZfSU5JVDsKCgkJc3RyYnVmX3JlYWxwYXRoKCZyZWFscGF0aCwgbmV3X3dvcmtfdHJlZSwgMSk7CgkJbmV3X3dvcmtfdHJlZSA9IHJlYWxwYXRoLmJ1ZjsKCQlpZiAoc3RyY21wKG5ld193b3JrX3RyZWUsIHRoZV9yZXBvc2l0b3J5LT53b3JrdHJlZSkpCgkJCWRpZSgiaW50ZXJuYWwgZXJyb3I6IHdvcmsgdHJlZSBoYXMgYWxyZWFkeSBiZWVuIHNldFxuIgoJCQkgICAgIkN1cnJlbnQgd29ya3RyZWU6ICVzXG5OZXcgd29ya3RyZWU6ICVzIiwKCQkJICAgIHRoZV9yZXBvc2l0b3J5LT53b3JrdHJlZSwgbmV3X3dvcmtfdHJlZSk7CgkJc3RyYnVmX3JlbGVhc2UoJnJlYWxwYXRoKTsKCQlyZXR1cm47Cgl9CglnaXRfd29ya190cmVlX2luaXRpYWxpemVkID0gMTsKCXJlcG9fc2V0X3dvcmt0cmVlKHRoZV9yZXBvc2l0b3J5LCBuZXdfd29ya190cmVlKTsKfQoKY29uc3QgY2hhciAqZ2V0X2dpdF93b3JrX3RyZWUodm9pZCkKewoJcmV0dXJuIHRoZV9yZXBvc2l0b3J5LT53b3JrdHJlZTsKfQoKY2hhciAqZ2V0X29iamVjdF9kaXJlY3Rvcnkodm9pZCkKewoJaWYgKCF0aGVfcmVwb3NpdG9yeS0+b2JqZWN0cy0+b2RiKQoJCUJVRygiZ2l0IGVudmlyb25tZW50IGhhc24ndCBiZWVuIHNldHVwIik7CglyZXR1cm4gdGhlX3JlcG9zaXRvcnktPm9iamVjdHMtPm9kYi0+cGF0aDsKfQoKaW50IG9kYl9ta3N0ZW1wKHN0cnVjdCBzdHJidWYgKnRlbXBfZmlsZW5hbWUsIGNvbnN0IGNoYXIgKnBhdHRlcm4pCnsKCWludCBmZDsKCS8qCgkgKiB3ZSBsZXQgdGhlIHVtYXNrIGRvIGl0cyBqb2IsIGRvbid0IHRyeSB0byBiZSBtb3JlCgkgKiByZXN0cmljdGl2ZSBleGNlcHQgdG8gcmVtb3ZlIHdyaXRlIHBlcm1pc3Npb24uCgkgKi8KCWludCBtb2RlID0gMDQ0NDsKCWdpdF9wYXRoX2J1Zih0ZW1wX2ZpbGVuYW1lLCAib2JqZWN0cy8lcyIsIHBhdHRlcm4pOwoJZmQgPSBnaXRfbWtzdGVtcF9tb2RlKHRlbXBfZmlsZW5hbWUtPmJ1ZiwgbW9kZSk7CglpZiAoMCA8PSBmZCkKCQlyZXR1cm4gZmQ7CgoJLyogc2xvdyBwYXRoICovCgkvKiBzb21lIG1rc3RlbXAgaW1wbGVtZW50YXRpb25zIGVyYXNlIHRlbXBfZmlsZW5hbWUgb24gZmFpbHVyZSAqLwoJZ2l0X3BhdGhfYnVmKHRlbXBfZmlsZW5hbWUsICJvYmplY3RzLyVzIiwgcGF0dGVybik7CglzYWZlX2NyZWF0ZV9sZWFkaW5nX2RpcmVjdG9yaWVzKHRlbXBfZmlsZW5hbWUtPmJ1Zik7CglyZXR1cm4geG1rc3RlbXBfbW9kZSh0ZW1wX2ZpbGVuYW1lLT5idWYsIG1vZGUpOwp9CgppbnQgb2RiX3BhY2tfa2VlcChjb25zdCBjaGFyICpuYW1lKQp7CglpbnQgZmQ7CgoJZmQgPSBvcGVuKG5hbWUsIE9fUkRXUnxPX0NSRUFUfE9fRVhDTCwgMDYwMCk7CglpZiAoMCA8PSBmZCkKCQlyZXR1cm4gZmQ7CgoJLyogc2xvdyBwYXRoICovCglzYWZlX2NyZWF0ZV9sZWFkaW5nX2RpcmVjdG9yaWVzX2NvbnN0KG5hbWUpOwoJcmV0dXJuIG9wZW4obmFtZSwgT19SRFdSfE9fQ1JFQVR8T19FWENMLCAwNjAwKTsKfQoKY2hhciAqZ2V0X2luZGV4X2ZpbGUodm9pZCkKewoJaWYgKCF0aGVfcmVwb3NpdG9yeS0+aW5kZXhfZmlsZSkKCQlCVUcoImdpdCBlbnZpcm9ubWVudCBoYXNuJ3QgYmVlbiBzZXR1cCIpOwoJcmV0dXJuIHRoZV9yZXBvc2l0b3J5LT5pbmRleF9maWxlOwp9CgpjaGFyICpnZXRfZ3JhZnRfZmlsZShzdHJ1Y3QgcmVwb3NpdG9yeSAqcikKewoJaWYgKCFyLT5ncmFmdF9maWxlKQoJCUJVRygiZ2l0IGVudmlyb25tZW50IGhhc24ndCBiZWVuIHNldHVwIik7CglyZXR1cm4gci0+Z3JhZnRfZmlsZTsKfQoKc3RhdGljIHZvaWQgc2V0X2dpdF9kaXJfMShjb25zdCBjaGFyICpwYXRoKQp7Cgl4c2V0ZW52KEdJVF9ESVJfRU5WSVJPTk1FTlQsIHBhdGgsIDEpOwoJc2V0dXBfZ2l0X2VudihwYXRoKTsKfQoKc3RhdGljIHZvaWQgdXBkYXRlX3JlbGF0aXZlX2dpdGRpcihjb25zdCBjaGFyICpuYW1lLAoJCQkJICAgY29uc3QgY2hhciAqb2xkX2N3ZCwKCQkJCSAgIGNvbnN0IGNoYXIgKm5ld19jd2QsCgkJCQkgICB2b2lkICpkYXRhKQp7CgljaGFyICpwYXRoID0gcmVwYXJlbnRfcmVsYXRpdmVfcGF0aChvbGRfY3dkLCBuZXdfY3dkLCBnZXRfZ2l0X2RpcigpKTsKCXN0cnVjdCB0bXBfb2JqZGlyICp0bXBfb2JqZGlyID0gdG1wX29iamRpcl91bmFwcGx5X3ByaW1hcnlfb2RiKCk7CgoJdHJhY2VfcHJpbnRmX2tleSgmdHJhY2Vfc2V0dXBfa2V5LAoJCQkgInNldHVwOiBtb3ZlICRHSVRfRElSIHRvICclcyciLAoJCQkgcGF0aCk7CglzZXRfZ2l0X2Rpcl8xKHBhdGgpOwoJaWYgKHRtcF9vYmpkaXIpCgkJdG1wX29iamRpcl9yZWFwcGx5X3ByaW1hcnlfb2RiKHRtcF9vYmpkaXIsIG9sZF9jd2QsIG5ld19jd2QpOwoJZnJlZShwYXRoKTsKfQoKdm9pZCBzZXRfZ2l0X2Rpcihjb25zdCBjaGFyICpwYXRoLCBpbnQgbWFrZV9yZWFscGF0aCkKewoJc3RydWN0IHN0cmJ1ZiByZWFscGF0aCA9IFNUUkJVRl9JTklUOwoKCWlmIChtYWtlX3JlYWxwYXRoKSB7CgkJc3RyYnVmX3JlYWxwYXRoKCZyZWFscGF0aCwgcGF0aCwgMSk7CgkJcGF0aCA9IHJlYWxwYXRoLmJ1ZjsKCX0KCglzZXRfZ2l0X2Rpcl8xKHBhdGgpOwoJaWYgKCFpc19hYnNvbHV0ZV9wYXRoKHBhdGgpKQoJCWNoZGlyX25vdGlmeV9yZWdpc3RlcihOVUxMLCB1cGRhdGVfcmVsYXRpdmVfZ2l0ZGlyLCBOVUxMKTsKCglzdHJidWZfcmVsZWFzZSgmcmVhbHBhdGgpOwp9Cgpjb25zdCBjaGFyICpnZXRfbG9nX291dHB1dF9lbmNvZGluZyh2b2lkKQp7CglyZXR1cm4gZ2l0X2xvZ19vdXRwdXRfZW5jb2RpbmcgPyBnaXRfbG9nX291dHB1dF9lbmNvZGluZwoJCTogZ2V0X2NvbW1pdF9vdXRwdXRfZW5jb2RpbmcoKTsKfQoKY29uc3QgY2hhciAqZ2V0X2NvbW1pdF9vdXRwdXRfZW5jb2Rpbmcodm9pZCkKewoJcmV0dXJuIGdpdF9jb21taXRfZW5jb2RpbmcgPyBnaXRfY29tbWl0X2VuY29kaW5nIDogIlVURi04IjsKfQoKc3RhdGljIGludCB0aGVfc2hhcmVkX3JlcG9zaXRvcnkgPSBQRVJNX1VNQVNLOwpzdGF0aWMgaW50IG5lZWRfc2hhcmVkX3JlcG9zaXRvcnlfZnJvbV9jb25maWcgPSAxOwoKdm9pZCBzZXRfc2hhcmVkX3JlcG9zaXRvcnkoaW50IHZhbHVlKQp7Cgl0aGVfc2hhcmVkX3JlcG9zaXRvcnkgPSB2YWx1ZTsKCW5lZWRfc2hhcmVkX3JlcG9zaXRvcnlfZnJvbV9jb25maWcgPSAwOwp9CgppbnQgZ2V0X3NoYXJlZF9yZXBvc2l0b3J5KHZvaWQpCnsKCWlmIChuZWVkX3NoYXJlZF9yZXBvc2l0b3J5X2Zyb21fY29uZmlnKSB7CgkJY29uc3QgY2hhciAqdmFyID0gImNvcmUuc2hhcmVkcmVwb3NpdG9yeSI7CgkJY29uc3QgY2hhciAqdmFsdWU7CgkJaWYgKCFnaXRfY29uZmlnX2dldF92YWx1ZSh2YXIsICZ2YWx1ZSkpCgkJCXRoZV9zaGFyZWRfcmVwb3NpdG9yeSA9IGdpdF9jb25maWdfcGVybSh2YXIsIHZhbHVlKTsKCQluZWVkX3NoYXJlZF9yZXBvc2l0b3J5X2Zyb21fY29uZmlnID0gMDsKCX0KCXJldHVybiB0aGVfc2hhcmVkX3JlcG9zaXRvcnk7Cn0KCnZvaWQgcmVzZXRfc2hhcmVkX3JlcG9zaXRvcnkodm9pZCkKewoJbmVlZF9zaGFyZWRfcmVwb3NpdG9yeV9mcm9tX2NvbmZpZyA9IDE7Cn0KCmludCB1c2Vfb3B0aW9uYWxfbG9ja3Modm9pZCkKewoJcmV0dXJuIGdpdF9lbnZfYm9vbChHSVRfT1BUSU9OQUxfTE9DS1NfRU5WSVJPTk1FTlQsIDEpOwp9CgppbnQgcHJpbnRfc2hhMV9lbGxpcHNpcyh2b2lkKQp7CgkvKgoJICogRGV0ZXJtaW5lIGlmIHRoZSBjYWxsaW5nIGVudmlyb25tZW50IGNvbnRhaW5zIHRoZSB2YXJpYWJsZQoJICogR0lUX1BSSU5UX1NIQTFfRUxMSVBTSVMgc2V0IHRvICJ5ZXMiLgoJICovCglzdGF0aWMgaW50IGNhY2hlZF9yZXN1bHQgPSAtMTsgLyogdW5rbm93biAqLwoKCWlmIChjYWNoZWRfcmVzdWx0IDwgMCkgewoJCWNvbnN0IGNoYXIgKnYgPSBnZXRlbnYoIkdJVF9QUklOVF9TSEExX0VMTElQU0lTIik7CgkJY2FjaGVkX3Jlc3VsdCA9ICh2ICYmICFzdHJjYXNlY21wKHYsICJ5ZXMiKSk7Cgl9CglyZXR1cm4gY2FjaGVkX3Jlc3VsdDsKfQo=",
    "text": "/*\n * We put all the git config variables in this same object\n * file, so that programs can link against the config parser\n * without having to link against all the rest of git.\n *\n * In particular, no need to bring in libz etc unless needed,\n * even if you might want to know where the git directory etc\n * are.\n */\n#include \"cache.h\"\n#include \"branch.h\"\n#include \"environment.h\"\n#include \"repository.h\"\n#include \"config.h\"\n#include \"refs.h\"\n#include \"fmt-merge-msg.h\"\n#include \"commit.h\"\n#include \"strvec.h\"\n#include \"object-store.h\"\n#include \"tmp-objdir.h\"\n#include \"chdir-notify.h\"\n#include \"shallow.h\"\n\nint trust_executable_bit = 1;\nint trust_ctime = 1;\nint check_stat = 1;\nint has_symlinks = 1;\nint minimum_abbrev = 4, default_abbrev = -1;\nint ignore_case;\nint assume_unchanged;\nint prefer_symlink_refs;\nint is_bare_repository_cfg = -1; /* unspecified */\nint warn_ambiguous_refs = 1;\nint warn_on_object_refname_ambiguity = 1;\nint repository_format_precious_objects;\nint repository_format_worktree_config;\nconst char *git_commit_encoding;\nconst char *git_log_output_encoding;\nchar *apply_default_whitespace;\nchar *apply_default_ignorewhitespace;\nconst char *git_attributes_file;\nconst char *git_hooks_path;\nint zlib_compression_level = Z_BEST_SPEED;\nint pack_compression_level = Z_DEFAULT_COMPRESSION;\nint fsync_object_files;\nint use_fsync = -1;\nsize_t packed_git_window_size = DEFAULT_PACKED_GIT_WINDOW_SIZE;\nsize_t packed_git_limit = DEFAULT_PACKED_GIT_LIMIT;\nsize_t delta_base_cache_limit = 96 * 1024 * 1024;\nunsigned long big_file_threshold = 512 * 1024 * 1024;\nint pager_use_color = 1;\nconst char *editor_program;\nconst char *askpass_program;\nconst char *excludes_file;\nenum auto_crlf auto_crlf = AUTO_CRLF_FALSE;\nint read_replace_refs = 1;\nchar *git_replace_ref_base;\nenum eol core_eol = EOL_UNSET;\nint global_conv_flags_eol = CONV_EOL_RNDTRP_WARN;\nchar *check_roundtrip_encoding = \"SHIFT-JIS\";\nunsigned whitespace_rule_cfg = WS_DEFAULT_RULE;\nenum branch_track git_branch_track = BRANCH_TRACK_REMOTE;\nenum rebase_setup_type autorebase = AUTOREBASE_NEVER;\nenum push_default_type push_default = PUSH_DEFAULT_UNSPECIFIED;\n#ifndef OBJECT_CREATION_MODE\n#define OBJECT_CREATION_MODE OBJECT_CREATION_USES_HARDLINKS\n#endif\nenum object_creation_mode object_creation_mode = OBJECT_CREATION_MODE;\nchar *notes_ref_name;\nint grafts_replace_parents = 1;\nint core_apply_sparse_checkout;\nint core_sparse_checkout_cone;\nint merge_log_config = -1;\nint precomposed_unicode = -1; /* see probe_utf8_pathname_composition() */\nunsigned long pack_size_limit_cfg;\nenum log_refs_config log_all_ref_updates = LOG_REFS_UNSET;\n\n#ifndef PROTECT_HFS_DEFAULT\n#define PROTECT_HFS_DEFAULT 0\n#endif\nint protect_hfs = PROTECT_HFS_DEFAULT;\n\n#ifndef PROTECT_NTFS_DEFAULT\n#define PROTECT_NTFS_DEFAULT 1\n#endif\nint protect_ntfs = PROTECT_NTFS_DEFAULT;\n\n/*\n * The character that begins a commented line in user-editable file\n * that is subject to stripspace.\n */\nchar comment_line_char = '#';\nint auto_comment_line_char;\n\n/* Parallel index stat data preload? */\nint core_preload_index = 1;\n\n/* This is set by setup_git_dir_gently() and/or git_default_config() */\nchar *git_work_tree_cfg;\n\nstatic char *git_namespace;\n\nstatic char *super_prefix;\n\n/*\n * Repository-local GIT_* environment variables; see cache.h for details.\n */\nconst char * const local_repo_env[] = {\n\tALTERNATE_DB_ENVIRONMENT,\n\tCONFIG_ENVIRONMENT,\n\tCONFIG_DATA_ENVIRONMENT,\n\tCONFIG_COUNT_ENVIRONMENT,\n\tDB_ENVIRONMENT,\n\tGIT_DIR_ENVIRONMENT,\n\tGIT_WORK_TREE_ENVIRONMENT,\n\tGIT_IMPLICIT_WORK_TREE_ENVIRONMENT,\n\tGRAFT_ENVIRONMENT,\n\tINDEX_ENVIRONMENT,\n\tNO_REPLACE_OBJECTS_ENVIRONMENT,\n\tGIT_REPLACE_REF_BASE_ENVIRONMENT,\n\tGIT_PREFIX_ENVIRONMENT,\n\tGIT_SUPER_PREFIX_ENVIRONMENT,\n\tGIT_SHALLOW_FILE_ENVIRONMENT,\n\tGIT_COMMON_DIR_ENVIRONMENT,\n\tNULL\n};\n\nstatic char *expand_namespace(const char *raw_namespace)\n{\n\tstruct strbuf buf = STRBUF_INIT;\n\tstruct strbuf **components, **c;\n\n\tif (!raw_namespace || !*raw_namespace)\n\t\treturn xstrdup(\"\");\n\n\tstrbuf_addstr(&buf, raw_namespace);\n\tcomponents = strbuf_split(&buf, '/');\n\tstrbuf_reset(&buf);\n\tfor (c = components; *c; c++)\n\t\tif (strcmp((*c)->buf, \"/\") != 0)\n\t\t\tstrbuf_addf(&buf, \"refs/namespaces/%s\", (*c)->buf);\n\tstrbuf_list_free(components);\n\tif (check_refname_format(buf.buf, 0))\n\t\tdie(_(\"bad git namespace path \\\"%s\\\"\"), raw_namespace);\n\tstrbuf_addch(&buf, '/');\n\treturn strbuf_detach(&buf, NULL);\n}\n\nconst char *getenv_safe(struct strvec *argv, const char *name)\n{\n\tconst char *value = getenv(name);\n\n\tif (!value)\n\t\treturn NULL;\n\n\tstrvec_push(argv, value);\n\treturn argv->v[argv->nr - 1];\n}\n\nvoid setup_git_env(const char *git_dir)\n{\n\tconst char *shallow_file;\n\tconst char *replace_ref_base;\n\tstruct set_gitdir_args args = { NULL };\n\tstruct strvec to_free = STRVEC_INIT;\n\n\targs.commondir = getenv_safe(&to_free, GIT_COMMON_DIR_ENVIRONMENT);\n\targs.object_dir = getenv_safe(&to_free, DB_ENVIRONMENT);\n\targs.graft_file = getenv_safe(&to_free, GRAFT_ENVIRONMENT);\n\targs.index_file = getenv_safe(&to_free, INDEX_ENVIRONMENT);\n\targs.alternate_db = getenv_safe(&to_free, ALTERNATE_DB_ENVIRONMENT);\n\tif (getenv(GIT_QUARANTINE_ENVIRONMENT)) {\n\t\targs.disable_ref_updates = 1;\n\t}\n\n\trepo_set_gitdir(the_repository, git_dir, &args);\n\tstrvec_clear(&to_free);\n\n\tif (getenv(NO_REPLACE_OBJECTS_ENVIRONMENT))\n\t\tread_replace_refs = 0;\n\treplace_ref_base = getenv(GIT_REPLACE_REF_BASE_ENVIRONMENT);\n\tfree(git_replace_ref_base);\n\tgit_replace_ref_base = xstrdup(replace_ref_base ? replace_ref_base\n\t\t\t\t\t\t\t  : \"refs/replace/\");\n\tfree(git_namespace);\n\tgit_namespace = expand_namespace(getenv(GIT_NAMESPACE_ENVIRONMENT));\n\tshallow_file = getenv(GIT_SHALLOW_FILE_ENVIRONMENT);\n\tif (shallow_file)\n\t\tset_alternate_shallow_file(the_repository, shallow_file, 0);\n}\n\nint is_bare_repository(void)\n{\n\t/* if core.bare is not 'false', let's see if there is a work tree */\n\treturn is_bare_repository_cfg && !get_git_work_tree();\n}\n\nint have_git_dir(void)\n{\n\treturn startup_info->have_repository\n\t\t|| the_repository->gitdir;\n}\n\nconst char *get_git_dir(void)\n{\n\tif (!the_repository->gitdir)\n\t\tBUG(\"git environment hasn't been setup\");\n\treturn the_repository->gitdir;\n}\n\nconst char *get_git_common_dir(void)\n{\n\tif (!the_repository->commondir)\n\t\tBUG(\"git environment hasn't been setup\");\n\treturn the_repository->commondir;\n}\n\nconst char *get_git_namespace(void)\n{\n\tif (!git_namespace)\n\t\tBUG(\"git environment hasn't been setup\");\n\treturn git_namespace;\n}\n\nconst char *strip_namespace(const char *namespaced_ref)\n{\n\tconst char *out;\n\tif (skip_prefix(namespaced_ref, get_git_namespace(), &out))\n\t\treturn out;\n\treturn NULL;\n}\n\nconst char *get_super_prefix(void)\n{\n\tstatic int initialized;\n\tif (!initialized) {\n\t\tsuper_prefix = xstrdup_or_null(getenv(GIT_SUPER_PREFIX_ENVIRONMENT));\n\t\tinitialized = 1;\n\t}\n\treturn super_prefix;\n}\n\nstatic int git_work_tree_initialized;\n\n/*\n * Note.  This works only before you used a work tree.  This was added\n * primarily to support git-clone to work in a new repository it just\n * created, and is not meant to flip between different work trees.\n */\nvoid set_git_work_tree(const char *new_work_tree)\n{\n\tif (git_work_tree_initialized) {\n\t\tstruct strbuf realpath = STRBUF_INIT;\n\n\t\tstrbuf_realpath(&realpath, new_work_tree, 1);\n\t\tnew_work_tree = realpath.buf;\n\t\tif (strcmp(new_work_tree, the_repository->worktree))\n\t\t\tdie(\"internal error: work tree has already been set\\n\"\n\t\t\t    \"Current worktree: %s\\nNew worktree: %s\",\n\t\t\t    the_repository->worktree, new_work_tree);\n\t\tstrbuf_release(&realpath);\n\t\treturn;\n\t}\n\tgit_work_tree_initialized = 1;\n\trepo_set_worktree(the_repository, new_work_tree);\n}\n\nconst char *get_git_work_tree(void)\n{\n\treturn the_repository->worktree;\n}\n\nchar *get_object_directory(void)\n{\n\tif (!the_repository->objects->odb)\n\t\tBUG(\"git environment hasn't been setup\");\n\treturn the_repository->objects->odb->path;\n}\n\nint odb_mkstemp(struct strbuf *temp_filename, const char *pattern)\n{\n\tint fd;\n\t/*\n\t * we let the umask do its job, don't try to be more\n\t * restrictive except to remove write permission.\n\t */\n\tint mode = 0444;\n\tgit_path_buf(temp_filename, \"objects/%s\", pattern);\n\tfd = git_mkstemp_mode(temp_filename->buf, mode);\n\tif (0 <= fd)\n\t\treturn fd;\n\n\t/* slow path */\n\t/* some mkstemp implementations erase temp_filename on failure */\n\tgit_path_buf(temp_filename, \"objects/%s\", pattern);\n\tsafe_create_leading_directories(temp_filename->buf);\n\treturn xmkstemp_mode(temp_filename->buf, mode);\n}\n\nint odb_pack_keep(const char *name)\n{\n\tint fd;\n\n\tfd = open(name, O_RDWR|O_CREAT|O_EXCL, 0600);\n\tif (0 <= fd)\n\t\treturn fd;\n\n\t/* slow path */\n\tsafe_create_leading_directories_const(name);\n\treturn open(name, O_RDWR|O_CREAT|O_EXCL, 0600);\n}\n\nchar *get_index_file(void)\n{\n\tif (!the_repository->index_file)\n\t\tBUG(\"git environment hasn't been setup\");\n\treturn the_repository->index_file;\n}\n\nchar *get_graft_file(struct repository *r)\n{\n\tif (!r->graft_file)\n\t\tBUG(\"git environment hasn't been setup\");\n\treturn r->graft_file;\n}\n\nstatic void set_git_dir_1(const char *path)\n{\n\txsetenv(GIT_DIR_ENVIRONMENT, path, 1);\n\tsetup_git_env(path);\n}\n\nstatic void update_relative_gitdir(const char *name,\n\t\t\t\t   const char *old_cwd,\n\t\t\t\t   const char *new_cwd,\n\t\t\t\t   void *data)\n{\n\tchar *path = reparent_relative_path(old_cwd, new_cwd, get_git_dir());\n\tstruct tmp_objdir *tmp_objdir = tmp_objdir_unapply_primary_odb();\n\n\ttrace_printf_key(&trace_setup_key,\n\t\t\t \"setup: move $GIT_DIR to '%s'\",\n\t\t\t path);\n\tset_git_dir_1(path);\n\tif (tmp_objdir)\n\t\ttmp_objdir_reapply_primary_odb(tmp_objdir, old_cwd, new_cwd);\n\tfree(path);\n}\n\nvoid set_git_dir(const char *path, int make_realpath)\n{\n\tstruct strbuf realpath = STRBUF_INIT;\n\n\tif (make_realpath) {\n\t\tstrbuf_realpath(&realpath, path, 1);\n\t\tpath = realpath.buf;\n\t}\n\n\tset_git_dir_1(path);\n\tif (!is_absolute_path(path))\n\t\tchdir_notify_register(NULL, update_relative_gitdir, NULL);\n\n\tstrbuf_release(&realpath);\n}\n\nconst char *get_log_output_encoding(void)\n{\n\treturn git_log_output_encoding ? git_log_output_encoding\n\t\t: get_commit_output_encoding();\n}\n\nconst char *get_commit_output_encoding(void)\n{\n\treturn git_commit_encoding ? git_commit_encoding : \"UTF-8\";\n}\n\nstatic int the_shared_repository = PERM_UMASK;\nstatic int need_shared_repository_from_config = 1;\n\nvoid set_shared_repository(int value)\n{\n\tthe_shared_repository = value;\n\tneed_shared_repository_from_config = 0;\n}\n\nint get_shared_repository(void)\n{\n\tif (need_shared_repository_from_config) {\n\t\tconst char *var = \"core.sharedrepository\";\n\t\tconst char *value;\n\t\tif (!git_config_get_value(var, &value))\n\t\t\tthe_shared_repository = git_config_perm(var, value);\n\t\tneed_shared_repository_from_config = 0;\n\t}\n\treturn the_shared_repository;\n}\n\nvoid reset_shared_repository(void)\n{\n\tneed_shared_repository_from_config = 1;\n}\n\nint use_optional_locks(void)\n{\n\treturn git_env_bool(GIT_OPTIONAL_LOCKS_ENVIRONMENT, 1);\n}\n\nint print_sha1_ellipsis(void)\n{\n\t/*\n\t * Determine if the calling environment contains the variable\n\t * GIT_PRINT_SHA1_ELLIPSIS set to \"yes\".\n\t */\n\tstatic int cached_result = -1; /* unknown */\n\n\tif (cached_result < 0) {\n\t\tconst char *v = getenv(\"GIT_PRINT_SHA1_ELLIPSIS\");\n\t\tcached_result = (v && !strcasecmp(v, \"yes\"));\n\t}\n\treturn cached_result;\n}\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00682e638d7294b6584e4ed2f0ed7c8d2c151d6b",
  "sha1_ok": true,
  "size": 11117
}
