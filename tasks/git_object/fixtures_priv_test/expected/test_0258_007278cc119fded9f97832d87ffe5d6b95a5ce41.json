{
  "content": {
    "base64": "I2lmbmRlZiBSRVZJU0lPTl9ICiNkZWZpbmUgUkVWSVNJT05fSAoKI2luY2x1ZGUgImNvbW1pdC5oIgojaW5jbHVkZSAicGFyc2Utb3B0aW9ucy5oIgojaW5jbHVkZSAiZ3JlcC5oIgojaW5jbHVkZSAibm90ZXMuaCIKI2luY2x1ZGUgInByZXR0eS5oIgojaW5jbHVkZSAiZGlmZi5oIgojaW5jbHVkZSAiY29tbWl0LXNsYWItZGVjbC5oIgoKLyogUmVtZW1iZXIgdG8gdXBkYXRlIG9iamVjdCBmbGFnIGFsbG9jYXRpb24gaW4gb2JqZWN0LmggKi8KI2RlZmluZSBTRUVOCQkoMXU8PDApCiNkZWZpbmUgVU5JTlRFUkVTVElORyAgICgxdTw8MSkKI2RlZmluZSBUUkVFU0FNRQkoMXU8PDIpCiNkZWZpbmUgU0hPV04JCSgxdTw8MykKI2RlZmluZSBUTVBfTUFSSwkoMXU8PDQpIC8qIGZvciBpc29sYXRlZCBjYXNlczsgY2xlYW4gYWZ0ZXIgdXNlICovCiNkZWZpbmUgQk9VTkRBUlkJKDF1PDw1KQojZGVmaW5lIENISUxEX1NIT1dOCSgxdTw8NikKI2RlZmluZSBBRERFRAkJKDF1PDw3KQkvKiBQYXJlbnRzIGFscmVhZHkgcGFyc2VkIGFuZCBhZGRlZD8gKi8KI2RlZmluZSBTWU1NRVRSSUNfTEVGVAkoMXU8PDgpCiNkZWZpbmUgUEFUQ0hTQU1FCSgxdTw8OSkKI2RlZmluZSBCT1RUT00JCSgxdTw8MTApCiNkZWZpbmUgVVNFUl9HSVZFTgkoMXU8PDI1KSAvKiBnaXZlbiBkaXJlY3RseSBieSB0aGUgdXNlciAqLwojZGVmaW5lIFRSQUNLX0xJTkVBUgkoMXU8PDI2KQojZGVmaW5lIEFMTF9SRVZfRkxBR1MJKCgoMXU8PDExKS0xKSB8IFVTRVJfR0lWRU4gfCBUUkFDS19MSU5FQVIpCgojZGVmaW5lIERFQ09SQVRFX1NIT1JUX1JFRlMJMQojZGVmaW5lIERFQ09SQVRFX0ZVTExfUkVGUwkyCgpzdHJ1Y3QgcmV2X2luZm87CnN0cnVjdCBsb2dfaW5mbzsKc3RydWN0IHN0cmluZ19saXN0OwpzdHJ1Y3Qgc2F2ZWRfcGFyZW50czsKZGVmaW5lX3NoYXJlZF9jb21taXRfc2xhYihyZXZpc2lvbl9zb3VyY2VzLCBjaGFyICopOwoKc3RydWN0IHJldl9jbWRsaW5lX2luZm8gewoJdW5zaWduZWQgaW50IG5yOwoJdW5zaWduZWQgaW50IGFsbG9jOwoJc3RydWN0IHJldl9jbWRsaW5lX2VudHJ5IHsKCQlzdHJ1Y3Qgb2JqZWN0ICppdGVtOwoJCWNvbnN0IGNoYXIgKm5hbWU7CgkJZW51bSB7CgkJCVJFVl9DTURfUkVGLAoJCQlSRVZfQ01EX1BBUkVOVFNfT05MWSwKCQkJUkVWX0NNRF9MRUZULAoJCQlSRVZfQ01EX1JJR0hULAoJCQlSRVZfQ01EX01FUkdFX0JBU0UsCgkJCVJFVl9DTURfUkVWCgkJfSB3aGVuY2U7CgkJdW5zaWduZWQgZmxhZ3M7Cgl9ICpyZXY7Cn07CgojZGVmaW5lIFJFVklTSU9OX1dBTEtfV0FMSyAwCiNkZWZpbmUgUkVWSVNJT05fV0FMS19OT19XQUxLX1NPUlRFRCAxCiNkZWZpbmUgUkVWSVNJT05fV0FMS19OT19XQUxLX1VOU09SVEVEIDIKCnN0cnVjdCByZXZfaW5mbyB7CgkvKiBTdGFydGluZyBsaXN0ICovCglzdHJ1Y3QgY29tbWl0X2xpc3QgKmNvbW1pdHM7CglzdHJ1Y3Qgb2JqZWN0X2FycmF5IHBlbmRpbmc7CgoJLyogUGFyZW50cyBvZiBzaG93biBjb21taXRzICovCglzdHJ1Y3Qgb2JqZWN0X2FycmF5IGJvdW5kYXJ5X2NvbW1pdHM7CgoJLyogVGhlIGVuZC1wb2ludHMgc3BlY2lmaWVkIGJ5IHRoZSBlbmQgdXNlciAqLwoJc3RydWN0IHJldl9jbWRsaW5lX2luZm8gY21kbGluZTsKCgkvKiBleGNsdWRpbmcgZnJvbSAtLWJyYW5jaGVzLCAtLXJlZnMsIGV0Yy4gZXhwYW5zaW9uICovCglzdHJ1Y3Qgc3RyaW5nX2xpc3QgKnJlZl9leGNsdWRlczsKCgkvKiBCYXNpYyBpbmZvcm1hdGlvbiAqLwoJY29uc3QgY2hhciAqcHJlZml4OwoJY29uc3QgY2hhciAqZGVmOwoJc3RydWN0IHBhdGhzcGVjIHBydW5lX2RhdGE7CgoJLyoKCSAqIFdoZXRoZXIgdGhlIGFyZ3VtZW50cyBwYXJzZWQgYnkgc2V0dXBfcmV2aXNpb25zKCkgaW5jbHVkZWQgYW55CgkgKiAiaW5wdXQiIHJldmlzaW9ucyB0aGF0IG1pZ2h0IHN0aWxsIGhhdmUgeWllbGRlZCBhbiBlbXB0eSBwZW5kaW5nCgkgKiBsaXN0IChlLmcuLCBwYXR0ZXJucyBsaWtlICItLWFsbCIgb3IgIi0tZ2xvYiIpLgoJICovCglpbnQgcmV2X2lucHV0X2dpdmVuOwoKCS8qIHRvcG8tc29ydCAqLwoJZW51bSByZXZfc29ydF9vcmRlciBzb3J0X29yZGVyOwoKCXVuc2lnbmVkIGludCBlYXJseV9vdXRwdXQ7CgoJdW5zaWduZWQgaW50CWlnbm9yZV9taXNzaW5nOjEsCgkJCWlnbm9yZV9taXNzaW5nX2xpbmtzOjE7CgoJLyogVHJhdmVyc2FsIGZsYWdzICovCgl1bnNpZ25lZCBpbnQJZGVuc2U6MSwKCQkJcHJ1bmU6MSwKCQkJbm9fd2FsazoyLAoJCQlyZW1vdmVfZW1wdHlfdHJlZXM6MSwKCQkJc2ltcGxpZnlfaGlzdG9yeToxLAoJCQl0b3BvX29yZGVyOjEsCgkJCXNpbXBsaWZ5X21lcmdlczoxLAoJCQlzaW1wbGlmeV9ieV9kZWNvcmF0aW9uOjEsCgkJCXNpbmdsZV93b3JrdHJlZToxLAoJCQl0YWdfb2JqZWN0czoxLAoJCQl0cmVlX29iamVjdHM6MSwKCQkJYmxvYl9vYmplY3RzOjEsCgkJCXZlcmlmeV9vYmplY3RzOjEsCgkJCWVkZ2VfaGludDoxLAoJCQllZGdlX2hpbnRfYWdncmVzc2l2ZToxLAoJCQlsaW1pdGVkOjEsCgkJCXVucGFja2VkOjEsCgkJCWJvdW5kYXJ5OjIsCgkJCWNvdW50OjEsCgkJCWxlZnRfcmlnaHQ6MSwKCQkJbGVmdF9vbmx5OjEsCgkJCXJpZ2h0X29ubHk6MSwKCQkJcmV3cml0ZV9wYXJlbnRzOjEsCgkJCXByaW50X3BhcmVudHM6MSwKCQkJc2hvd19kZWNvcmF0aW9uczoxLAoJCQlyZXZlcnNlOjEsCgkJCXJldmVyc2Vfb3V0cHV0X3N0YWdlOjEsCgkJCWNoZXJyeV9waWNrOjEsCgkJCWNoZXJyeV9tYXJrOjEsCgkJCWJpc2VjdDoxLAoJCQlhbmNlc3RyeV9wYXRoOjEsCgkJCWZpcnN0X3BhcmVudF9vbmx5OjEsCgkJCWxpbmVfbGV2ZWxfdHJhdmVyc2U6MSwKCQkJdHJlZV9ibG9ic19pbl9jb21taXRfb3JkZXI6MSwKCgkJCS8qIGZvciBpbnRlcm5hbCB1c2Ugb25seSAqLwoJCQlleGNsdWRlX3Byb21pc29yX29iamVjdHM6MTsKCgkvKiBEaWZmIGZsYWdzICovCgl1bnNpZ25lZCBpbnQJZGlmZjoxLAoJCQlmdWxsX2RpZmY6MSwKCQkJc2hvd19yb290X2RpZmY6MSwKCQkJbm9fY29tbWl0X2lkOjEsCgkJCXZlcmJvc2VfaGVhZGVyOjEsCgkJCWlnbm9yZV9tZXJnZXM6MSwKCQkJY29tYmluZV9tZXJnZXM6MSwKCQkJZGVuc2VfY29tYmluZWRfbWVyZ2VzOjEsCgkJCWFsd2F5c19zaG93X2hlYWRlcjoxOwoKCS8qIEZvcm1hdCBpbmZvICovCgl1bnNpZ25lZCBpbnQJc2hvd25fb25lOjEsCgkJCXNob3duX2Rhc2hlczoxLAoJCQlzaG93X21lcmdlOjEsCgkJCXNob3dfbm90ZXM6MSwKCQkJc2hvd19ub3Rlc19naXZlbjoxLAoJCQlzaG93X3NpZ25hdHVyZToxLAoJCQlwcmV0dHlfZ2l2ZW46MSwKCQkJYWJicmV2X2NvbW1pdDoxLAoJCQlhYmJyZXZfY29tbWl0X2dpdmVuOjEsCgkJCXplcm9fY29tbWl0OjEsCgkJCXVzZV90ZXJtaW5hdG9yOjEsCgkJCW1pc3NpbmdfbmV3bGluZToxLAoJCQlkYXRlX21vZGVfZXhwbGljaXQ6MSwKCQkJcHJlc2VydmVfc3ViamVjdDoxOwoJdW5zaWduZWQgaW50CWRpc2FibGVfc3RkaW46MTsKCS8qIC0tc2hvdy1saW5lYXItYnJlYWsgKi8KCXVuc2lnbmVkIGludAl0cmFja19saW5lYXI6MSwKCQkJdHJhY2tfZmlyc3RfdGltZToxLAoJCQlsaW5lYXI6MTsKCglzdHJ1Y3QgZGF0ZV9tb2RlIGRhdGVfbW9kZTsKCWludAkJZXhwYW5kX3RhYnNfaW5fbG9nOyAvKiB1bnNldCBpZiBuZWdhdGl2ZSAqLwoJaW50CQlleHBhbmRfdGFic19pbl9sb2dfZGVmYXVsdDsKCgl1bnNpZ25lZCBpbnQJYWJicmV2OwoJZW51bSBjbWl0X2ZtdAljb21taXRfZm9ybWF0OwoJc3RydWN0IGxvZ19pbmZvICpsb2dpbmZvOwoJaW50CQluciwgdG90YWw7Cgljb25zdCBjaGFyCSptaW1lX2JvdW5kYXJ5OwoJY29uc3QgY2hhcgkqcGF0Y2hfc3VmZml4OwoJaW50CQludW1iZXJlZF9maWxlczsKCWludAkJcmVyb2xsX2NvdW50OwoJY2hhcgkJKm1lc3NhZ2VfaWQ7CglzdHJ1Y3QgaWRlbnRfc3BsaXQgZnJvbV9pZGVudDsKCXN0cnVjdCBzdHJpbmdfbGlzdCAqcmVmX21lc3NhZ2VfaWRzOwoJaW50CQlhZGRfc2lnbm9mZjsKCWNvbnN0IGNoYXIJKmV4dHJhX2hlYWRlcnM7Cgljb25zdCBjaGFyCSpsb2dfcmVlbmNvZGU7Cgljb25zdCBjaGFyCSpzdWJqZWN0X3ByZWZpeDsKCWludAkJbm9faW5saW5lOwoJaW50CQlzaG93X2xvZ19zaXplOwoJc3RydWN0IHN0cmluZ19saXN0ICptYWlsbWFwOwoKCS8qIEZpbHRlciBieSBjb21taXQgbG9nIG1lc3NhZ2UgKi8KCXN0cnVjdCBncmVwX29wdAlncmVwX2ZpbHRlcjsKCS8qIE5lZ2F0ZSB0aGUgbWF0Y2ggb2YgZ3JlcF9maWx0ZXIgKi8KCWludCBpbnZlcnRfZ3JlcDsKCgkvKiBEaXNwbGF5IGhpc3RvcnkgZ3JhcGggKi8KCXN0cnVjdCBnaXRfZ3JhcGggKmdyYXBoOwoKCS8qIHNwZWNpYWwgbGltaXRzICovCglpbnQgc2tpcF9jb3VudDsKCWludCBtYXhfY291bnQ7Cgl0aW1lc3RhbXBfdCBtYXhfYWdlOwoJdGltZXN0YW1wX3QgbWluX2FnZTsKCWludCBtaW5fcGFyZW50czsKCWludCBtYXhfcGFyZW50czsKCWludCAoKmluY2x1ZGVfY2hlY2spKHN0cnVjdCBjb21taXQgKiwgdm9pZCAqKTsKCXZvaWQgKmluY2x1ZGVfY2hlY2tfZGF0YTsKCgkvKiBkaWZmIGluZm8gZm9yIHBhdGNoZXMgYW5kIGZvciBwYXRocyBsaW1pdGluZyAqLwoJc3RydWN0IGRpZmZfb3B0aW9ucyBkaWZmb3B0OwoJc3RydWN0IGRpZmZfb3B0aW9ucyBwcnVuaW5nOwoKCXN0cnVjdCByZWZsb2dfd2Fsa19pbmZvICpyZWZsb2dfaW5mbzsKCXN0cnVjdCBkZWNvcmF0aW9uIGNoaWxkcmVuOwoJc3RydWN0IGRlY29yYXRpb24gbWVyZ2Vfc2ltcGxpZmljYXRpb247CglzdHJ1Y3QgZGVjb3JhdGlvbiB0cmVlc2FtZTsKCgkvKiBub3Rlcy1zcGVjaWZpYyBvcHRpb25zOiB3aGljaCByZWZzIHRvIHNob3cgKi8KCXN0cnVjdCBkaXNwbGF5X25vdGVzX29wdCBub3Rlc19vcHQ7CgoJLyogY29tbWl0IGNvdW50cyAqLwoJaW50IGNvdW50X2xlZnQ7CglpbnQgY291bnRfcmlnaHQ7CglpbnQgY291bnRfc2FtZTsKCgkvKiBsaW5lIGxldmVsIHJhbmdlIHRoYXQgd2UgYXJlIGNoYXNpbmcgKi8KCXN0cnVjdCBkZWNvcmF0aW9uIGxpbmVfbG9nX2RhdGE7CgoJLyogY29waWVzIG9mIHRoZSBwYXJlbnQgbGlzdHMsIGZvciAtLWZ1bGwtZGlmZiBkaXNwbGF5ICovCglzdHJ1Y3Qgc2F2ZWRfcGFyZW50cyAqc2F2ZWRfcGFyZW50c19zbGFiOwoKCXN0cnVjdCBjb21taXRfbGlzdCAqcHJldmlvdXNfcGFyZW50czsKCWNvbnN0IGNoYXIgKmJyZWFrX2JhcjsKCglzdHJ1Y3QgcmV2aXNpb25fc291cmNlcyAqc291cmNlczsKfTsKCmludCByZWZfZXhjbHVkZWQoc3RydWN0IHN0cmluZ19saXN0ICosIGNvbnN0IGNoYXIgKnBhdGgpOwp2b2lkIGNsZWFyX3JlZl9leGNsdXNpb24oc3RydWN0IHN0cmluZ19saXN0ICoqKTsKdm9pZCBhZGRfcmVmX2V4Y2x1c2lvbihzdHJ1Y3Qgc3RyaW5nX2xpc3QgKiosIGNvbnN0IGNoYXIgKmV4Y2x1ZGUpOwoKCiNkZWZpbmUgUkVWX1RSRUVfU0FNRQkJMAojZGVmaW5lIFJFVl9UUkVFX05FVwkJMQkvKiBPbmx5IG5ldyBmaWxlcyAqLwojZGVmaW5lIFJFVl9UUkVFX09MRAkJMgkvKiBPbmx5IGZpbGVzIHJlbW92ZWQgKi8KI2RlZmluZSBSRVZfVFJFRV9ESUZGRVJFTlQJMwkvKiBNaXhlZCBjaGFuZ2VzICovCgovKiByZXZpc2lvbi5jICovCnR5cGVkZWYgdm9pZCAoKnNob3dfZWFybHlfb3V0cHV0X2ZuX3QpKHN0cnVjdCByZXZfaW5mbyAqLCBzdHJ1Y3QgY29tbWl0X2xpc3QgKik7CmV4dGVybiB2b2xhdGlsZSBzaG93X2Vhcmx5X291dHB1dF9mbl90IHNob3dfZWFybHlfb3V0cHV0OwoKc3RydWN0IHNldHVwX3JldmlzaW9uX29wdCB7Cgljb25zdCBjaGFyICpkZWY7Cgl2b2lkICgqdHdlYWspKHN0cnVjdCByZXZfaW5mbyAqLCBzdHJ1Y3Qgc2V0dXBfcmV2aXNpb25fb3B0ICopOwoJY29uc3QgY2hhciAqc3VibW9kdWxlOwoJaW50IGFzc3VtZV9kYXNoZGFzaDsKCXVuc2lnbmVkIHJldmFyZ19vcHQ7Cn07Cgp2b2lkIGluaXRfcmV2aXNpb25zKHN0cnVjdCByZXZfaW5mbyAqcmV2cywgY29uc3QgY2hhciAqcHJlZml4KTsKaW50IHNldHVwX3JldmlzaW9ucyhpbnQgYXJnYywgY29uc3QgY2hhciAqKmFyZ3YsIHN0cnVjdCByZXZfaW5mbyAqcmV2cywKCQkgICAgc3RydWN0IHNldHVwX3JldmlzaW9uX29wdCAqKTsKdm9pZCBwYXJzZV9yZXZpc2lvbl9vcHQoc3RydWN0IHJldl9pbmZvICpyZXZzLCBzdHJ1Y3QgcGFyc2Vfb3B0X2N0eF90ICpjdHgsCgkJCWNvbnN0IHN0cnVjdCBvcHRpb24gKm9wdGlvbnMsCgkJCWNvbnN0IGNoYXIgKiBjb25zdCB1c2FnZXN0cltdKTsKI2RlZmluZSBSRVZBUkdfQ0FOTk9UX0JFX0ZJTEVOQU1FIDAxCiNkZWZpbmUgUkVWQVJHX0NPTU1JVFRJU0ggMDIKaW50IGhhbmRsZV9yZXZpc2lvbl9hcmcoY29uc3QgY2hhciAqYXJnLCBzdHJ1Y3QgcmV2X2luZm8gKnJldnMsCgkJCWludCBmbGFncywgdW5zaWduZWQgcmV2YXJnX29wdCk7Cgp2b2lkIHJlc2V0X3JldmlzaW9uX3dhbGsodm9pZCk7CmludCBwcmVwYXJlX3JldmlzaW9uX3dhbGsoc3RydWN0IHJldl9pbmZvICpyZXZzKTsKc3RydWN0IGNvbW1pdCAqZ2V0X3JldmlzaW9uKHN0cnVjdCByZXZfaW5mbyAqcmV2cyk7CmNoYXIgKmdldF9yZXZpc2lvbl9tYXJrKGNvbnN0IHN0cnVjdCByZXZfaW5mbyAqcmV2cywKCQkJY29uc3Qgc3RydWN0IGNvbW1pdCAqY29tbWl0KTsKdm9pZCBwdXRfcmV2aXNpb25fbWFyayhjb25zdCBzdHJ1Y3QgcmV2X2luZm8gKnJldnMsCgkJICAgICAgIGNvbnN0IHN0cnVjdCBjb21taXQgKmNvbW1pdCk7Cgp2b2lkIG1hcmtfcGFyZW50c191bmludGVyZXN0aW5nKHN0cnVjdCBjb21taXQgKmNvbW1pdCk7CnZvaWQgbWFya190cmVlX3VuaW50ZXJlc3Rpbmcoc3RydWN0IHRyZWUgKnRyZWUpOwoKdm9pZCBzaG93X29iamVjdF93aXRoX25hbWUoRklMRSAqLCBzdHJ1Y3Qgb2JqZWN0ICosIGNvbnN0IGNoYXIgKik7Cgp2b2lkIGFkZF9wZW5kaW5nX29iamVjdChzdHJ1Y3QgcmV2X2luZm8gKnJldnMsCgkJCXN0cnVjdCBvYmplY3QgKm9iaiwgY29uc3QgY2hhciAqbmFtZSk7CnZvaWQgYWRkX3BlbmRpbmdfb2lkKHN0cnVjdCByZXZfaW5mbyAqcmV2cywKCQkgICAgIGNvbnN0IGNoYXIgKm5hbWUsIGNvbnN0IHN0cnVjdCBvYmplY3RfaWQgKm9pZCwKCQkgICAgIHVuc2lnbmVkIGludCBmbGFncyk7Cgp2b2lkIGFkZF9oZWFkX3RvX3BlbmRpbmcoc3RydWN0IHJldl9pbmZvICopOwp2b2lkIGFkZF9yZWZsb2dzX3RvX3BlbmRpbmcoc3RydWN0IHJldl9pbmZvICosIHVuc2lnbmVkIGludCBmbGFncyk7CnZvaWQgYWRkX2luZGV4X29iamVjdHNfdG9fcGVuZGluZyhzdHJ1Y3QgcmV2X2luZm8gKiwgdW5zaWduZWQgaW50IGZsYWdzKTsKCmVudW0gY29tbWl0X2FjdGlvbiB7Cgljb21taXRfaWdub3JlLAoJY29tbWl0X3Nob3csCgljb21taXRfZXJyb3IKfTsKCmVudW0gY29tbWl0X2FjdGlvbiBnZXRfY29tbWl0X2FjdGlvbihzdHJ1Y3QgcmV2X2luZm8gKnJldnMsCgkJCQkgICAgIHN0cnVjdCBjb21taXQgKmNvbW1pdCk7CmVudW0gY29tbWl0X2FjdGlvbiBzaW1wbGlmeV9jb21taXQoc3RydWN0IHJldl9pbmZvICpyZXZzLAoJCQkJICAgc3RydWN0IGNvbW1pdCAqY29tbWl0KTsKCmVudW0gcmV3cml0ZV9yZXN1bHQgewoJcmV3cml0ZV9vbmVfb2ssCglyZXdyaXRlX29uZV9ub3BhcmVudHMsCglyZXdyaXRlX29uZV9lcnJvcgp9OwoKdHlwZWRlZiBlbnVtIHJld3JpdGVfcmVzdWx0ICgqcmV3cml0ZV9wYXJlbnRfZm5fdCkoc3RydWN0IHJldl9pbmZvICpyZXZzLCBzdHJ1Y3QgY29tbWl0ICoqcHApOwoKaW50IHJld3JpdGVfcGFyZW50cyhzdHJ1Y3QgcmV2X2luZm8gKnJldnMsCgkJICAgIHN0cnVjdCBjb21taXQgKmNvbW1pdCwKCQkgICAgcmV3cml0ZV9wYXJlbnRfZm5fdCByZXdyaXRlX3BhcmVudCk7CgovKgogKiBUaGUgbG9nIG1hY2hpbmVyeSBzYXZlcyB0aGUgb3JpZ2luYWwgcGFyZW50IGxpc3Qgc28gdGhhdAogKiBnZXRfc2F2ZWRfcGFyZW50cygpIGNhbiBsYXRlciB0ZWxsIHdoYXQgdGhlIHJlYWwgcGFyZW50cyBvZiB0aGUKICogY29tbWl0cyBhcmUsIHdoZW4gY29tbWl0LT5wYXJlbnRzIGhhcyBiZWVuIG1vZGlmaWVkIGJ5IGhpc3RvcnkKICogc2ltcGlmaWNhdGlvbi4KICoKICogZ2V0X3NhdmVkX3BhcmVudHMoKSB3aWxsIHRyYW5zcGFyZW50bHkgcmV0dXJuIGNvbW1pdC0+cGFyZW50cyBpZgogKiBoaXN0b3J5IHNpbXBsaWZpY2F0aW9uIGlzIG9mZi4KICovCnN0cnVjdCBjb21taXRfbGlzdCAqZ2V0X3NhdmVkX3BhcmVudHMoc3RydWN0IHJldl9pbmZvICpyZXZzLCBjb25zdCBzdHJ1Y3QgY29tbWl0ICpjb21taXQpOwoKI2VuZGlmCg==",
    "text": "#ifndef REVISION_H\n#define REVISION_H\n\n#include \"commit.h\"\n#include \"parse-options.h\"\n#include \"grep.h\"\n#include \"notes.h\"\n#include \"pretty.h\"\n#include \"diff.h\"\n#include \"commit-slab-decl.h\"\n\n/* Remember to update object flag allocation in object.h */\n#define SEEN\t\t(1u<<0)\n#define UNINTERESTING   (1u<<1)\n#define TREESAME\t(1u<<2)\n#define SHOWN\t\t(1u<<3)\n#define TMP_MARK\t(1u<<4) /* for isolated cases; clean after use */\n#define BOUNDARY\t(1u<<5)\n#define CHILD_SHOWN\t(1u<<6)\n#define ADDED\t\t(1u<<7)\t/* Parents already parsed and added? */\n#define SYMMETRIC_LEFT\t(1u<<8)\n#define PATCHSAME\t(1u<<9)\n#define BOTTOM\t\t(1u<<10)\n#define USER_GIVEN\t(1u<<25) /* given directly by the user */\n#define TRACK_LINEAR\t(1u<<26)\n#define ALL_REV_FLAGS\t(((1u<<11)-1) | USER_GIVEN | TRACK_LINEAR)\n\n#define DECORATE_SHORT_REFS\t1\n#define DECORATE_FULL_REFS\t2\n\nstruct rev_info;\nstruct log_info;\nstruct string_list;\nstruct saved_parents;\ndefine_shared_commit_slab(revision_sources, char *);\n\nstruct rev_cmdline_info {\n\tunsigned int nr;\n\tunsigned int alloc;\n\tstruct rev_cmdline_entry {\n\t\tstruct object *item;\n\t\tconst char *name;\n\t\tenum {\n\t\t\tREV_CMD_REF,\n\t\t\tREV_CMD_PARENTS_ONLY,\n\t\t\tREV_CMD_LEFT,\n\t\t\tREV_CMD_RIGHT,\n\t\t\tREV_CMD_MERGE_BASE,\n\t\t\tREV_CMD_REV\n\t\t} whence;\n\t\tunsigned flags;\n\t} *rev;\n};\n\n#define REVISION_WALK_WALK 0\n#define REVISION_WALK_NO_WALK_SORTED 1\n#define REVISION_WALK_NO_WALK_UNSORTED 2\n\nstruct rev_info {\n\t/* Starting list */\n\tstruct commit_list *commits;\n\tstruct object_array pending;\n\n\t/* Parents of shown commits */\n\tstruct object_array boundary_commits;\n\n\t/* The end-points specified by the end user */\n\tstruct rev_cmdline_info cmdline;\n\n\t/* excluding from --branches, --refs, etc. expansion */\n\tstruct string_list *ref_excludes;\n\n\t/* Basic information */\n\tconst char *prefix;\n\tconst char *def;\n\tstruct pathspec prune_data;\n\n\t/*\n\t * Whether the arguments parsed by setup_revisions() included any\n\t * \"input\" revisions that might still have yielded an empty pending\n\t * list (e.g., patterns like \"--all\" or \"--glob\").\n\t */\n\tint rev_input_given;\n\n\t/* topo-sort */\n\tenum rev_sort_order sort_order;\n\n\tunsigned int early_output;\n\n\tunsigned int\tignore_missing:1,\n\t\t\tignore_missing_links:1;\n\n\t/* Traversal flags */\n\tunsigned int\tdense:1,\n\t\t\tprune:1,\n\t\t\tno_walk:2,\n\t\t\tremove_empty_trees:1,\n\t\t\tsimplify_history:1,\n\t\t\ttopo_order:1,\n\t\t\tsimplify_merges:1,\n\t\t\tsimplify_by_decoration:1,\n\t\t\tsingle_worktree:1,\n\t\t\ttag_objects:1,\n\t\t\ttree_objects:1,\n\t\t\tblob_objects:1,\n\t\t\tverify_objects:1,\n\t\t\tedge_hint:1,\n\t\t\tedge_hint_aggressive:1,\n\t\t\tlimited:1,\n\t\t\tunpacked:1,\n\t\t\tboundary:2,\n\t\t\tcount:1,\n\t\t\tleft_right:1,\n\t\t\tleft_only:1,\n\t\t\tright_only:1,\n\t\t\trewrite_parents:1,\n\t\t\tprint_parents:1,\n\t\t\tshow_decorations:1,\n\t\t\treverse:1,\n\t\t\treverse_output_stage:1,\n\t\t\tcherry_pick:1,\n\t\t\tcherry_mark:1,\n\t\t\tbisect:1,\n\t\t\tancestry_path:1,\n\t\t\tfirst_parent_only:1,\n\t\t\tline_level_traverse:1,\n\t\t\ttree_blobs_in_commit_order:1,\n\n\t\t\t/* for internal use only */\n\t\t\texclude_promisor_objects:1;\n\n\t/* Diff flags */\n\tunsigned int\tdiff:1,\n\t\t\tfull_diff:1,\n\t\t\tshow_root_diff:1,\n\t\t\tno_commit_id:1,\n\t\t\tverbose_header:1,\n\t\t\tignore_merges:1,\n\t\t\tcombine_merges:1,\n\t\t\tdense_combined_merges:1,\n\t\t\talways_show_header:1;\n\n\t/* Format info */\n\tunsigned int\tshown_one:1,\n\t\t\tshown_dashes:1,\n\t\t\tshow_merge:1,\n\t\t\tshow_notes:1,\n\t\t\tshow_notes_given:1,\n\t\t\tshow_signature:1,\n\t\t\tpretty_given:1,\n\t\t\tabbrev_commit:1,\n\t\t\tabbrev_commit_given:1,\n\t\t\tzero_commit:1,\n\t\t\tuse_terminator:1,\n\t\t\tmissing_newline:1,\n\t\t\tdate_mode_explicit:1,\n\t\t\tpreserve_subject:1;\n\tunsigned int\tdisable_stdin:1;\n\t/* --show-linear-break */\n\tunsigned int\ttrack_linear:1,\n\t\t\ttrack_first_time:1,\n\t\t\tlinear:1;\n\n\tstruct date_mode date_mode;\n\tint\t\texpand_tabs_in_log; /* unset if negative */\n\tint\t\texpand_tabs_in_log_default;\n\n\tunsigned int\tabbrev;\n\tenum cmit_fmt\tcommit_format;\n\tstruct log_info *loginfo;\n\tint\t\tnr, total;\n\tconst char\t*mime_boundary;\n\tconst char\t*patch_suffix;\n\tint\t\tnumbered_files;\n\tint\t\treroll_count;\n\tchar\t\t*message_id;\n\tstruct ident_split from_ident;\n\tstruct string_list *ref_message_ids;\n\tint\t\tadd_signoff;\n\tconst char\t*extra_headers;\n\tconst char\t*log_reencode;\n\tconst char\t*subject_prefix;\n\tint\t\tno_inline;\n\tint\t\tshow_log_size;\n\tstruct string_list *mailmap;\n\n\t/* Filter by commit log message */\n\tstruct grep_opt\tgrep_filter;\n\t/* Negate the match of grep_filter */\n\tint invert_grep;\n\n\t/* Display history graph */\n\tstruct git_graph *graph;\n\n\t/* special limits */\n\tint skip_count;\n\tint max_count;\n\ttimestamp_t max_age;\n\ttimestamp_t min_age;\n\tint min_parents;\n\tint max_parents;\n\tint (*include_check)(struct commit *, void *);\n\tvoid *include_check_data;\n\n\t/* diff info for patches and for paths limiting */\n\tstruct diff_options diffopt;\n\tstruct diff_options pruning;\n\n\tstruct reflog_walk_info *reflog_info;\n\tstruct decoration children;\n\tstruct decoration merge_simplification;\n\tstruct decoration treesame;\n\n\t/* notes-specific options: which refs to show */\n\tstruct display_notes_opt notes_opt;\n\n\t/* commit counts */\n\tint count_left;\n\tint count_right;\n\tint count_same;\n\n\t/* line level range that we are chasing */\n\tstruct decoration line_log_data;\n\n\t/* copies of the parent lists, for --full-diff display */\n\tstruct saved_parents *saved_parents_slab;\n\n\tstruct commit_list *previous_parents;\n\tconst char *break_bar;\n\n\tstruct revision_sources *sources;\n};\n\nint ref_excluded(struct string_list *, const char *path);\nvoid clear_ref_exclusion(struct string_list **);\nvoid add_ref_exclusion(struct string_list **, const char *exclude);\n\n\n#define REV_TREE_SAME\t\t0\n#define REV_TREE_NEW\t\t1\t/* Only new files */\n#define REV_TREE_OLD\t\t2\t/* Only files removed */\n#define REV_TREE_DIFFERENT\t3\t/* Mixed changes */\n\n/* revision.c */\ntypedef void (*show_early_output_fn_t)(struct rev_info *, struct commit_list *);\nextern volatile show_early_output_fn_t show_early_output;\n\nstruct setup_revision_opt {\n\tconst char *def;\n\tvoid (*tweak)(struct rev_info *, struct setup_revision_opt *);\n\tconst char *submodule;\n\tint assume_dashdash;\n\tunsigned revarg_opt;\n};\n\nvoid init_revisions(struct rev_info *revs, const char *prefix);\nint setup_revisions(int argc, const char **argv, struct rev_info *revs,\n\t\t    struct setup_revision_opt *);\nvoid parse_revision_opt(struct rev_info *revs, struct parse_opt_ctx_t *ctx,\n\t\t\tconst struct option *options,\n\t\t\tconst char * const usagestr[]);\n#define REVARG_CANNOT_BE_FILENAME 01\n#define REVARG_COMMITTISH 02\nint handle_revision_arg(const char *arg, struct rev_info *revs,\n\t\t\tint flags, unsigned revarg_opt);\n\nvoid reset_revision_walk(void);\nint prepare_revision_walk(struct rev_info *revs);\nstruct commit *get_revision(struct rev_info *revs);\nchar *get_revision_mark(const struct rev_info *revs,\n\t\t\tconst struct commit *commit);\nvoid put_revision_mark(const struct rev_info *revs,\n\t\t       const struct commit *commit);\n\nvoid mark_parents_uninteresting(struct commit *commit);\nvoid mark_tree_uninteresting(struct tree *tree);\n\nvoid show_object_with_name(FILE *, struct object *, const char *);\n\nvoid add_pending_object(struct rev_info *revs,\n\t\t\tstruct object *obj, const char *name);\nvoid add_pending_oid(struct rev_info *revs,\n\t\t     const char *name, const struct object_id *oid,\n\t\t     unsigned int flags);\n\nvoid add_head_to_pending(struct rev_info *);\nvoid add_reflogs_to_pending(struct rev_info *, unsigned int flags);\nvoid add_index_objects_to_pending(struct rev_info *, unsigned int flags);\n\nenum commit_action {\n\tcommit_ignore,\n\tcommit_show,\n\tcommit_error\n};\n\nenum commit_action get_commit_action(struct rev_info *revs,\n\t\t\t\t     struct commit *commit);\nenum commit_action simplify_commit(struct rev_info *revs,\n\t\t\t\t   struct commit *commit);\n\nenum rewrite_result {\n\trewrite_one_ok,\n\trewrite_one_noparents,\n\trewrite_one_error\n};\n\ntypedef enum rewrite_result (*rewrite_parent_fn_t)(struct rev_info *revs, struct commit **pp);\n\nint rewrite_parents(struct rev_info *revs,\n\t\t    struct commit *commit,\n\t\t    rewrite_parent_fn_t rewrite_parent);\n\n/*\n * The log machinery saves the original parent list so that\n * get_saved_parents() can later tell what the real parents of the\n * commits are, when commit->parents has been modified by history\n * simpification.\n *\n * get_saved_parents() will transparently return commit->parents if\n * history simplification is off.\n */\nstruct commit_list *get_saved_parents(struct rev_info *revs, const struct commit *commit);\n\n#endif\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "007278cc119fded9f97832d87ffe5d6b95a5ce41",
  "sha1_ok": true,
  "size": 8281
}
