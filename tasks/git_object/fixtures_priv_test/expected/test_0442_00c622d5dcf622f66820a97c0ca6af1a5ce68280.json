{
  "content": {
    "base64": "IyEvYmluL3NoCgp0ZXN0X2Rlc2NyaXB0aW9uPSd0ZXN0IGNoZXJyeS1waWNraW5nIChhbmQgcmV2ZXJ0aW5nKSBhIHJvb3QgY29tbWl0JwoKR0lUX1RFU1RfREVGQVVMVF9JTklUSUFMX0JSQU5DSF9OQU1FPW1hc3RlcgpleHBvcnQgR0lUX1RFU1RfREVGQVVMVF9JTklUSUFMX0JSQU5DSF9OQU1FCgouIC4vdGVzdC1saWIuc2gKCnRlc3RfZXhwZWN0X3N1Y2Nlc3Mgc2V0dXAgJwoKCWVjaG8gZmlyc3QgPiBmaWxlMSAmJgoJZ2l0IGFkZCBmaWxlMSAmJgoJdGVzdF90aWNrICYmCglnaXQgY29tbWl0IC1tICJmaXJzdCIgJiYKCglnaXQgc3ltYm9saWMtcmVmIEhFQUQgcmVmcy9oZWFkcy9zZWNvbmQgJiYKCXJtIC5naXQvaW5kZXggZmlsZTEgJiYKCWVjaG8gc2Vjb25kID4gZmlsZTIgJiYKCWdpdCBhZGQgZmlsZTIgJiYKCXRlc3RfdGljayAmJgoJZ2l0IGNvbW1pdCAtbSAic2Vjb25kIiAmJgoKCWdpdCBzeW1ib2xpYy1yZWYgSEVBRCByZWZzL2hlYWRzL3RoaXJkICYmCglybSAuZ2l0L2luZGV4IGZpbGUyICYmCgllY2hvIHRoaXJkID4gZmlsZTMgJiYKCWdpdCBhZGQgZmlsZTMgJiYKCXRlc3RfdGljayAmJgoJZ2l0IGNvbW1pdCAtbSAidGhpcmQiCgonCgp0ZXN0X2V4cGVjdF9zdWNjZXNzICdjaGVycnktcGljayBhIHJvb3QgY29tbWl0JyAnCgoJZ2l0IGNoZWNrb3V0IHNlY29uZF4wICYmCglnaXQgY2hlcnJ5LXBpY2sgbWFzdGVyICYmCgllY2hvIGZpcnN0ID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBmaWxlMQoKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmV2ZXJ0IGEgcm9vdCBjb21taXQnICcKCglnaXQgcmV2ZXJ0IG1hc3RlciAmJgoJdGVzdF9wYXRoX2lzX21pc3NpbmcgZmlsZTEKCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2NoZXJyeS1waWNrIGEgcm9vdCBjb21taXQgd2l0aCBhbiBleHRlcm5hbCBzdHJhdGVneScgJwoKCWdpdCBjaGVycnktcGljayAtLXN0cmF0ZWd5PXJlc29sdmUgbWFzdGVyICYmCgllY2hvIGZpcnN0ID5leHBlY3QgJiYKCXRlc3RfY21wIGV4cGVjdCBmaWxlMQoKJwoKdGVzdF9leHBlY3Rfc3VjY2VzcyAncmV2ZXJ0IGEgcm9vdCBjb21taXQgd2l0aCBhbiBleHRlcm5hbCBzdHJhdGVneScgJwoKCWdpdCByZXZlcnQgLS1zdHJhdGVneT1yZXNvbHZlIG1hc3RlciAmJgoJdGVzdF9wYXRoX2lzX21pc3NpbmcgZmlsZTEKCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgJ2NoZXJyeS1waWNrIHR3byByb290IGNvbW1pdHMnICcKCgllY2hvIGZpcnN0ID5leHBlY3QuZmlsZTEgJiYKCWVjaG8gc2Vjb25kID5leHBlY3QuZmlsZTIgJiYKCWVjaG8gdGhpcmQgPmV4cGVjdC5maWxlMyAmJgoKCWdpdCBjaGVja291dCBzZWNvbmReMCAmJgoJZ2l0IGNoZXJyeS1waWNrIG1hc3RlciB0aGlyZCAmJgoKCXRlc3RfY21wIGV4cGVjdC5maWxlMSBmaWxlMSAmJgoJdGVzdF9jbXAgZXhwZWN0LmZpbGUyIGZpbGUyICYmCgl0ZXN0X2NtcCBleHBlY3QuZmlsZTMgZmlsZTMgJiYKCWdpdCByZXYtcGFyc2UgLS12ZXJpZnkgSEVBRF5eICYmCgl0ZXN0X211c3RfZmFpbCBnaXQgcmV2LXBhcnNlIC0tdmVyaWZ5IEhFQUReXl4KCicKCnRlc3RfZG9uZQo=",
    "text": "#!/bin/sh\n\ntest_description='test cherry-picking (and reverting) a root commit'\n\nGIT_TEST_DEFAULT_INITIAL_BRANCH_NAME=master\nexport GIT_TEST_DEFAULT_INITIAL_BRANCH_NAME\n\n. ./test-lib.sh\n\ntest_expect_success setup '\n\n\techo first > file1 &&\n\tgit add file1 &&\n\ttest_tick &&\n\tgit commit -m \"first\" &&\n\n\tgit symbolic-ref HEAD refs/heads/second &&\n\trm .git/index file1 &&\n\techo second > file2 &&\n\tgit add file2 &&\n\ttest_tick &&\n\tgit commit -m \"second\" &&\n\n\tgit symbolic-ref HEAD refs/heads/third &&\n\trm .git/index file2 &&\n\techo third > file3 &&\n\tgit add file3 &&\n\ttest_tick &&\n\tgit commit -m \"third\"\n\n'\n\ntest_expect_success 'cherry-pick a root commit' '\n\n\tgit checkout second^0 &&\n\tgit cherry-pick master &&\n\techo first >expect &&\n\ttest_cmp expect file1\n\n'\n\ntest_expect_success 'revert a root commit' '\n\n\tgit revert master &&\n\ttest_path_is_missing file1\n\n'\n\ntest_expect_success 'cherry-pick a root commit with an external strategy' '\n\n\tgit cherry-pick --strategy=resolve master &&\n\techo first >expect &&\n\ttest_cmp expect file1\n\n'\n\ntest_expect_success 'revert a root commit with an external strategy' '\n\n\tgit revert --strategy=resolve master &&\n\ttest_path_is_missing file1\n\n'\n\ntest_expect_success 'cherry-pick two root commits' '\n\n\techo first >expect.file1 &&\n\techo second >expect.file2 &&\n\techo third >expect.file3 &&\n\n\tgit checkout second^0 &&\n\tgit cherry-pick master third &&\n\n\ttest_cmp expect.file1 file1 &&\n\ttest_cmp expect.file2 file2 &&\n\ttest_cmp expect.file3 file3 &&\n\tgit rev-parse --verify HEAD^^ &&\n\ttest_must_fail git rev-parse --verify HEAD^^^\n\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "00c622d5dcf622f66820a97c0ca6af1a5ce68280",
  "sha1_ok": true,
  "size": 1565
}
