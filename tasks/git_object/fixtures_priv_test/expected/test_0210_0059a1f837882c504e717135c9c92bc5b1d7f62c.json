{
  "content": {
    "base64": "IyEvYmluL3NoCgp0ZXN0X2Rlc2NyaXB0aW9uPSdncmVwIGljYXNlIG9uIG5vbi1FbmdsaXNoIGxvY2FsZXMnCgouIC4vbGliLWdldHRleHQuc2gKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgR0VUVEVYVF9MT0NBTEUgJ3NldHVwJyAnCgl0ZXN0X3dyaXRlX2xpbmVzICJUSUxSQVVOOiBIYWxsw7MgSGVpbXVyISIgPmZpbGUgJiYKCWdpdCBhZGQgZmlsZSAmJgoJTENfQUxMPSIkaXNfSVNfbG9jYWxlIiAmJgoJZXhwb3J0IExDX0FMTAonCgp0ZXN0X2hhdmVfcHJlcmVxIEdFVFRFWFRfTE9DQUxFICYmCnRlc3QtcmVnZXggIkhBTEzDkyIgIkhhbGzDsyIgSUNBU0UgJiYKdGVzdF9zZXRfcHJlcmVxIFJFR0VYX0xPQ0FMRQoKdGVzdF9leHBlY3Rfc3VjY2VzcyBSRUdFWF9MT0NBTEUgJ2dyZXAgbGl0ZXJhbCBzdHJpbmcsIG5vIC1GJyAnCglnaXQgZ3JlcCAtaSAiVElMUkFVTjogSGFsbMOzIEhlaW11ciEiICYmCglnaXQgZ3JlcCAtaSAiVElMUkFVTjogSEFMTMOTIEhFSU1VUiEiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgR0VUVEVYVF9MT0NBTEUsUENSRSAnZ3JlcCBwY3JlIHV0Zi04IGljYXNlJyAnCglnaXQgZ3JlcCAtLXBlcmwtcmVnZXhwICAgICJUSUxSQVVOOiBILmxsw7MgSGVpbXVyISIgJiYKCWdpdCBncmVwIC0tcGVybC1yZWdleHAgLWkgIlRJTFJBVU46IEgubGzDsyBIZWltdXIhIiAmJgoJZ2l0IGdyZXAgLS1wZXJsLXJlZ2V4cCAtaSAiVElMUkFVTjogSC5MTMOTIEhFSU1VUiEiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgR0VUVEVYVF9MT0NBTEUsUENSRSAnZ3JlcCBwY3JlIHV0Zi04IHN0cmluZyB3aXRoICIrIicgJwoJdGVzdF93cml0ZV9saW5lcyAiVElMUkFVTjogSGFsbMOzw7MgSGVpbXVyISIgPmZpbGUyICYmCglnaXQgYWRkIGZpbGUyICYmCglnaXQgZ3JlcCAtbCAtLXBlcmwtcmVnZXhwICJUSUxSQVVOOiBILmxsw7MrIEhlaW11ciEiID5hY3R1YWwgJiYKCWVjaG8gZmlsZSA+ZXhwZWN0ZWQgJiYKCWVjaG8gZmlsZTIgPj5leHBlY3RlZCAmJgoJdGVzdF9jbXAgZXhwZWN0ZWQgYWN0dWFsCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgUkVHRVhfTE9DQUxFICdncmVwIGxpdGVyYWwgc3RyaW5nLCB3aXRoIC1GJyAnCglnaXQgZ3JlcCAtaSAtRiAiVElMUkFVTjogSGFsbMOzIEhlaW11ciEiICYmCglnaXQgZ3JlcCAtaSAtRiAiVElMUkFVTjogSEFMTMOTIEhFSU1VUiEiCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgUkVHRVhfTE9DQUxFICdncmVwIHN0cmluZyB3aXRoIHJlZ2V4LCB3aXRoIC1GJyAnCgl0ZXN0X3dyaXRlX2xpbmVzICJUSUxSQVVOOiBIYWxsw7MgSGVpbXVyIFthYmNdISIgPmZpbGUzICYmCglnaXQgYWRkIGZpbGUzICYmCglnaXQgZ3JlcCAtaSAtRiAiVElMUkFVTjogSGFsbMOzIEhlaW11ciBbYWJjXSEiIGZpbGUzCicKCnRlc3RfZXhwZWN0X3N1Y2Nlc3MgUkVHRVhfTE9DQUxFICdwaWNrYXhlIC1pIG9uIG5vbi1hc2NpaScgJwoJZ2l0IGNvbW1pdCAtbSBmaXJzdCAmJgoJZ2l0IGxvZyAtLWZvcm1hdD0lZiAtaSAtUyJUSUxSQVVOOiBIQUxMw5MgSEVJTVVSISIgPmFjdHVhbCAmJgoJZWNobyBmaXJzdCA+ZXhwZWN0ZWQgJiYKCXRlc3RfY21wIGV4cGVjdGVkIGFjdHVhbAonCgp0ZXN0X2RvbmUK",
    "text": "#!/bin/sh\n\ntest_description='grep icase on non-English locales'\n\n. ./lib-gettext.sh\n\ntest_expect_success GETTEXT_LOCALE 'setup' '\n\ttest_write_lines \"TILRAUN: Hall\u00f3 Heimur!\" >file &&\n\tgit add file &&\n\tLC_ALL=\"$is_IS_locale\" &&\n\texport LC_ALL\n'\n\ntest_have_prereq GETTEXT_LOCALE &&\ntest-regex \"HALL\u00d3\" \"Hall\u00f3\" ICASE &&\ntest_set_prereq REGEX_LOCALE\n\ntest_expect_success REGEX_LOCALE 'grep literal string, no -F' '\n\tgit grep -i \"TILRAUN: Hall\u00f3 Heimur!\" &&\n\tgit grep -i \"TILRAUN: HALL\u00d3 HEIMUR!\"\n'\n\ntest_expect_success GETTEXT_LOCALE,PCRE 'grep pcre utf-8 icase' '\n\tgit grep --perl-regexp    \"TILRAUN: H.ll\u00f3 Heimur!\" &&\n\tgit grep --perl-regexp -i \"TILRAUN: H.ll\u00f3 Heimur!\" &&\n\tgit grep --perl-regexp -i \"TILRAUN: H.LL\u00d3 HEIMUR!\"\n'\n\ntest_expect_success GETTEXT_LOCALE,PCRE 'grep pcre utf-8 string with \"+\"' '\n\ttest_write_lines \"TILRAUN: Hall\u00f3\u00f3 Heimur!\" >file2 &&\n\tgit add file2 &&\n\tgit grep -l --perl-regexp \"TILRAUN: H.ll\u00f3+ Heimur!\" >actual &&\n\techo file >expected &&\n\techo file2 >>expected &&\n\ttest_cmp expected actual\n'\n\ntest_expect_success REGEX_LOCALE 'grep literal string, with -F' '\n\tgit grep -i -F \"TILRAUN: Hall\u00f3 Heimur!\" &&\n\tgit grep -i -F \"TILRAUN: HALL\u00d3 HEIMUR!\"\n'\n\ntest_expect_success REGEX_LOCALE 'grep string with regex, with -F' '\n\ttest_write_lines \"TILRAUN: Hall\u00f3 Heimur [abc]!\" >file3 &&\n\tgit add file3 &&\n\tgit grep -i -F \"TILRAUN: Hall\u00f3 Heimur [abc]!\" file3\n'\n\ntest_expect_success REGEX_LOCALE 'pickaxe -i on non-ascii' '\n\tgit commit -m first &&\n\tgit log --format=%f -i -S\"TILRAUN: HALL\u00d3 HEIMUR!\" >actual &&\n\techo first >expected &&\n\ttest_cmp expected actual\n'\n\ntest_done\n",
    "type": "blob"
  },
  "kind": "blob",
  "oid": "0059a1f837882c504e717135c9c92bc5b1d7f62c",
  "sha1_ok": true,
  "size": 1596
}
